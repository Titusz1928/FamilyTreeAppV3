"use strict";(self.webpackChunkfamilytreeapp=self.webpackChunkfamilytreeapp||[]).push([[792],{896:(Mt,Fe,Z)=>{var ge={};Z.r(ge),Z.d(ge,{FirebaseError:()=>ao,SDK_VERSION:()=>ii,_DEFAULT_ENTRY_NAME:()=>Fo,_addComponent:()=>Rd,_addOrOverwriteComponent:()=>wE,_apps:()=>Rs,_clearComponents:()=>aD,_components:()=>vl,_getProvider:()=>El,_isFirebaseApp:()=>sD,_isFirebaseServerApp:()=>Vo,_registerComponent:()=>Ms,_removeServiceInstance:()=>pg,_serverApps:()=>yl,deleteApp:()=>gg,getApp:()=>wl,getApps:()=>bE,initializeApp:()=>IE,initializeServerApp:()=>cD,onLog:()=>yN,registerVersion:()=>Kn,setLogLevel:()=>lD});var p=Z(438);let Ne=null;function Ee(){return Ne}class he{}const be=new p.nKC("");let Qe=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=p.jDH({token:n,factory:()=>(0,p.WQX)(le),providedIn:"platform"})}}return n})();const De=new p.nKC("");let le=(()=>{class n extends Qe{constructor(){super(),this._doc=(0,p.WQX)(be),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ee().getBaseHref(this._doc)}onPopState(t){const r=Ee().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ee().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=p.jDH({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Re(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function nn(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function He(n){return n&&"?"!==n[0]?"?"+n:n}let It=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=p.jDH({token:n,factory:()=>(0,p.WQX)(Zt),providedIn:"root"})}}return n})();const Zr=new p.nKC("");let Zt=(()=>{class n extends It{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,p.WQX)(be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Re(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+He(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,c){const u=this.prepareExternalUrl(o+He(c));this._platformLocation.pushState(t,r,u)}replaceState(t,r,o,c){const u=this.prepareExternalUrl(o+He(c));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(Qe),p.KVO(Zr,8))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ur=(()=>{class n extends It{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Re(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,c){let u=this.prepareExternalUrl(o+He(c));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,o,c){let u=this.prepareExternalUrl(o+He(c));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(Qe),p.KVO(Zr,8))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac})}}return n})(),kn=(()=>{class n{constructor(t){this._subject=new p.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Gt(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(nn(Le(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+He(r))}normalize(t){return n.stripTrailingSlash(function ln(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Le(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}static{this.normalizeQueryParams=He}static{this.joinWithSlash=Re}static{this.stripTrailingSlash=nn}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(It))}}static{this.\u0275prov=p.jDH({token:n,factory:()=>function Eo(){return new kn((0,p.KVO)(It))}(),providedIn:"root"})}}return n})();function Le(n){return n.replace(/\/index.html$/,"")}let Ff=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new SU,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){nM("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){nM("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(p.rXU(p.c1b),p.rXU(p.C4Q))}}static{this.\u0275dir=p.FsC({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class SU{constructor(){this.$implicit=null,this.ngIf=null}}function nM(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,p.Tbb)(e)}'.`)}let Uf=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=p.$C({type:n})}static{this.\u0275inj=p.G2t({})}}return n})();const Bf="browser",Tu="server";function gy(n){return n===Bf}function my(n){return n===Tu}let hM=(()=>{class n{static{this.\u0275prov=(0,p.jDH)({token:n,providedIn:"root",factory:()=>gy((0,p.WQX)(p.Agw))?new jf((0,p.WQX)(be),window):new $f})}}return n})();class jf{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function fM(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const c=o.shadowRoot;if(c){const u=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(u)return u}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],o-c[1])}}class $f{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}var dn=Z(71);function Dn(n){return n&&(0,dn.T)(n.schedule)}function Kf(n){return n[n.length-1]}function N0(n){return(0,dn.T)(Kf(n))?n.pop():void 0}function bo(n){return Dn(Kf(n))?n.pop():void 0}function Xf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]])}return t}function Co(n){return this instanceof Co?(this.v=n,this):new Co(n)}function fs(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Lt(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(c){t[c]=n[c]&&function(u){return new Promise(function(h,g){!function o(c,u,h,g){Promise.resolve(g).then(function(_){c({value:_,done:h})},u)}(h,g,(u=n[c](u)).done,u.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Gc=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function ma(n){return(0,dn.T)(n?.then)}var Je=Z(985),Vu=Z(494);function Sn(n){return(0,dn.T)(n[Vu.s])}function nr(n){return Symbol.asyncIterator&&(0,dn.T)(n?.[Symbol.asyncIterator])}function Yf(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Lu=function _a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function yi(n){return(0,dn.T)(n?.[Lu])}function Wc(n){return function ga(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=t.apply(n,e||[]),c=[];return o=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",function u(S){return function(O){return Promise.resolve(O).then(S,I)}}),o[Symbol.asyncIterator]=function(){return this},o;function h(S,O){r[S]&&(o[S]=function(B){return new Promise(function(P,U){c.push([S,B,P,U])>1||g(S,B)})},O&&(o[S]=O(o[S])))}function g(S,O){try{!function _(S){S.value instanceof Co?Promise.resolve(S.value.v).then(E,I):A(c[0][2],S)}(r[S](O))}catch(B){A(c[0][3],B)}}function E(S){g("next",S)}function I(S){g("throw",S)}function A(S,O){S(O),c.shift(),c.length&&g(c[0][0],c[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:o}=yield Co(t.read());if(o)return yield Co(void 0);yield yield Co(r)}}finally{t.releaseLock()}})}function Ny(n){return(0,dn.T)(n?.getReader)}var OM=Z(334);function rr(n){if(n instanceof Je.c)return n;if(null!=n){if(Sn(n))return function F0(n){return new Je.c(e=>{const t=n[Vu.s]();if((0,dn.T)(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Gc(n))return function NM(n){return new Je.c(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(ma(n))return function ky(n){return new Je.c(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,OM.m)})}(n);if(nr(n))return kM(n);if(yi(n))return function nB(n){return new Je.c(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Ny(n))return function rB(n){return kM(Wc(n))}(n)}throw Yf(n)}function kM(n){return new Je.c(e=>{(function iB(n,e){var t,r,o,c;return function mi(n,e,t,r){return new(t||(t=Promise))(function(c,u){function h(E){try{_(r.next(E))}catch(I){u(I)}}function g(E){try{_(r.throw(E))}catch(I){u(I)}}function _(E){E.done?c(E.value):function o(c){return c instanceof t?c:new t(function(u){u(c)})}(E.value).then(h,g)}_((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=fs(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(u){o={error:u}}finally{try{r&&!r.done&&(c=t.return)&&(yield c.call(t))}finally{if(o)throw o.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function gs(n,e,t,r=0,o=!1){const c=e.schedule(function(){t(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(c),!o)return c}var hr=Z(974),ir=Z(360);function Fy(n,e=0){return(0,hr.N)((t,r)=>{t.subscribe((0,ir._)(r,o=>gs(r,n,()=>r.next(o),e),()=>gs(r,n,()=>r.complete(),e),o=>gs(r,n,()=>r.error(o),e)))})}function Vy(n,e=0){return(0,hr.N)((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Ly(n,e){if(!n)throw new Error("Iterable cannot be null");return new Je.c(t=>{gs(t,e,()=>{const r=n[Symbol.asyncIterator]();gs(t,e,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function Wn(n,e){return e?function lB(n,e){if(null!=n){if(Sn(n))return function oB(n,e){return rr(n).pipe(Vy(e),Fy(e))}(n,e);if(Gc(n))return function aB(n,e){return new Je.c(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(ma(n))return function sB(n,e){return rr(n).pipe(Vy(e),Fy(e))}(n,e);if(nr(n))return Ly(n,e);if(yi(n))return function V0(n,e){return new Je.c(t=>{let r;return gs(t,e,()=>{r=n[Lu](),gs(t,e,()=>{let o,c;try{({value:o,done:c}=r.next())}catch(u){return void t.error(u)}c?t.complete():t.next(o)},0,!0)}),()=>(0,dn.T)(r?.return)&&r.return()})}(n,e);if(Ny(n))return function cB(n,e){return Ly(Wc(n),e)}(n,e)}throw Yf(n)}(n,e):rr(n)}function Pe(...n){return Wn(n,bo(n))}var lt=Z(354);function Ln(n,e,t=1/0){return(0,dn.T)(e)?Ln((r,o)=>(0,lt.T)((c,u)=>e(r,c,o,u))(rr(n(r,o))),t):("number"==typeof e&&(t=e),(0,hr.N)((r,o)=>function L0(n,e,t,r,o,c,u,h){const g=[];let _=0,E=0,I=!1;const A=()=>{I&&!g.length&&!_&&e.complete()},S=B=>_<r?O(B):g.push(B),O=B=>{c&&e.next(B),_++;let P=!1;rr(t(B,E++)).subscribe((0,ir._)(e,U=>{o?.(U),c?S(U):e.next(U)},()=>{P=!0},void 0,()=>{if(P)try{for(_--;g.length&&_<r;){const U=g.shift();u?gs(e,u,()=>O(U)):O(U)}A()}catch(U){e.error(U)}}))};return n.subscribe((0,ir._)(e,S,()=>{I=!0,A()})),()=>{h?.()}}(r,o,n,t)))}function ya(n,e){return(0,dn.T)(e)?Ln(n,e,1):Ln(n,1)}var xn=Z(964),qc=Z(669);function hn(n,e,t){const r=(0,dn.T)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,hr.N)((o,c)=>{var u;null===(u=r.subscribe)||void 0===u||u.call(r);let h=!0;o.subscribe((0,ir._)(c,g=>{var _;null===(_=r.next)||void 0===_||_.call(r,g),c.next(g)},()=>{var g;h=!1,null===(g=r.complete)||void 0===g||g.call(r),c.complete()},g=>{var _;h=!1,null===(_=r.error)||void 0===_||_.call(r,g),c.error(g)},()=>{var g,_;h&&(null===(g=r.unsubscribe)||void 0===g||g.call(r)),null===(_=r.finalize)||void 0===_||_.call(r)}))}):qc.D}class Zf{}class Oi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),c=o.toLowerCase(),u=t.slice(r+1).trim();this.maybeSetNormalizedName(o,c),this.headers.has(c)?this.headers.get(c).push(u):this.headers.set(c,[u])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Oi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Oi;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Oi?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const c=e.value;if(c){let u=this.headers.get(t);if(!u)return;u=u.filter(h=>-1===c.indexOf(h)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(c=>c.toString()),o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Yi{encodeKey(e){return Jf(e)}encodeValue(e){return Jf(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const B0=/%(\d[a-f0-9])/gi,bt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Jf(n){return encodeURIComponent(n).replace(B0,(e,t)=>bt[t]??e)}function ms(n){return`${n}`}class fn{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Yi,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function U0(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const c=o.indexOf("="),[u,h]=-1==c?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,c)),e.decodeValue(o.slice(c+1))],g=t.get(u)||[];g.push(h),t.set(u,g)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],o=Array.isArray(r)?r.map(ms):[ms(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(c=>{t.push({param:r,value:c,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new fn({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ms(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(ms(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Uu{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Lr(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function j0(n){return typeof Blob<"u"&&n instanceof Blob}function ep(n){return typeof FormData<"u"&&n instanceof FormData}class fr{constructor(e,t,r,o){let c;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function va(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,c=o):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params),this.transferCache=c.transferCache),this.headers??=new Oi,this.context??=new Uu,this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+u}}else this.params=new fn,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||Lr(this.body)||j0(this.body)||ep(this.body)||function FM(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof fn?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ep(this.body)?null:j0(this.body)?this.body.type||null:Lr(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fn?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,c=e.transferCache??this.transferCache,u=void 0!==e.body?e.body:this.body,h=e.withCredentials??this.withCredentials,g=e.reportProgress??this.reportProgress;let _=e.headers||this.headers,E=e.params||this.params;const I=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((A,S)=>A.set(S,e.setHeaders[S]),_)),e.setParams&&(E=Object.keys(e.setParams).reduce((A,S)=>A.set(S,e.setParams[S]),E)),new fr(t,r,u,{params:E,headers:_,context:I,reportProgress:g,responseType:o,withCredentials:h,transferCache:c})}}var tp=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(tp||{});class np{constructor(e,t=200,r="OK"){this.headers=e.headers||new Oi,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class _s extends np{constructor(e={}){super(e),this.type=tp.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new _s({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function Ni(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let We=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let c;if(t instanceof fr)c=t;else{let g,_;g=o.headers instanceof Oi?o.headers:new Oi(o.headers),o.params&&(_=o.params instanceof fn?o.params:new fn({fromObject:o.params})),c=new fr(t,r,void 0!==o.body?o.body:null,{headers:g,context:o.context,params:_,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}const u=Pe(c).pipe(ya(g=>this.handler.handle(g)));if(t instanceof fr||"events"===o.observe)return u;const h=u.pipe((0,xn.p)(g=>g instanceof _s));switch(o.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return h.pipe((0,lt.T)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return h.pipe((0,lt.T)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return h.pipe((0,lt.T)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return h.pipe((0,lt.T)(g=>g.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new fn).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,Ni(o,r))}post(t,r,o={}){return this.request("POST",t,Ni(o,r))}put(t,r,o={}){return this.request("PUT",t,Ni(o,r))}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(Zf))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac})}}return n})();const UM=new p.nKC(""),J0=new p.nKC(""),eC="b",tC="h",nC="s",Xy="st",Qy="u",Xc="rt",ti=new p.nKC(""),JM=["GET","HEAD"];function ap(n,e){const{isCacheActive:t,...r}=(0,p.WQX)(ti),{transferCache:o,method:c}=n;if(!t||!1===o||"POST"===c&&!r.includePostRequests&&!o||"POST"!==c&&!JM.includes(c)||!r.includeRequestsWithAuthHeaders&&function cp(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}(n)||!1===r.filter?.(n))return e(n);const u=(0,p.WQX)(p.pJN),h=(0,p.WQX)(J0,{optional:!0}),g=my((0,p.WQX)(p.Agw));if(h&&!g)throw new p.wOt(2803,!1);const _=g&&h?function ju(n,e){const t=new URL(n,"resolve://").origin,r=e[t];return r?n.replace(t,r):n}(n.url,h):n.url,E=function rC(n,e){const{params:t,method:r,responseType:o}=n,c=up(t);let u=n.serializeBody();u instanceof URLSearchParams?u=up(u):"string"!=typeof u&&(u="");const g=function iC(n){let e=0;for(const t of n)e=Math.imul(31,e)+t.charCodeAt(0)|0;return e+=2147483648,e.toString()}([r,o,e,u,c].join("|"));return(0,p.zw6)(g)}(n,_),I=u.get(E,null);let A=r.includeHeaders;if("object"==typeof o&&o.includeHeaders&&(A=o.includeHeaders),I){const{[eC]:S,[Xc]:O,[tC]:B,[nC]:P,[Xy]:U,[Qy]:K}=I;let Q=S;switch(O){case"arraybuffer":Q=(new TextEncoder).encode(S).buffer;break;case"blob":Q=new Blob([S])}let ie=new Oi(B);return Pe(new _s({body:Q,headers:ie,status:P,statusText:U,url:K}))}return e(n).pipe(hn(S=>{S instanceof _s&&g&&u.set(E,{[eC]:S.body,[tC]:lp(S.headers,A),[nC]:S.status,[Xy]:S.statusText,[Qy]:_,[Xc]:n.responseType})}))}function lp(n,e){if(!e)return{};const t={};for(const r of e){const o=n.getAll(r);null!==o&&(t[r]=o)}return t}function up(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function eP(n){return[{provide:ti,useFactory:()=>((0,p.ngT)("NgHttpTransferCache"),{isCacheActive:!0,...n})},{provide:UM,useValue:ap,multi:!0,deps:[p.pJN,ti]},{provide:p.iLQ,multi:!0,useFactory:()=>{const e=(0,p.WQX)(p.o8S),t=(0,p.WQX)(ti);return()=>{(0,p.zuW)(e).then(()=>{t.isCacheActive=!1})}}}]}class Yy extends he{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class dp extends Yy{static makeCurrent(){!function pe(n){Ne??=n}(new dp)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function tP(){return $u=$u||document.querySelector("base"),$u?$u.getAttribute("href"):null}();return null==t?null:function nP(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){$u=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Of(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let $u=null,EB=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac})}}return n})();const Hu=new p.nKC("");let ys=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(c=>c.supports(t)),!r)throw new p.wOt(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(Hu),p.KVO(p.SKi))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac})}}return n})();class hp{constructor(e){this._doc=e}}const wa="ng-app-id";let oC=(()=>{class n{constructor(t,r,o,c={}){this.doc=t,this.appId=r,this.nonce=o,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=my(c),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(o=>o.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${wa}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(t,r){const o=this.styleRef;if(o.has(t)){const c=o.get(t);return c.usage+=r,c.usage}return o.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const o=this.styleNodesInDOM,c=o?.get(r);if(c?.parentNode===t)return o.delete(r),c.removeAttribute(wa),c;{const u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=r,this.platformIsServer&&u.setAttribute(wa,this.appId),t.appendChild(u),u}}addStyleToHost(t,r){const o=this.getStyleElement(t,r),c=this.styleRef,u=c.get(r)?.elements;u?u.push(o):c.set(r,{elements:[o],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(be),p.KVO(p.sZ2),p.KVO(p.BIS,8),p.KVO(p.Agw))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac})}}return n})();const Ia={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Zy=/%COMP%/g,aC=new p.nKC("",{providedIn:"root",factory:()=>!0});function cC(n,e){return e.map(t=>t.replace(Zy,n))}let Qc=(()=>{class n{constructor(t,r,o,c,u,h,g,_=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=c,this.doc=u,this.platformId=h,this.ngZone=g,this.nonce=_,this.rendererByCompId=new Map,this.platformIsServer=my(h),this.defaultRenderer=new zu(t,u,g,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===p.gXe.ShadowDom&&(r={...r,encapsulation:p.gXe.Emulated});const o=this.getOrCreateRenderer(t,r);return o instanceof ev?o.applyToHost(t):o instanceof mp&&o.applyStyles(),o}getOrCreateRenderer(t,r){const o=this.rendererByCompId;let c=o.get(r.id);if(!c){const u=this.doc,h=this.ngZone,g=this.eventManager,_=this.sharedStylesHost,E=this.removeStylesOnCompDestroy,I=this.platformIsServer;switch(r.encapsulation){case p.gXe.Emulated:c=new ev(g,_,r,this.appId,E,u,h,I);break;case p.gXe.ShadowDom:return new iP(g,_,t,r,u,h,this.nonce,I);default:c=new mp(g,_,r,E,u,h,I)}o.set(r.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(ys),p.KVO(oC),p.KVO(p.sZ2),p.KVO(aC),p.KVO(be),p.KVO(p.Agw),p.KVO(p.SKi),p.KVO(p.BIS))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac})}}return n})();class zu{constructor(e,t,r,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Ia[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(gp(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(gp(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new p.wOt(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const c=Ia[o];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Ia[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(p.czy.DashCase|p.czy.Important)?e.style.setProperty(t,r,o&p.czy.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&p.czy.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){null!=e&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Ee().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function gp(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class iP extends zu{constructor(e,t,r,o,c,u,h,g){super(e,c,u,g),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const _=cC(o.id,o.styles);for(const E of _){const I=document.createElement("style");h&&I.setAttribute("nonce",h),I.textContent=E,this.shadowRoot.appendChild(I)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class mp extends zu{constructor(e,t,r,o,c,u,h,g){super(e,c,u,h),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o,this.styles=g?cC(g,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ev extends mp{constructor(e,t,r,o,c,u,h,g){const _=o+"-"+r.id;super(e,t,r,c,u,h,g,_),this.contentAttr=function rP(n){return"_ngcontent-%COMP%".replace(Zy,n)}(_),this.hostAttr=function no(n){return"_nghost-%COMP%".replace(Zy,n)}(_)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let uC=(()=>{class n extends hp{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(be))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac})}}return n})();const tv=["alt","control","meta","shift"],oP={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_p={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ba=(()=>{class n extends hp{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const c=n.parseEventName(r),u=n.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ee().onAndCancel(t,c.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const c=n._normalizeKey(r.pop());let u="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),u="code."),tv.forEach(_=>{const E=r.indexOf(_);E>-1&&(r.splice(E,1),u+=_+".")}),u+=c,0!=r.length||0===c.length)return null;const g={};return g.domEventName=o,g.fullKey=u,g}static matchEventFullKeyCode(t,r){let o=oP[t.key]||t.key,c="";return r.indexOf("code.")>-1&&(o=t.code,c="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),tv.forEach(u=>{u!==o&&(0,_p[u])(t)&&(c+=u+".")}),c+=o,c===r)}static eventCallback(t,r,o){return c=>{n.matchEventFullKeyCode(c,t)&&o.runGuarded(()=>r(c))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(be))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac})}}return n})();const iv=(0,p.oH4)(p.fpN,"browser",[{provide:p.Agw,useValue:Bf},{provide:p.PLl,useValue:function Yc(){dp.makeCurrent()},multi:!0},{provide:be,useFactory:function aP(){return(0,p.TL$)(document),document},deps:[]}]),cP=new p.nKC(""),ov=[{provide:p.e01,useClass:class vB{addToWindow(e){p.JZv.getAngularTestability=(r,o=!0)=>{const c=e.findTestabilityInTree(r,o);if(null==c)throw new p.wOt(5103,!1);return c},p.JZv.getAllAngularTestabilities=()=>e.getAllTestabilities(),p.JZv.getAllAngularRootElements=()=>e.getAllRootElements(),p.JZv.frameworkStabilizers||(p.JZv.frameworkStabilizers=[]),p.JZv.frameworkStabilizers.push(r=>{const o=p.JZv.getAllAngularTestabilities();let c=o.length;const u=function(){c--,0==c&&r()};o.forEach(h=>{h.whenStable(u)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Ee().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:p.WHO,useClass:p.NYb,deps:[p.SKi,p.giA,p.e01]},{provide:p.NYb,useClass:p.NYb,deps:[p.SKi,p.giA,p.e01]}],Wu=[{provide:p.H8p,useValue:"root"},{provide:p.zcH,useFactory:function Un(){return new p.zcH},deps:[]},{provide:Hu,useClass:uC,multi:!0,deps:[be,p.SKi,p.Agw]},{provide:Hu,useClass:ba,multi:!0,deps:[be]},Qc,oC,ys,{provide:p._9s,useExisting:Qc},{provide:class pM{},useClass:EB,deps:[]},[]];let lP=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:p.sZ2,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(cP,12))}}static{this.\u0275mod=p.$C({type:n})}static{this.\u0275inj=p.G2t({providers:[...Wu,...ov],imports:[Uf,p.Hbi]})}}return n})(),yp=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(be))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),av=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=p.jDH({token:n,factory:function(r){let o=null;return o=r?new(r||n):p.KVO(TB),o},providedIn:"root"})}}return n})(),TB=(()=>{class n extends av{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case p.WPN.NONE:return r;case p.WPN.HTML:return(0,p.ZF7)(r,"HTML")?(0,p.rcV)(r):(0,p.h9k)(this._doc,String(r)).toString();case p.WPN.STYLE:return(0,p.ZF7)(r,"Style")?(0,p.rcV)(r):r;case p.WPN.SCRIPT:if((0,p.ZF7)(r,"Script"))return(0,p.rcV)(r);throw new p.wOt(5200,!1);case p.WPN.URL:return(0,p.ZF7)(r,"URL")?(0,p.rcV)(r):(0,p.$MX)(String(r));case p.WPN.RESOURCE_URL:if((0,p.ZF7)(r,"ResourceURL"))return(0,p.rcV)(r);throw new p.wOt(5201,!1);default:throw new p.wOt(5202,!1)}}bypassSecurityTrustHtml(t){return(0,p.Kcf)(t)}bypassSecurityTrustStyle(t){return(0,p.cWb)(t)}bypassSecurityTrustScript(t){return(0,p.UyX)(t)}bypassSecurityTrustUrl(t){return(0,p.osQ)(t)}bypassSecurityTrustResourceUrl(t){return(0,p.e5t)(t)}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(be))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var vs=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n}(vs||{});function Ca(...n){const e=[],t=new Set,r=t.has(vs.HttpTransferCacheOptions);for(const{\u0275providers:o,\u0275kind:c}of n)t.add(c),o.length&&e.push(o);return(0,p.EmA)([[],(0,p.M8M)(),t.has(vs.NoHttpTransferCache)||r?[]:eP({}),e])}var pn=Z(412);const{isArray:wp}=Array,{getPrototypeOf:pC,prototype:gC,keys:SB}=Object;function Ip(n){if(1===n.length){const e=n[0];if(wp(e))return{args:e,keys:null};if(function bp(n){return n&&"object"==typeof n&&pC(n)===gC}(e)){const t=SB(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:vP}=Array;function lv(n){return(0,lt.T)(e=>function en(n,e){return vP(e)?n(...e):n(e)}(n,e))}function Cp(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}function Tp(...n){const e=bo(n),t=N0(n),{args:r,keys:o}=Ip(n);if(0===r.length)return Wn([],e);const c=new Je.c(function EP(n,e,t=qc.D){return r=>{Dp(e,()=>{const{length:o}=n,c=new Array(o);let u=o,h=o;for(let g=0;g<o;g++)Dp(e,()=>{const _=Wn(n[g],e);let E=!1;_.subscribe((0,ir._)(r,I=>{c[g]=I,E||(E=!0,h--),h||r.next(t(c.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,o?u=>Cp(o,u):qc.D));return t?c.pipe(lv(t)):c}function Dp(n,e,t){n?gs(t,n,e):e()}var uv=Z(350);function Ta(n=1/0){return Ln(qc.D,n)}function Ap(...n){return function dv(){return Ta(1)}()(Wn(n,bo(n)))}function Sp(n){return new Je.c(e=>{rr(n()).subscribe(e)})}var mC=Z(203);function qu(n,e){const t=(0,dn.T)(n)?n:()=>n,r=o=>o.error(t());return new Je.c(e?o=>e.schedule(r,0,o):r)}var qn=Z(983),vi=Z(359);function xp(){return(0,hr.N)((n,e)=>{let t=null;n._refCount++;const r=(0,ir._)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,c=t;t=null,o&&(!c||o===c)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class wP extends Je.c{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,hr.S)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new vi.yU;const t=this.getSubject();e.add(this.source.subscribe((0,ir._)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=vi.yU.EMPTY)}return e}refCount(){return xp()(this)}}var gt=Z(413);function So(n,e){return(0,hr.N)((t,r)=>{let o=null,c=0,u=!1;const h=()=>u&&!o&&r.complete();t.subscribe((0,ir._)(r,g=>{o?.unsubscribe();let _=0;const E=c++;rr(n(g,E)).subscribe(o=(0,ir._)(r,I=>r.next(e?e(g,I,E,_++):I),()=>{o=null,h()}))},()=>{u=!0,h()}))})}var Ei=Z(697);function Ku(...n){const e=bo(n);return(0,hr.N)((t,r)=>{(e?Ap(n,t,e):Ap(n,t)).subscribe(r)})}var Da=Z(594);function ni(n){return(0,hr.N)((e,t)=>{let c,r=null,o=!1;r=e.subscribe((0,ir._)(t,void 0,void 0,u=>{c=rr(n(u,ni(n)(e))),r?(r.unsubscribe(),r=null,c.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,c.subscribe(t))})}var hv=Z(901);function Zc(n){return n<=0?()=>qn.w:(0,hr.N)((e,t)=>{let r=[];e.subscribe((0,ir._)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}var Qu=Z(774);function Yu(n){return(0,hr.N)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var Zu=Z(343);function xo(n){return(0,hr.N)((e,t)=>{rr(n).subscribe((0,ir._)(t,()=>t.complete(),Zu.l)),!t.closed&&e.subscribe(t)})}const ot="primary",Aa=Symbol("RouteTitle");class bP{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Jc(n){return new bP(n)}function CP(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let c=0;c<r.length;c++){const u=r[c],h=n[c];if(":"===u[0])o[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function wi(n,e){const t=n?pv(n):void 0,r=e?pv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let c=0;c<t.length;c++)if(o=t[c],!br(n[o],e[o]))return!1;return!0}function pv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function br(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,c)=>r[c]===o)}return n===e}function Rp(n){return n.length>0?n[n.length-1]:null}function Ro(n){return function Ep(n){return!!n&&(n instanceof Je.c||(0,dn.T)(n.lift)&&(0,dn.T)(n.subscribe))}(n)?n:(0,p.jNT)(n)?Wn(Promise.resolve(n)):Pe(n)}const Mp={exact:function Sa(n,e,t){if(!Ra(n.segments,e.segments)||!Ju(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Sa(n.children[r],e.children[r],t))return!1;return!0},subset:gv},TP={exact:function gr(n,e){return wi(n,e)},subset:function vC(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>br(n[t],e[t]))},ignored:()=>!0};function DP(n,e,t){return Mp[t.paths](n.root,e.root,t.matrixParams)&&TP[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function gv(n,e,t){return EC(n,e,e.segments,t)}function EC(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Ra(o,t)||e.hasChildren()||!Ju(o,t,r))}if(n.segments.length===t.length){if(!Ra(n.segments,t)||!Ju(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!gv(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(Ra(n.segments,o)&&Ju(n.segments,o,r)&&n.children[ot])&&EC(n.children[ot],e,c,r)}}function Ju(n,e,t){return e.every((r,o)=>TP[t](n[o].parameters,r.parameters))}class xa{constructor(e=new Pt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Jc(this.queryParams),this._queryParamMap}toString(){return IC.serialize(this)}}class Pt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return td(this)}}class ed{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Jc(this.parameters),this._parameterMap}toString(){return TC(this)}}function Ra(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let el=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=p.jDH({token:n,factory:()=>new Pp,providedIn:"root"})}}return n})();class Pp{parse(e){const t=new mv(e);return new xa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${tl(e.root,!0)}`,r=function xP(n){const e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(o=>`${rd(t)}=${rd(o)}`).join("&"):`${rd(t)}=${rd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function bC(n){return encodeURI(n)}(e.fragment)}`:""}`}}const IC=new Pp;function td(n){return n.segments.map(e=>TC(e)).join("/")}function tl(n,e){if(!n.hasChildren())return td(n);if(e){const t=n.children[ot]?tl(n.children[ot],!1):"",r=[];return Object.entries(n.children).forEach(([o,c])=>{o!==ot&&r.push(`${o}:${tl(c,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function AP(n,e){let t=[];return Object.entries(n.children).forEach(([r,o])=>{r===ot&&(t=t.concat(e(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==ot&&(t=t.concat(e(o,r)))}),t}(n,(r,o)=>o===ot?[tl(n.children[ot],!1)]:[`${o}:${tl(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ot]?`${td(n)}/${t[0]}`:`${td(n)}/(${t.join("//")})`}}function nd(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rd(n){return nd(n).replace(/%3B/gi,";")}function Op(n){return nd(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function id(n){return decodeURIComponent(n)}function CC(n){return id(n.replace(/\+/g,"%20"))}function TC(n){return`${Op(n.path)}${function SP(n){return Object.entries(n).map(([e,t])=>`;${Op(e)}=${Op(t)}`).join("")}(n.parameters)}`}const DC=/^[^\/()?;#]+/;function AC(n){const e=n.match(DC);return e?e[0]:""}const SC=/^[^\/()?;=#]+/,MP=/^[^=?&#]+/,PP=/^[^&#]+/;class mv{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ot]=new Pt(e,t)),r}parseSegment(){const e=AC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new p.wOt(4009,!1);return this.capture(e),new ed(id(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function RP(n){const e=n.match(SC);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=AC(this.remaining);o&&(r=o,this.capture(r))}e[id(t)]=id(r)}parseQueryParam(e){const t=function xB(n){const e=n.match(MP);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function xC(n){const e=n.match(PP);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const o=CC(t),c=CC(r);if(e.hasOwnProperty(o)){let u=e[o];Array.isArray(u)||(u=[u],e[o]=u),u.push(c)}else e[o]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=AC(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new p.wOt(4010,!1);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=ot);const u=this.parseChildren();t[c]=1===Object.keys(u).length?u[ot]:new Pt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new p.wOt(4011,!1)}}function RC(n){return n.segments.length>0?new Pt([],{[ot]:n}):n}function Mo(n){const e={};for(const[r,o]of Object.entries(n.children)){const c=Mo(o);if(r===ot&&0===c.segments.length&&c.hasChildren())for(const[u,h]of Object.entries(c.children))e[u]=h;else(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function Np(n){if(1===n.numberOfChildren&&n.children[ot]){const e=n.children[ot];return new Pt(n.segments.concat(e.segments),e.children)}return n}(new Pt(n.segments,e))}function Ma(n){return n instanceof xa}function od(n){let e;const o=RC(function t(c){const u={};for(const g of c.children){const _=t(g);u[g.outlet]=_}const h=new Pt(c.url,u);return c===n&&(e=h),h}(n.root));return e??o}function OP(n,e,t,r){let o=n;for(;o.parent;)o=o.parent;if(0===e.length)return _v(o,o,o,t,r);const c=function NP(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new OC(!0,0,n);let e=0,t=!1;const r=n.reduce((o,c,u)=>{if("object"==typeof c&&null!=c){if(c.outlets){const h={};return Object.entries(c.outlets).forEach(([g,_])=>{h[g]="string"==typeof _?_.split("/"):_}),[...o,{outlets:h}]}if(c.segmentPath)return[...o,c.segmentPath]}return"string"!=typeof c?[...o,c]:0===u?(c.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?t=!0:".."===h?e++:""!=h&&o.push(h))}),o):[...o,c]},[]);return new OC(t,e,r)}(e);if(c.toRoot())return _v(o,o,new Pt([],{}),t,r);const u=function kP(n,e,t){if(n.isAbsolute)return new Es(e,!0,0);if(!t)return new Es(e,!1,NaN);if(null===t.parent)return new Es(t,!0,0);const r=kp(n.commands[0])?0:1;return function yv(n,e,t){let r=n,o=e,c=t;for(;c>o;){if(c-=o,r=r.parent,!r)throw new p.wOt(4005,!1);o=r.segments.length}return new Es(r,!1,o-c)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(c,o,n),h=u.processChildren?ws(u.segmentGroup,u.index,c.commands):Pa(u.segmentGroup,u.index,c.commands);return _v(o,u.segmentGroup,h,t,r)}function kp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function sd(n){return"object"==typeof n&&null!=n&&n.outlets}function _v(n,e,t,r,o){let u,c={};r&&Object.entries(r).forEach(([g,_])=>{c[g]=Array.isArray(_)?_.map(E=>`${E}`):`${_}`}),u=n===e?t:PC(n,e,t);const h=RC(Mo(u));return new xa(h,c,o)}function PC(n,e,t){const r={};return Object.entries(n.children).forEach(([o,c])=>{r[o]=c===e?t:PC(c,e,t)}),new Pt(n.segments,r)}class OC{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&kp(r[0]))throw new p.wOt(4003,!1);const o=r.find(sd);if(o&&o!==Rp(r))throw new p.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Es{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Pa(n,e,t){if(n??=new Pt([],{}),0===n.segments.length&&n.hasChildren())return ws(n,e,t);const r=function Ev(n,e,t){let r=0,o=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return c;const u=n.segments[o],h=t[r];if(sd(h))break;const g=`${h}`,_=r<t.length-1?t[r+1]:null;if(o>0&&void 0===g)break;if(g&&_&&"object"==typeof _&&void 0===_.outlets){if(!Vp(g,_,u))return c;r+=2}else{if(!Vp(g,{},u))return c;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new Pt(n.segments.slice(0,r.pathIndex),{});return c.children[ot]=new Pt(n.segments.slice(r.pathIndex),n.children),ws(c,0,o)}return r.match&&0===o.length?new Pt(n.segments,{}):r.match&&!n.hasChildren()?Oa(n,e,t):r.match?ws(n,0,o):Oa(n,e,t)}function ws(n,e,t){if(0===t.length)return new Pt(n.segments,{});{const r=function vv(n){return sd(n[0])?n[0].outlets:{[ot]:n}}(t),o={};if(Object.keys(r).some(c=>c!==ot)&&n.children[ot]&&1===n.numberOfChildren&&0===n.children[ot].segments.length){const c=ws(n.children[ot],e,t);return new Pt(n.segments,c.children)}return Object.entries(r).forEach(([c,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(o[c]=Pa(n.children[c],e,u))}),Object.entries(n.children).forEach(([c,u])=>{void 0===r[c]&&(o[c]=u)}),new Pt(n.segments,o)}}function Oa(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const c=t[o];if(sd(c)){const g=Fp(c.outlets);return new Pt(r,g)}if(0===o&&kp(t[0])){r.push(new ed(n.segments[e].path,Na(t[0]))),o++;continue}const u=sd(c)?c.outlets[ot]:`${c}`,h=o<t.length-1?t[o+1]:null;u&&h&&kp(h)?(r.push(new ed(u,Na(h))),o+=2):(r.push(new ed(u,{})),o++)}return new Pt(r,{})}function Fp(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=Oa(new Pt([],{}),0,r))}),e}function Na(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Vp(n,e,t){return n==t.path&&wi(e,t.parameters)}const Is="imperative";var ft=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ft||{});class Ii{constructor(e,t){this.id=e,this.url=t}}class wv extends Ii{constructor(e,t,r="imperative",o=null){super(e,t),this.type=ft.NavigationStart,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fi extends Ii{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=ft.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var or=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(or||{}),Lp=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Lp||{});class bs extends Ii{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=ft.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nl extends Ii{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=ft.NavigationSkipped}}class Iv extends Ii{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=ft.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Up extends Ii{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=ft.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NC extends Ii{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=ft.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FP extends Ii{constructor(e,t,r,o,c){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=c,this.type=ft.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class VP extends Ii{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=ft.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ad extends Ii{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=ft.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kC{constructor(e){this.route=e,this.type=ft.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bv{constructor(e){this.route=e,this.type=ft.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class LP{constructor(e){this.snapshot=e,this.type=ft.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RB{constructor(e){this.snapshot=e,this.type=ft.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MB{constructor(e){this.snapshot=e,this.type=ft.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cd{constructor(e){this.snapshot=e,this.type=ft.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FC{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=ft.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class rl{}class il{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}}function bi(n){return n.outlet||ot}function sl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Bp{get injector(){return sl(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new ka(this.rootInjector),this.attachRef=null}}let ka=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Bp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(p.uvJ))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Fa{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Dv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Dv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Av(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Av(e,this._root).map(t=>t.value)}}function Dv(n,e){if(n===e.value)return e;for(const t of e.children){const r=Dv(n,t);if(r)return r}return null}function Av(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Av(n,t);if(r.length)return r.unshift(e),r}return[]}class ro{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Po(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class jp extends Fa{constructor(e,t){super(e),this.snapshot=t,xv(this,e)}toString(){return this.snapshot.toString()}}function Sv(n){const e=function jC(n){const c=new $p([],{},{},"",{},ot,n,null,{});return new $C("",new ro(c,[]))}(n),t=new pn.t([new ed("",{})]),r=new pn.t({}),o=new pn.t({}),c=new pn.t({}),u=new pn.t(""),h=new Va(t,r,c,u,o,ot,n,e.root);return h.snapshot=e.root,new jp(new ro(h,[]),e)}class Va{constructor(e,t,r,o,c,u,h,g){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=c,this.outlet=u,this.component=h,this._futureSnapshot=g,this.title=this.dataSubject?.pipe((0,lt.T)(_=>_[Aa]))??Pe(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,lt.T)(e=>Jc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,lt.T)(e=>Jc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function io(n,e,t="emptyOnly"){let r;const{routeConfig:o}=n;return r=null===e||"always"!==t&&""!==o?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...o?.data,...n._resolvedData}},o&&La(o)&&(r.resolve[Aa]=o.title),r}class $p{get title(){return this.data?.[Aa]}constructor(e,t,r,o,c,u,h,g,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=u,this.component=h,this.routeConfig=g,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Jc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Jc(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $C extends Fa{constructor(e,t){super(t),this.url=e,xv(this,t)}toString(){return HC(this._root)}}function xv(n,e){e.value._routerState=n,e.children.forEach(t=>xv(n,t))}function HC(n){const e=n.children.length>0?` { ${n.children.map(HC).join(", ")} } `:"";return`${n.value}${e}`}function Rv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,wi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),wi(e.params,t.params)||n.paramsSubject.next(t.params),function yC(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!wi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),wi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Vi(n,e){const t=wi(n.params,e.params)&&function wC(n,e){return Ra(n,e)&&n.every((t,r)=>wi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Vi(n.parent,e.parent))}function La(n){return"string"==typeof n.title||null===n.title}let zC=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ot,this.activateEvents=new p.bkB,this.deactivateEvents=new p.bkB,this.attachEvents=new p.bkB,this.detachEvents=new p.bkB,this.parentContexts=(0,p.WQX)(ka),this.location=(0,p.WQX)(p.c1b),this.changeDetector=(0,p.WQX)(p.gRc),this.inputBinder=(0,p.WQX)(Hp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.wOt(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new p.wOt(4013,!1);this._activatedRoute=t;const o=this.location,u=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,g=new Mv(t,h,o.injector);this.activated=o.createComponent(u,{index:o.length,injector:g,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=p.FsC({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.OA$]})}}return n})();class Mv{__ngOutletInjector(e){return new Mv(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Va?this.route:e===ka?this.childContexts:this.parent.get(e,t)}}const Hp=new p.nKC("");let GC=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,o=Tp([r.queryParams,r.params,r.data]).pipe(So(([c,u,h],g)=>(h={...c,...u,...h},0===g?Pe(h):Promise.resolve(h)))).subscribe(c=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const u=(0,p.HJs)(r.component);if(u)for(const{templateName:h}of u.inputs)t.activatedComponentRef.setInput(h,c[h]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,o)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac})}}return n})();function ld(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function WC(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return ld(n,r,o);return ld(n,r)})}(n,e,t);return new ro(r,o)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const u=c.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>ld(n,h)),u}}const r=function zP(n){return new Va(new pn.t(n.url),new pn.t(n.params),new pn.t(n.queryParams),new pn.t(n.fragment),new pn.t(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(c=>ld(n,c));return new ro(r,o)}}class Pv{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}}const qC="ngNavigationCancelingError";function zp(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ma(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=ud(!1,or.Redirect);return o.url=t,o.navigationBehaviorOptions=r,o}function ud(n,e){const t=new Error(`NavigationCancelingError: ${n||""}`);return t[qC]=!0,t.cancellationCode=e,t}function al(n){return!!n&&n[qC]}class XC{constructor(e,t,r,o,c){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=c}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Rv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Po(t);e.children.forEach(c=>{const u=c.value.outlet;this.deactivateRoutes(c,o[u],r),delete o[u]}),Object.values(o).forEach(c=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,t,r){const o=e.value,c=t?t.value:null;if(o===c)if(o.component){const u=r.getContext(o.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,c=Po(e);for(const u of Object.values(c))this.deactivateRouteAndItsChildren(u,o);if(r&&r.outlet){const u=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,c=Po(e);for(const u of Object.values(c))this.deactivateRouteAndItsChildren(u,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const o=Po(t);e.children.forEach(c=>{this.activateRoutes(c,o[c.value.outlet],r),this.forwardEvent(new cd(c.value.snapshot))}),e.children.length&&this.forwardEvent(new RB(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,c=t?t.value:null;if(Rv(o),o===c)if(o.component){const u=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const u=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const h=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Rv(h.route.value),this.activateChildRoutes(e,null,u.children)}else u.attachRef=null,u.route=o,u.outlet&&u.outlet.activateWith(o,u.injector),this.activateChildRoutes(e,null,u.children)}else this.activateChildRoutes(e,null,r)}}class WP{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ov{constructor(e,t){this.component=e,this.route=t}}function PB(n,e,t){const r=n._root;return Gp(r,e?e._root:null,t,[r.value])}function Cs(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,p.LfX)(n)?e.get(n):n:r}function Gp(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=Po(e);return n.children.forEach(u=>{(function OB(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,u=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(u&&c.routeConfig===u.routeConfig){const g=function QC(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ra(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ra(n.url,e.url)||!wi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vi(n,e)||!wi(n.queryParams,e.queryParams);default:return!Vi(n,e)}}(u,c,c.routeConfig.runGuardsAndResolvers);g?o.canActivateChecks.push(new WP(r)):(c.data=u.data,c._resolvedData=u._resolvedData),Gp(n,e,c.component?h?h.children:null:t,r,o),g&&h&&h.outlet&&h.outlet.isActivated&&o.canDeactivateChecks.push(new Ov(h.outlet.component,u))}else u&&dd(e,h,o),o.canActivateChecks.push(new WP(r)),Gp(n,null,c.component?h?h.children:null:t,r,o)})(u,c[u.value.outlet],t,r.concat([u.value]),o),delete c[u.value.outlet]}),Object.entries(c).forEach(([u,h])=>dd(h,t.getContext(u),o)),o}function dd(n,e,t){const r=Po(n),o=n.value;Object.entries(r).forEach(([c,u])=>{dd(u,o.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Ov(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function hd(n){return"function"==typeof n}function JC(n){return n instanceof uv.G||"EmptyError"===n?.name}const fd=Symbol("INITIAL_VALUE");function No(){return So(n=>Tp(n.map(e=>e.pipe((0,Ei.s)(1),Ku(fd)))).pipe((0,lt.T)(e=>{for(const t of e)if(!0!==t){if(t===fd)return fd;if(!1===t||eT(t))return t}return!0}),(0,xn.p)(e=>e!==fd),(0,Ei.s)(1)))}function eT(n){return Ma(n)||n instanceof Pv}function rT(n){return(0,mC.F)(hn(e=>{if("boolean"!=typeof e)throw zp(0,e)}),(0,lt.T)(e=>!0===e))}class Wp{constructor(e){this.segmentGroup=e||null}}class Fv extends Error{constructor(e){super(),this.urlTree=e}}function pd(n){return qu(new Wp(n))}class oO{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Pe(r);if(o.numberOfChildren>1||!o.children[ot])return qu(new p.wOt(4e3,!1));o=o.children[ot]}}applyRedirectCommands(e,t,r,o,c){if("string"!=typeof t){const h=t,{queryParams:g,fragment:_,routeConfig:E,url:I,outlet:A,params:S,data:O,title:B}=o,P=(0,p.N4e)(c,()=>h({params:S,data:O,queryParams:g,fragment:_,routeConfig:E,url:I,outlet:A,title:B}));if(P instanceof xa)throw new Fv(P);t=P}const u=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if("/"===t[0])throw new Fv(u);return u}applyRedirectCreateUrlTree(e,t,r,o){const c=this.createSegmentGroup(e,t.root,r,o);return new xa(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([o,c])=>{if("string"==typeof c&&":"===c[0]){const h=c.substring(1);r[o]=t[h]}else r[o]=c}),r}createSegmentGroup(e,t,r,o){const c=this.createSegments(e,t.segments,r,o);let u={};return Object.entries(t.children).forEach(([h,g])=>{u[h]=this.createSegmentGroup(e,g,r,o)}),new Pt(c,u)}createSegments(e,t,r,o){return t.map(c=>":"===c.path[0]?this.findPosParam(e,c,o):this.findOrReturn(c,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new p.wOt(4001,!1);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}const Kp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sO(n,e,t,r,o){const c=iT(n,e,t);return c.matched?(r=function BP(n,e){return n.providers&&!n._injector&&(n._injector=(0,p.Ol2)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function nO(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?Pe(o.map(u=>{const h=Cs(u,n);return Ro(function QP(n){return n&&hd(n.canMatch)}(h)?h.canMatch(e,t):(0,p.N4e)(n,()=>h(e,t)))})).pipe(No(),rT()):Pe(!0)}(r,e,t).pipe((0,lt.T)(u=>!0===u?c:{...Kp}))):Pe(c)}function iT(n,e,t){if("**"===e.path)return function aO(n){return{matched:!0,parameters:n.length>0?Rp(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Kp}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||CP)(t,n,e);if(!o)return{...Kp};const c={};Object.entries(o.posParams??{}).forEach(([h,g])=>{c[h]=g.path});const u=o.consumed.length>0?{...c,...o.consumed[o.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:u,positionalParamSegments:o.posParams??{}}}function oT(n,e,t,r){return t.length>0&&function Vv(n,e,t){return t.some(r=>Lv(n,e,r)&&bi(r)!==ot)}(n,t,r)?{segmentGroup:new Pt(e,lO(r,new Pt(t,n.children))),slicedSegments:[]}:0===t.length&&function NB(n,e,t){return t.some(r=>Lv(n,e,r))}(n,t,r)?{segmentGroup:new Pt(n.segments,cO(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Pt(n.segments,n.children),slicedSegments:t}}function cO(n,e,t,r){const o={};for(const c of t)if(Lv(n,e,c)&&!r[bi(c)]){const u=new Pt([],{});o[bi(c)]=u}return{...r,...o}}function lO(n,e){const t={};t[ot]=e;for(const r of n)if(""===r.path&&bi(r)!==ot){const o=new Pt([],{});t[bi(r)]=o}return t}function Lv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class kB{}class LB{constructor(e,t,r,o,c,u,h){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=c,this.paramsInheritanceStrategy=u,this.urlSerializer=h,this.applyRedirects=new oO(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new p.wOt(4002,`'${e.segmentGroup}'`)}recognize(){const e=oT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe((0,lt.T)(({children:t,rootSnapshot:r})=>{const o=new ro(r,t),c=new $C("",o),u=function MC(n,e,t=null,r=null){return OP(od(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,c.url=this.urlSerializer.serialize(u),{state:c,tree:u}}))}match(e){const t=new $p([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),ot,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ot,t).pipe((0,lt.T)(r=>({children:r,rootSnapshot:t})),ni(r=>{if(r instanceof Fv)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Wp?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,o,c){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r,c):this.processSegment(e,t,r,r.segments,o,!0,c).pipe((0,lt.T)(u=>u instanceof ro?[u]:[]))}processChildren(e,t,r,o){const c=[];for(const u of Object.keys(r.children))"primary"===u?c.unshift(u):c.push(u);return Wn(c).pipe(ya(u=>{const h=r.children[u],g=function Tv(n,e){const t=n.filter(r=>bi(r)===e);return t.push(...n.filter(r=>bi(r)!==e)),t}(t,u);return this.processSegmentGroup(e,g,h,u,o)}),function _C(n,e){return(0,hr.N)(function Xu(n,e,t,r,o){return(c,u)=>{let h=t,g=e,_=0;c.subscribe((0,ir._)(u,E=>{const I=_++;g=h?n(g,E,I):(h=!0,E),r&&u.next(g)},o&&(()=>{h&&u.next(g),u.complete()})))}}(n,e,arguments.length>=2,!0))}((u,h)=>(u.push(...h),u)),(0,hv.U)(null),function IP(n,e){const t=arguments.length>=2;return r=>r.pipe(n?(0,xn.p)((o,c)=>n(o,c,r)):qc.D,Zc(1),t?(0,hv.U)(e):(0,Qu.v)(()=>new uv.G))}(),Ln(u=>{if(null===u)return pd(r);const h=gd(u);return function UB(n){n.sort((e,t)=>e.value.outlet===ot?-1:t.value.outlet===ot?1:e.value.outlet.localeCompare(t.value.outlet))}(h),Pe(h)}))}processSegment(e,t,r,o,c,u,h){return Wn(t).pipe(ya(g=>this.processSegmentAgainstRoute(g._injector??e,t,g,r,o,c,u,h).pipe(ni(_=>{if(_ instanceof Wp)return Pe(null);throw _}))),(0,Da.$)(g=>!!g),ni(g=>{if(JC(g))return function Uv(n,e,t){return 0===e.length&&!n.children[t]}(r,o,c)?Pe(new kB):pd(r);throw g}))}processSegmentAgainstRoute(e,t,r,o,c,u,h,g){return bi(r)===u||u!==ot&&Lv(o,c,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,o,r,c,u,g):this.allowRedirects&&h?this.expandSegmentAgainstRouteUsingRedirect(e,o,t,r,c,u,g):pd(o):pd(o)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,c,u,h){const{matched:g,parameters:_,consumedSegments:E,positionalParamSegments:I,remainingSegments:A}=iT(t,o,c);if(!g)return pd(t);"string"==typeof o.redirectTo&&"/"===o.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const S=new $p(c,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jv(o),bi(o),o.component??o._loadedComponent??null,o,$v(o)),O=io(S,h,this.paramsInheritanceStrategy);S.params=Object.freeze(O.params),S.data=Object.freeze(O.data);const B=this.applyRedirects.applyRedirectCommands(E,o.redirectTo,I,S,e);return this.applyRedirects.lineralizeSegments(o,B).pipe(Ln(P=>this.processSegment(e,r,t,P.concat(A),u,!1,h)))}matchSegmentAgainstRoute(e,t,r,o,c,u){const h=sO(t,r,o,e);return"**"===r.path&&(t.children={}),h.pipe(So(g=>g.matched?this.getChildConfig(e=r._injector??e,r,o).pipe(So(({routes:_})=>{const E=r._loadedInjector??e,{parameters:I,consumedSegments:A,remainingSegments:S}=g,O=new $p(A,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jv(r),bi(r),r.component??r._loadedComponent??null,r,$v(r)),B=io(O,u,this.paramsInheritanceStrategy);O.params=Object.freeze(B.params),O.data=Object.freeze(B.data);const{segmentGroup:P,slicedSegments:U}=oT(t,A,S,_);if(0===U.length&&P.hasChildren())return this.processChildren(E,_,P,O).pipe((0,lt.T)(Q=>new ro(O,Q)));if(0===_.length&&0===U.length)return Pe(new ro(O,[]));const K=bi(r)===c;return this.processSegment(E,_,P,U,K?ot:c,!0,O).pipe((0,lt.T)(Q=>new ro(O,Q instanceof ro?[Q]:[])))})):pd(t)))}getChildConfig(e,t,r){return t.children?Pe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Pe({routes:t._loadedRoutes,injector:t._loadedInjector}):function tO(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?Pe(!0):Pe(o.map(u=>{const h=Cs(u,n);return Ro(function KP(n){return n&&hd(n.canLoad)}(h)?h.canLoad(e,t):(0,p.N4e)(n,()=>h(e,t)))})).pipe(No(),rT())}(e,t,r).pipe(Ln(o=>o?this.configLoader.loadChildren(e,t).pipe(hn(c=>{t._loadedRoutes=c.routes,t._loadedInjector=c.injector})):function iO(){return qu(ud(!1,or.GuardRejected))}())):Pe({routes:[],injector:e})}}function uO(n){const e=n.value.routeConfig;return e&&""===e.path}function gd(n){const e=[],t=new Set;for(const r of n){if(!uO(r)){e.push(r);continue}const o=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=gd(r.children);e.push(new ro(r.value,o))}return e.filter(r=>!t.has(r))}function jv(n){return n.data||{}}function $v(n){return n.resolve||{}}function aT(n){const e=n.children.map(t=>aT(t)).flat();return[n,...e]}function Cr(n){return So(e=>{const t=n(e);return t?Wn(t).pipe((0,lt.T)(()=>e)):Pe(e)})}let Hv=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(c=>c.outlet===ot);return r}getResolvedTitleForRoute(t){return t.data[Aa]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=p.jDH({token:n,factory:()=>(0,p.WQX)(BB),providedIn:"root"})}}return n})(),BB=(()=>{class n extends Hv{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(yp))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const ll=new p.nKC("",{providedIn:"root",factory:()=>({})});let hO=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=p.VBU({type:n,selectors:[["ng-component"]],standalone:!0,features:[p.aNF],decls:1,vars:0,template:function(r,o){1&r&&p.nrm(0,"router-outlet")},dependencies:[zC],encapsulation:2})}}return n})();function lT(n){const e=n.children&&n.children.map(lT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ot&&(t.component=hO),t}const Ba=new p.nKC("");let Xp=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.WQX)(p.Ql9)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Pe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ro(t.loadComponent()).pipe((0,lt.T)(Yp),hn(c=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=c}),Yu(()=>{this.componentLoaders.delete(t)})),o=new wP(r,()=>new gt.B).pipe(xp());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Pe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=function jB(n,e,t,r){return Ro(n.loadChildren()).pipe((0,lt.T)(Yp),Ln(o=>o instanceof p.Co$||Array.isArray(o)?Pe(o):Wn(e.compileModuleAsync(o))),(0,lt.T)(o=>{r&&r(n);let c,u,h=!1;return Array.isArray(o)?(u=o,!0):(c=o.create(t).injector,u=c.get(Ba,[],{optional:!0,self:!0}).flat()),{routes:u.map(lT),injector:c}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Yu(()=>{this.childrenLoaders.delete(r)})),u=new wP(c,()=>new gt.B).pipe(xp());return this.childrenLoaders.set(r,u),u}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Yp(n){return function Qp(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let md=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=p.jDH({token:n,factory:()=>(0,p.WQX)(fO),providedIn:"root"})}}return n})(),fO=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const ja=new p.nKC(""),Zp=new p.nKC("");function uT(n,e,t){const r=n.get(Zp),o=n.get(be);return n.get(p.SKi).runOutsideAngular(()=>{if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(_=>setTimeout(_));let c;const u=new Promise(_=>{c=_}),h=o.startViewTransition(()=>(c(),function zv(n){return new Promise(e=>{(0,p.mal)({read:()=>setTimeout(e)},{injector:n})})}(n))),{onViewTransitionCreated:g}=r;return g&&(0,p.N4e)(n,()=>g({transition:h,from:e,to:t})),u})}const _d=new p.nKC("");let Jp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new gt.B,this.transitionAbortSubject=new gt.B,this.configLoader=(0,p.WQX)(Xp),this.environmentInjector=(0,p.WQX)(p.uvJ),this.urlSerializer=(0,p.WQX)(el),this.rootContexts=(0,p.WQX)(ka),this.location=(0,p.WQX)(kn),this.inputBindingEnabled=null!==(0,p.WQX)(Hp,{optional:!0}),this.titleStrategy=(0,p.WQX)(Hv),this.options=(0,p.WQX)(ll,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,p.WQX)(md),this.createViewTransition=(0,p.WQX)(ja,{optional:!0}),this.navigationErrorHandler=(0,p.WQX)(_d,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Pe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new bv(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new kC(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,o){return this.transitions=new pn.t({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Is,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,xn.p)(c=>0!==c.id),(0,lt.T)(c=>({...c,extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),So(c=>{let u=!1,h=!1;return Pe(c).pipe(So(g=>{if(this.navigationId>c.id)return this.cancelNavigationTransition(c,"",or.SupersededByNewNavigation),qn.w;this.currentTransition=c,this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,targetBrowserUrl:"string"==typeof g.extras.browserUrl?this.urlSerializer.parse(g.extras.browserUrl):g.extras.browserUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const _=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!_&&"reload"!==(g.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const I="";return this.events.next(new nl(g.id,this.urlSerializer.serialize(g.rawUrl),I,Lp.IgnoredSameUrlNavigation)),g.resolve(!1),qn.w}if(this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return Pe(g).pipe(So(I=>{const A=this.transitions?.getValue();return this.events.next(new wv(I.id,this.urlSerializer.serialize(I.extractedUrl),I.source,I.restoredState)),A!==this.transitions?.getValue()?qn.w:Promise.resolve(I)}),function sT(n,e,t,r,o,c){return Ln(u=>function FB(n,e,t,r,o,c,u="emptyOnly"){return new LB(n,e,t,r,o,u,c).recognize()}(n,e,t,r,u.extractedUrl,o,c).pipe((0,lt.T)(({state:h,tree:g})=>({...u,targetSnapshot:h,urlAfterRedirects:g}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),hn(I=>{c.targetSnapshot=I.targetSnapshot,c.urlAfterRedirects=I.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects};const A=new Up(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(A)}));if(_&&this.urlHandlingStrategy.shouldProcessUrl(g.currentRawUrl)){const{id:I,extractedUrl:A,source:S,restoredState:O,extras:B}=g,P=new wv(I,this.urlSerializer.serialize(A),S,O);this.events.next(P);const U=Sv(this.rootComponentType).snapshot;return this.currentTransition=c={...g,targetSnapshot:U,urlAfterRedirects:A,extras:{...B,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=A,Pe(c)}{const I="";return this.events.next(new nl(g.id,this.urlSerializer.serialize(g.extractedUrl),I,Lp.IgnoredByUrlHandlingStrategy)),g.resolve(!1),qn.w}}),hn(g=>{const _=new NC(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}),(0,lt.T)(g=>(this.currentTransition=c={...g,guards:PB(g.targetSnapshot,g.currentSnapshot,this.rootContexts)},c)),function kv(n,e){return Ln(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:c,canDeactivateChecks:u}}=t;return 0===u.length&&0===c.length?Pe({...t,guardsResult:!0}):function YP(n,e,t,r){return Wn(n).pipe(Ln(o=>function eO(n,e,t,r,o){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return c&&0!==c.length?Pe(c.map(h=>{const g=sl(e)??o,_=Cs(h,g);return Ro(function ZC(n){return n&&hd(n.canDeactivate)}(_)?_.canDeactivate(n,e,t,r):(0,p.N4e)(g,()=>_(n,e,t,r))).pipe((0,Da.$)())})).pipe(No()):Pe(!0)}(o.component,o.route,t,e,r)),(0,Da.$)(o=>!0!==o,!0))}(u,r,o,n).pipe(Ln(h=>h&&function qP(n){return"boolean"==typeof n}(h)?function Ua(n,e,t,r){return Wn(e).pipe(ya(o=>Ap(function JP(n,e){return null!==n&&e&&e(new LP(n)),Pe(!0)}(o.route.parent,r),function ZP(n,e){return null!==n&&e&&e(new MB(n)),Pe(!0)}(o.route,r),function nT(n,e,t){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(u=>function Nv(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Sp(()=>Pe(u.guards.map(g=>{const _=sl(u.node)??t,E=Cs(g,_);return Ro(function YC(n){return n&&hd(n.canActivateChild)}(E)?E.canActivateChild(r,n):(0,p.N4e)(_,()=>E(r,n))).pipe((0,Da.$)())})).pipe(No())));return Pe(c).pipe(No())}(n,o.path,t),function tT(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Pe(!0);const o=r.map(c=>Sp(()=>{const u=sl(e)??t,h=Cs(c,u);return Ro(function XP(n){return n&&hd(n.canActivate)}(h)?h.canActivate(e,n):(0,p.N4e)(u,()=>h(e,n))).pipe((0,Da.$)())}));return Pe(o).pipe(No())}(n,o.route,t))),(0,Da.$)(o=>!0!==o,!0))}(r,c,n,e):Pe(h)),(0,lt.T)(h=>({...t,guardsResult:h})))})}(this.environmentInjector,g=>this.events.next(g)),hn(g=>{if(c.guardsResult=g.guardsResult,g.guardsResult&&"boolean"!=typeof g.guardsResult)throw zp(0,g.guardsResult);const _=new FP(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.events.next(_)}),(0,xn.p)(g=>!!g.guardsResult||(this.cancelNavigationTransition(g,"",or.GuardRejected),!1)),Cr(g=>{if(g.guards.canActivateChecks.length)return Pe(g).pipe(hn(_=>{const E=new VP(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(E)}),So(_=>{let E=!1;return Pe(_).pipe(function dO(n,e){return Ln(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return Pe(t);const c=new Set(o.map(g=>g.route)),u=new Set;for(const g of c)if(!u.has(g))for(const _ of aT(g))u.add(_);let h=0;return Wn(u).pipe(ya(g=>c.has(g)?function cT(n,e,t,r){const o=n.routeConfig,c=n._resolve;return void 0!==o?.title&&!La(o)&&(c[Aa]=o.title),function cl(n,e,t,r){const o=pv(n);if(0===o.length)return Pe({});const c={};return Wn(o).pipe(Ln(u=>function ri(n,e,t,r){const o=sl(e)??r,c=Cs(n,o);return Ro(c.resolve?c.resolve(e,t):(0,p.N4e)(o,()=>c(e,t)))}(n[u],e,t,r).pipe((0,Da.$)(),hn(h=>{if(h instanceof Pv)throw zp(new Pp,h);c[u]=h}))),Zc(1),function fv(n){return(0,lt.T)(()=>n)}(c),ni(u=>JC(u)?qn.w:qu(u)))}(c,n,e,r).pipe((0,lt.T)(u=>(n._resolvedData=u,n.data=io(n,n.parent,t).resolve,null)))}(g,r,n,e):(g.data=io(g,g.parent,n).resolve,Pe(void 0))),hn(()=>h++),Zc(1),Ln(g=>h===u.size?Pe(t):qn.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),hn({next:()=>E=!0,complete:()=>{E||this.cancelNavigationTransition(_,"",or.NoDataFromResolver)}}))}),hn(_=>{const E=new ad(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(E)}))}),Cr(g=>{const _=E=>{const I=[];E.routeConfig?.loadComponent&&!E.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(E.routeConfig).pipe(hn(A=>{E.component=A}),(0,lt.T)(()=>{})));for(const A of E.children)I.push(..._(A));return I};return Tp(_(g.targetSnapshot.root)).pipe((0,hv.U)(null),(0,Ei.s)(1))}),Cr(()=>this.afterPreactivation()),So(()=>{const{currentSnapshot:g,targetSnapshot:_}=c,E=this.createViewTransition?.(this.environmentInjector,g.root,_.root);return E?Wn(E).pipe((0,lt.T)(()=>c)):Pe(c)}),(0,lt.T)(g=>{const _=function HP(n,e,t){const r=ld(n,e._root,t?t._root:void 0);return new jp(r,e)}(t.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return this.currentTransition=c={...g,targetRouterState:_},this.currentNavigation.targetRouterState=_,c}),hn(()=>{this.events.next(new rl)}),((n,e,t,r)=>(0,lt.T)(o=>(new XC(e,o.targetRouterState,o.currentRouterState,t,r).activate(n),o)))(this.rootContexts,t.routeReuseStrategy,g=>this.events.next(g),this.inputBindingEnabled),(0,Ei.s)(1),hn({next:g=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Fi(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects))),this.titleStrategy?.updateTitle(g.targetRouterState.snapshot),g.resolve(!0)},complete:()=>{u=!0}}),xo(this.transitionAbortSubject.pipe(hn(g=>{throw g}))),Yu(()=>{!u&&!h&&this.cancelNavigationTransition(c,"",or.SupersededByNewNavigation),this.currentTransition?.id===c.id&&(this.currentNavigation=null,this.currentTransition=null)}),ni(g=>{if(h=!0,al(g))this.events.next(new bs(c.id,this.urlSerializer.serialize(c.extractedUrl),g.message,g.cancellationCode)),function Oo(n){return al(n)&&Ma(n.url)}(g)?this.events.next(new il(g.url,g.navigationBehaviorOptions)):c.resolve(!1);else{const _=new Iv(c.id,this.urlSerializer.serialize(c.extractedUrl),g,c.targetSnapshot??void 0);try{const E=(0,p.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(_));if(E instanceof Pv){const{message:I,cancellationCode:A}=zp(0,E);this.events.next(new bs(c.id,this.urlSerializer.serialize(c.extractedUrl),I,A)),this.events.next(new il(E.redirectTo,E.navigationBehaviorOptions))}else{this.events.next(_);const I=t.errorHandler(g);c.resolve(!!I)}}catch(E){this.options.resolveNavigationPromiseOnError?c.resolve(!1):c.reject(E)}}return qn.w}))}))}cancelNavigationTransition(t,r,o){const c=new bs(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(c),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function pO(n){return n!==Is}let dT=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=p.jDH({token:n,factory:()=>(0,p.WQX)(mO),providedIn:"root"})}}return n})();class gO{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let mO=(()=>{class n extends gO{static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=p.xGo(n)))(o||n)}})()}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Gv=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=p.jDH({token:n,factory:()=>(0,p.WQX)(Wv),providedIn:"root"})}}return n})(),Wv=(()=>{class n extends Gv{constructor(){super(...arguments),this.location=(0,p.WQX)(kn),this.urlSerializer=(0,p.WQX)(el),this.options=(0,p.WQX)(ll,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,p.WQX)(md),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new xa,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Sv(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{"popstate"===r.type&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof wv)this.stateMemento=this.createStateMemento();else if(t instanceof nl)this.rawUrlTree=r.initialUrl;else if(t instanceof Up){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??o,r)}}else t instanceof rl?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof bs&&(t.code===or.GuardRejected||t.code===or.NoDataFromResolver)?this.restoreHistory(r):t instanceof Iv?this.restoreHistory(r,!0):t instanceof Fi&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){const o=t instanceof xa?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",u)}else{const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(o,"",c)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-this.browserPageId;0!==c?this.location.historyGo(c):this.currentUrlTree===t.finalUrl&&0===c&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=p.xGo(n)))(o||n)}})()}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ko=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ko||{});function yd(n,e){n.events.pipe((0,xn.p)(t=>t instanceof Fi||t instanceof bs||t instanceof Iv||t instanceof nl),(0,lt.T)(t=>t instanceof Fi||t instanceof nl?ko.COMPLETE:t instanceof bs&&(t.code===or.Redirect||t.code===or.SupersededByNewNavigation)?ko.REDIRECTING:ko.FAILED),(0,xn.p)(t=>t!==ko.REDIRECTING),(0,Ei.s)(1)).subscribe(()=>{e()})}function qv(n){throw n}const _O={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ci=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,p.WQX)(p.H3F),this.stateManager=(0,p.WQX)(Gv),this.options=(0,p.WQX)(ll,{optional:!0})||{},this.pendingTasks=(0,p.WQX)(p.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,p.WQX)(Jp),this.urlSerializer=(0,p.WQX)(el),this.location=(0,p.WQX)(kn),this.urlHandlingStrategy=(0,p.WQX)(md),this._events=new gt.B,this.errorHandler=this.options.errorHandler||qv,this.navigated=!1,this.routeReuseStrategy=(0,p.WQX)(dT),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,p.WQX)(Ba,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,p.WQX)(Hp,{optional:!0}),this.eventsSubscription=new vi.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const o=this.navigationTransitions.currentTransition,c=this.navigationTransitions.currentNavigation;if(null!==o&&null!==c)if(this.stateManager.handleRouterEvent(r,c),r instanceof bs&&r.code!==or.Redirect&&r.code!==or.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Fi)this.navigated=!0;else if(r instanceof il){const u=r.navigationBehaviorOptions,h=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),g={browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||"eager"===this.urlUpdateStrategy||pO(o.source),...u};this.scheduleNavigation(h,Is,null,g,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function $a(n){return!(n instanceof rl||n instanceof il)})(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Is,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,o){const c={replaceUrl:!0},u=o?.navigationId?o:null;if(o){const g={...o};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(c.state=g)}const h=this.parseUrl(t);this.scheduleNavigation(h,r,u,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(lT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:o,queryParams:c,fragment:u,queryParamsHandling:h,preserveFragment:g}=r,_=g?this.currentUrlTree.fragment:u;let I,E=null;switch(h??this.options.defaultQueryParamsHandling){case"merge":E={...this.currentUrlTree.queryParams,...c};break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=c||null}null!==E&&(E=this.removeEmptyProps(E));try{I=od(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||"/"!==t[0][0])&&(t=[]),I=this.currentUrlTree.root}return OP(I,t,E,_??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Ma(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(c,Is,null,r)}navigate(t,r={skipLocationChange:!1}){return function hT(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new p.wOt(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let o;if(o=!0===r?{..._O}:!1===r?{...yO}:r,Ma(t))return DP(this.currentUrlTree,t,o);const c=this.parseUrl(t);return DP(this.currentUrlTree,c,o)}removeEmptyProps(t){return Object.entries(t).reduce((r,[o,c])=>(null!=c&&(r[o]=c),r),{})}scheduleNavigation(t,r,o,c,u){if(this.disposed)return Promise.resolve(!1);let h,g,_;u?(h=u.resolve,g=u.reject,_=u.promise):_=new Promise((I,A)=>{h=I,g=A});const E=this.pendingTasks.add();return yd(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(E))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:c,resolve:h,reject:g,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(I=>Promise.reject(I))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class pT{}let gT=(()=>{class n{constructor(t,r,o,c,u){this.router=t,this.injector=o,this.preloadingStrategy=c,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe((0,xn.p)(t=>t instanceof Fi),ya(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const c of r){c.providers&&!c._injector&&(c._injector=(0,p.Ol2)(c.providers,t,`Route: ${c.path}`));const u=c._injector??t,h=c._loadedInjector??u;(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)&&o.push(this.preloadConfig(u,c)),(c.children||c._loadedRoutes)&&o.push(this.processRoutes(h,c.children??c._loadedRoutes))}return Wn(o).pipe(Ta())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Pe(null);const c=o.pipe(Ln(u=>null===u?Pe(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));return r.loadComponent&&!r._loadedComponent?Wn([c,this.loader.loadComponent(r)]).pipe(Ta()):c})}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(Ci),p.KVO(p.Ql9),p.KVO(p.uvJ),p.KVO(pT),p.KVO(Xp))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const vd=new p.nKC("");let Xv=(()=>{class n{constructor(t,r,o,c,u={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=c,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration||="disabled",u.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Fi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof nl&&t.code===Lp.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof FC&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new FC(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){p.QTQ()}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac})}}return n})();function Li(n,e){return{\u0275kind:n,\u0275providers:e}}function Ed(){const n=(0,p.WQX)(p.zZn);return e=>{const t=n.get(p.o8S);if(e!==t.components[0])return;const r=n.get(Ci),o=n.get(_T);1===n.get(ng)&&r.initialNavigation(),n.get(Zv,null,p.$GK.Optional)?.setUpPreloading(),n.get(vd,null,p.$GK.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const _T=new p.nKC("",{factory:()=>new gt.B}),ng=new p.nKC("",{providedIn:"root",factory:()=>1}),Zv=new p.nKC("");function yT(n){return Li(0,[{provide:Zv,useExisting:gT},{provide:pT,useExisting:n}])}function vT(n){return Li(9,[{provide:ja,useValue:uT},{provide:Zp,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const ET=new p.nKC("ROUTER_FORROOT_GUARD"),rg=[kn,{provide:el,useClass:Pp},Ci,ka,{provide:Va,useFactory:function Ts(n){return n.routerState.root},deps:[Ci]},Xp,[]];let Ds=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[rg,[],{provide:Ba,multi:!0,useValue:t},{provide:ET,useFactory:eE,deps:[[Ci,new p.Xx1,new p.kdw]]},{provide:ll,useValue:r||{}},r?.useHash?{provide:It,useClass:ur}:{provide:It,useClass:Zt},{provide:vd,useFactory:()=>{const n=(0,p.WQX)(hM),e=(0,p.WQX)(p.SKi),t=(0,p.WQX)(ll),r=(0,p.WQX)(Jp),o=(0,p.WQX)(el);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Xv(o,r,n,e,t)}},r?.preloadingStrategy?yT(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?tE(r):[],r?.bindToComponentInputs?Li(8,[GC,{provide:Hp,useExisting:GC}]).\u0275providers:[],r?.enableViewTransitions?vT().\u0275providers:[],[{provide:ig,useFactory:Ed},{provide:p.iLQ,multi:!0,useExisting:ig}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Ba,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(ET,8))}}static{this.\u0275mod=p.$C({type:n})}static{this.\u0275inj=p.G2t({})}}return n})();function eE(n){return"guarded"}function tE(n){return["disabled"===n.initialNavigation?Li(3,[{provide:p.hnV,multi:!0,useFactory:()=>{const e=(0,p.WQX)(Ci);return()=>{e.setUpLocationChangeListener()}}},{provide:ng,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Li(2,[{provide:ng,useValue:0},{provide:p.hnV,multi:!0,deps:[p.zZn],useFactory:e=>{const t=e.get(De,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=e.get(Ci),c=e.get(_T);yd(o,()=>{r(!0)}),e.get(Jp).afterPreactivation=()=>(r(!0),c.closed?Pe(void 0):c),o.initialNavigation()}))}}]).\u0275providers:[]]}const ig=new p.nKC("");function CT(n,e,t,r,o,c,u){try{var h=n[c](u),g=h.value}catch(_){return void t(_)}h.done?e(g):Promise.resolve(g).then(r,o)}function L(n){return function(){var e=this,t=arguments;return new Promise(function(r,o){var c=n.apply(e,t);function u(g){CT(c,r,o,u,h,"next",g)}function h(g){CT(c,r,o,u,h,"throw",g)}u(void 0)})}}const AT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=63&o|128):55296==(64512&o)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&n.charCodeAt(++r)),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=63&o|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=63&o|128)}return e},Tr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const c=n[o],u=o+1<n.length,h=u?n[o+1]:0,g=o+2<n.length,_=g?n[o+2]:0;let A=(15&h)<<2|_>>6,S=63&_;g||(S=64,u||(A=64)),r.push(t[c>>2],t[(3&c)<<4|h>>4],t[A],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(AT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=n[t++];e[r++]=String.fromCharCode((31&o)<<6|63&c)}else if(o>239&&o<365){const g=((7&o)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(1023&g))}else{const c=n[t++],u=n[t++];e[r++]=String.fromCharCode((15&o)<<12|(63&c)<<6|63&u)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const c=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const _=o<n.length?t[n.charAt(o)]:64;++o;const I=o<n.length?t[n.charAt(o)]:64;if(++o,null==c||null==h||null==_||null==I)throw new xO;r.push(c<<2|h>>4),64!==_&&(r.push(h<<4&240|_>>2),64!==I&&r.push(_<<6&192|I))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class xO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rE=function(n){return function(n){const e=AT(n);return Tr.encodeByteArray(e,!0)}(n).replace(/\./g,"")},dl=function(n){try{return Tr.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Id(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!PO(t)||(n[t]=Id(n[t],e[t]));return n}function PO(n){return"__proto__"!==n}function ST(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const hl=()=>{try{return ST().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&dl(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},RT=n=>{var e,t;return null===(t=null===(e=hl())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},MT=()=>{var n;return null===(n=hl())||void 0===n?void 0:n.config},PT=n=>{var e;return null===(e=hl())||void 0===e?void 0:e[`_${n}`]};class OT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function on(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function iE(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}class ao extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ao.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ti.prototype.create)}}class Ti{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?function FT(n,e){return n.replace(Ha,(t,r)=>{const o=e[r];return null!=o?String(o):`<${r}?>`})}(c,r):"Error";return new ao(o,`${this.serviceName}: ${u} (${o}).`,r)}}const Ha=/\{\$([^}]+)}/g;function LT(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Ga(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const c=n[o],u=e[o];if(UT(c)&&UT(u)){if(!Ga(c,u))return!1}else if(c!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function UT(n){return null!==n&&"object"==typeof n}function bd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function BT(n,e){const t=new WO(n,e);return t.subscribe.bind(t)}class WO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");o=function lE(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===o.next&&(o.next=ag),void 0===o.error&&(o.error=ag),void 0===o.complete&&(o.complete=ag);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ag(){}function Dr(n){return n&&n._delegate?n._delegate:n}class Ss{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qa="[DEFAULT]";class YO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new OT;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),o=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(o)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(o)return null;throw c}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Cd(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return L(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=qa){return this.instances.has(e)}getOptions(e=qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[c,u]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(c)&&u.resolve(o);return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),c=null!==(r=this.onInitCallbacks.get(o))&&void 0!==r?r:new Set;c.add(e),this.onInitCallbacks.set(o,c);const u=this.instances.get(o);return u&&e(u,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===qa?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=qa){return this.component?this.component.multipleInstances?e:qa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ug{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new YO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const fl=[];var mt=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(mt||{});const pl={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},$T=mt.INFO,ZO={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},Td=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),o=ZO[e];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[o](`[${r}]  ${n.name}:`,...t)};class Dd{constructor(e){this.name=e,this._logLevel=$T,this._logHandler=Td,this._userLogHandler=null,fl.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?pl[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}const GT=(n,e)=>e.some(t=>n instanceof t);let WT,qT;const KT=new WeakMap,hE=new WeakMap,XT=new WeakMap,gl=new WeakMap,dg=new WeakMap;let fE={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return hE.get(n);if("objectStoreNames"===e)return n.objectStoreNames||XT.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function hg(n){return"function"==typeof n?function pE(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ad(){return qT||(qT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(gE(this),e),xs(KT.get(this))}:function(...e){return xs(n.apply(gE(this),e))}:function(e,...t){const r=n.call(gE(this),e,...t);return XT.set(r,e.sort?e.sort():[e]),xs(r)}}(n):(n instanceof IDBTransaction&&function YT(n){if(hE.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",u),n.removeEventListener("abort",u)},c=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",c),n.addEventListener("error",u),n.addEventListener("abort",u)});hE.set(n,e)}(n),GT(n,function JO(){return WT||(WT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,fE):n)}function xs(n){if(n instanceof IDBRequest)return function QT(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",c),n.removeEventListener("error",u)},c=()=>{t(xs(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",c),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&KT.set(t,n)}).catch(()=>{}),dg.set(e,n),e}(n);if(gl.has(n))return gl.get(n);const e=hg(n);return e!==n&&(gl.set(n,e),dg.set(e,n)),e}const gE=n=>dg.get(n),tN=["get","getKey","getAll","getAllKeys","count"],nN=["put","add","delete","clear"],Sd=new Map;function ml(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Sd.get(e))return Sd.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=nN.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!tN.includes(t))return;const c=function(){var u=L(function*(h,...g){const _=this.transaction(h,o?"readwrite":"readonly");let E=_.store;return r&&(E=E.index(g.shift())),(yield Promise.all([E[t](...g),o&&_.done]))[0]});return function(g){return u.apply(this,arguments)}}();return Sd.set(e,c),c}!function ZT(n){fE=n(fE)}(n=>({...n,get:(e,t,r)=>ml(e,t)||n.get(e,t,r),has:(e,t)=>!!ml(e,t)||n.has(e,t)}));class JT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function eD(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const fg="@firebase/app",Ka="0.10.12",Di=new Dd("@firebase/app"),aj="@firebase/app-compat",rN="@firebase/analytics-compat",tD="@firebase/analytics",mE="@firebase/app-check-compat",iN="@firebase/app-check",nD="@firebase/auth",oN="@firebase/auth-compat",rD="@firebase/database",iD="@firebase/data-connect",oD="@firebase/database-compat",_E="@firebase/functions",sN="@firebase/functions-compat",aN="@firebase/installations",cN="@firebase/installations-compat",lN="@firebase/messaging",uN="@firebase/messaging-compat",dN="@firebase/performance",yE="@firebase/performance-compat",hN="@firebase/remote-config",fN="@firebase/remote-config-compat",pN="@firebase/storage",Xa="@firebase/storage-compat",xd="@firebase/firestore",vE="@firebase/vertexai-preview",EE="@firebase/firestore-compat",gN="firebase",Fo="[DEFAULT]",mN={[fg]:"fire-core",[aj]:"fire-core-compat",[tD]:"fire-analytics",[rN]:"fire-analytics-compat",[iN]:"fire-app-check",[mE]:"fire-app-check-compat",[nD]:"fire-auth",[oN]:"fire-auth-compat",[rD]:"fire-rtdb",[iD]:"fire-data-connect",[oD]:"fire-rtdb-compat",[_E]:"fire-fn",[sN]:"fire-fn-compat",[aN]:"fire-iid",[cN]:"fire-iid-compat",[lN]:"fire-fcm",[uN]:"fire-fcm-compat",[dN]:"fire-perf",[yE]:"fire-perf-compat",[hN]:"fire-rc",[fN]:"fire-rc-compat",[pN]:"fire-gcs",[Xa]:"fire-gcs-compat",[xd]:"fire-fst",[EE]:"fire-fst-compat",[vE]:"fire-vertex","fire-js":"fire-js",[gN]:"fire-js-all"},Rs=new Map,yl=new Map,vl=new Map;function Rd(n,e){try{n.container.addComponent(e)}catch(t){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function wE(n,e){n.container.addOrOverwriteComponent(e)}function Ms(n){const e=n.name;if(vl.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;vl.set(e,n);for(const t of Rs.values())Rd(t,n);for(const t of yl.values())Rd(t,n);return!0}function El(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function pg(n,e,t=Fo){El(n,e).clearInstance(t)}function sD(n){return void 0!==n.options}function Vo(n){return void 0!==n.settings}function aD(){vl.clear()}const Ai=new Ti("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ps{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}class Qa extends Ps{constructor(e,t,r,o){const c=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,u={name:r,automaticDataCollectionEnabled:c};super(void 0!==e.apiKey?e:e.options,u,o),this._serverConfig=Object.assign({automaticDataCollectionEnabled:c},t),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Kn(fg,Ka,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){gg(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ai.create("server-app-deleted")}}const ii="10.14.0";function IE(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Fo,automaticDataCollectionEnabled:!1},e),o=r.name;if("string"!=typeof o||!o)throw Ai.create("bad-app-name",{appName:String(o)});if(t||(t=MT()),!t)throw Ai.create("no-options");const c=Rs.get(o);if(c){if(Ga(t,c.options)&&Ga(r,c.config))return c;throw Ai.create("duplicate-app",{appName:o})}const u=new ug(o);for(const g of vl.values())u.addComponent(g);const h=new Ps(t,r,u);return Rs.set(o,h),h}function cD(n,e){if(function NT(){return typeof window<"u"||iE()}()&&!iE())throw Ai.create("invalid-server-app-environment");let t;void 0===e.automaticDataCollectionEnabled&&(e.automaticDataCollectionEnabled=!1),t=sD(n)?n.options:n;const r=Object.assign(Object.assign({},e),t);if(void 0!==r.releaseOnDeref&&delete r.releaseOnDeref,void 0!==e.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Ai.create("finalization-registry-not-supported",{});const c=""+(_=JSON.stringify(r),[..._].reduce((E,I)=>Math.imul(31,E)+I.charCodeAt(0)|0,0)),u=yl.get(c);var _;if(u)return u.incRefCount(e.releaseOnDeref),u;const h=new ug(c);for(const _ of vl.values())h.addComponent(_);const g=new Qa(t,e,c,h);return yl.set(c,g),g}function wl(n=Fo){const e=Rs.get(n);if(!e&&n===Fo&&MT())return IE();if(!e)throw Ai.create("no-app",{appName:n});return e}function bE(){return Array.from(Rs.values())}function gg(n){return CE.apply(this,arguments)}function CE(){return(CE=L(function*(n){let e=!1;const t=n.name;Rs.has(t)?(e=!0,Rs.delete(t)):yl.has(t)&&n.decRefCount()<=0&&(yl.delete(t),e=!0),e&&(yield Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)})).apply(this,arguments)}function Kn(n,e,t){var r;let o=null!==(r=mN[n])&&void 0!==r?r:n;t&&(o+=`-${t}`);const c=o.match(/\s|\//),u=e.match(/\s|\//);if(c||u){const h=[`Unable to register library "${o}" with version "${e}":`];return c&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Di.warn(h.join(" "))}Ms(new Ss(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}function yN(n,e){if(null!==n&&"function"!=typeof n)throw Ai.create("invalid-log-argument");!function zT(n,e){for(const t of fl){let r=null;e&&e.level&&(r=pl[e.level]),t.userLogHandler=null===n?null:(o,c,...u)=>{const h=u.map(g=>{if(null==g)return null;if("string"==typeof g)return g;if("number"==typeof g||"boolean"==typeof g)return g.toString();if(g instanceof Error)return g.message;try{return JSON.stringify(g)}catch{return null}}).filter(g=>g).join(" ");c>=(r??o.logLevel)&&n({level:mt[c].toLowerCase(),message:h,args:u,type:o.name})}}}(n,e)}function lD(n){!function HT(n){fl.forEach(e=>{e.setLogLevel(n)})}(n)}const Md="firebase-heartbeat-database",TE=1,Pd="firebase-heartbeat-store";let DE=null;function uD(){return DE||(DE=function eN(n,e,{blocked:t,upgrade:r,blocking:o,terminated:c}={}){const u=indexedDB.open(n,e),h=xs(u);return r&&u.addEventListener("upgradeneeded",g=>{r(xs(u.result),g.oldVersion,g.newVersion,xs(u.transaction),g)}),t&&u.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),h.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),h}(Md,TE,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(Pd)}catch(t){console.warn(t)}}}).catch(n=>{throw Ai.create("idb-open",{originalErrorMessage:n.message})})),DE}function co(){return(co=L(function*(n){try{const t=(yield uD()).transaction(Pd),r=yield t.objectStore(Pd).get(Il(n));return yield t.done,r}catch(e){if(e instanceof ao)Di.warn(e.message);else{const t=Ai.create("idb-get",{originalErrorMessage:e?.message});Di.warn(t.message)}}})).apply(this,arguments)}function Od(n,e){return mg.apply(this,arguments)}function mg(){return(mg=L(function*(n,e){try{const r=(yield uD()).transaction(Pd,"readwrite");yield r.objectStore(Pd).put(e,Il(n)),yield r.done}catch(t){if(t instanceof ao)Di.warn(t.message);else{const r=Ai.create("idb-set",{originalErrorMessage:t?.message});Di.warn(r.message)}}})).apply(this,arguments)}function Il(n){return`${n.name}!${n.options.appId}`}class SE{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Nd(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return L(function*(){var t,r;try{const c=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=xE();return null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===u||e._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(e._heartbeatsCache.heartbeats.push({date:u,agent:c}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(h=>{const g=new Date(h.date).valueOf();return Date.now()-g<=2592e6}),e._storage.overwrite(e._heartbeatsCache))}catch(o){Di.warn(o)}})()}getHeartbeatsHeader(){var e=this;return L(function*(){var t;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=xE(),{heartbeatsToSend:o,unsentEntries:c}=function Os(n,e=1024){const t=[];let r=n.slice();for(const o of n){const c=t.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),wN(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),wN(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),u=rE(JSON.stringify({version:2,heartbeats:o}));return e._heartbeatsCache.lastSentHeartbeatDate=r,c.length>0?(e._heartbeatsCache.heartbeats=c,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),u}catch(r){return Di.warn(r),""}})()}}function xE(){return(new Date).toISOString().substring(0,10)}class Nd{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return L(function*(){return!!function so(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function BO(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var c;e((null===(c=o.error)||void 0===c?void 0:c.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return L(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function AE(n){return co.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return L(function*(){var r;if(yield t._canUseIndexedDBPromise){const c=yield t.read();return Od(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:c.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return L(function*(){var r;if(yield t._canUseIndexedDBPromise){const c=yield t.read();return Od(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...e.heartbeats]})}})()}}function wN(n){return rE(JSON.stringify({version:2,heartbeats:n})).length}!function _g(n){Ms(new Ss("platform-logger",e=>new JT(e),"PRIVATE")),Ms(new Ss("heartbeat",e=>new SE(e),"PRIVATE")),Kn(fg,Ka,n),Kn(fg,Ka,"esm2017"),Kn("fire-js","")}(""),Kn("firebase","10.14.0","app");class IN extends vi.yU{constructor(e,t){super()}schedule(e,t=0){return this}}const Ns={setInterval(n,e,...t){const{delegate:r}=Ns;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Ns;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var bN=Z(908);class yg extends IN{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const o=this.id,c=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(c,o,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(c,this.id,t),this}requestAsyncId(e,t,r=0){return Ns.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Ns.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let o,r=!1;try{this.work(e)}catch(c){r=!0,o=c||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,bN.o)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const fD={now:()=>(fD.delegate||Date).now(),delegate:void 0};class kd{constructor(e,t=kd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}kd.now=fD.now;class vg extends kd{constructor(e,t=kd.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const DN=new class TN extends vg{}(class CN extends yg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),Eg=new vg(yg),AN=Eg,Ya=new p.RxE("ANGULARFIRE2_VERSION");function wg(n,e,t){if(e){if(1===e.length)return e[0];const c=e.filter(u=>u.app===t);if(1===c.length)return c[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const Ig=(n,e)=>{const t=e?[e]:bE(),r=[];return t.forEach(o=>{o.container.getProvider(n).instances.forEach(u=>{r.includes(u)||r.push(u)})}),r};class pD{constructor(){return Ig(gD)}}const gD="app-check";function ks(){}class ME{zone;delegate;constructor(e,t=DN){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const o=this.zone;return this.delegate.schedule(function(u){o.runGuarded(()=>{e.apply(this,[u])})},t,r)}}class mD{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ks,{},ks,ks)),t.pipe(hn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let PE=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new ME(Zone.current)),this.insideAngular=t.run(()=>new ME(Zone.current,Eg)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(p.KVO(p.SKi))};static \u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bl(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Lo(n){return bl().ngZone.run(()=>n())}function OE(n){return function NE(n){return function(t){return(t=t.lift(new mD(n.ngZone))).pipe(Vy(n.outsideAngular),Fy(n.insideAngular))}}(bl())(n)}const MN=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Lo(()=>n.apply(void 0,r))},Fd=(n,e)=>function(){let t;const r=arguments;for(let c=0;c<arguments.length;c++)"function"==typeof r[c]&&(e&&(t||=Lo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ks,{},ks,ks))),r[c]=MN(r[c],t));const o=function xN(n){return bl().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(o instanceof Je.c){const c=bl();return o.pipe(Vy(c.outsideAngular),Fy(c.insideAngular))}return Lo(()=>o)}return o instanceof Je.c?o.pipe(OE):o instanceof Promise?Lo(()=>new Promise((c,u)=>o.then(h=>Lo(()=>c(h)),h=>Lo(()=>u(h))))):"function"==typeof o&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),o.apply(this,arguments)}:Lo(()=>o)};class Vd{constructor(e){return e}}class kE{constructor(){return bE()}}const Ld=new p.nKC("angularfire2._apps"),yD={provide:Vd,useFactory:function FE(n){return n&&1===n.length?n[0]:new Vd(wl())},deps:[[new p.Xx1,Ld]]},vD={provide:kE,deps:[[new p.Xx1,Ld]]};function ED(n){return(e,t)=>{const r=t.get(p.Agw);Kn("angularfire",Ya.full,"core"),Kn("angularfire",Ya.full,"app"),Kn("angular",p.xvI.full,r.toString());const o=e.runOutsideAngular(()=>n(t));return new Vd(o)}}function wD(n,...e){return(0,p.EmA)([yD,vD,{provide:Ld,useFactory:ED(n),multi:!0,deps:[p.SKi,p.zZn,PE,...e]}])}const bD=Fd(IE,!0);const BN=function VE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},jN=new Ti("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),LE=new Dd("@firebase/auth");function UE(n,...e){LE.logLevel<=mt.ERROR&&LE.error(`Auth (${ii}): ${n}`,...e)}function oi(n,...e){throw AD(n,...e)}function Ui(n,...e){return AD(n,...e)}function DD(n,e,t){const r=Object.assign(Object.assign({},BN()),{[e]:t});return new Ti("auth","Firebase",r).create(e,{appName:n.name})}function Bn(n){return DD(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AD(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return jN.create(n,...e)}function ye(n,e,...t){if(!n)throw AD(e,...t)}function Uo(n){const e="INTERNAL ASSERTION FAILED: "+n;throw UE(e),new Error(e)}function Ja(n,e){n||Uo(e)}function bg(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function $N(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function dj(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function SD(){return"http:"===$N()||"https:"===$N()}()||function oE(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class Ud{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ja(t>e,"Short delay should be less than long delay!"),this.isMobile=function FO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}()||function qB(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return dj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fs(n,e){Ja(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Cl{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Uo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Uo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Uo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const HN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},fj=new Ud(3e4,6e4);function jt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Kt(n,e,t,r){return xD.apply(this,arguments)}function xD(){return(xD=L(function*(n,e,t,r,o={}){return RD(n,o,L(function*(){let c={},u={};r&&("GET"===e?u=r:c={body:JSON.stringify(r)});const h=bd(Object.assign({key:n.config.apiKey},u)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const _=Object.assign({method:e,headers:g},c);return function og(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(_.referrerPolicy="no-referrer"),Cl.fetch()(jE(n,n.config.apiHost,t,h),_)}))})).apply(this,arguments)}function RD(n,e,t){return BE.apply(this,arguments)}function BE(){return(BE=L(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},HN),e);try{const o=new MD(n),c=yield Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=yield c.json();if("needConfirmation"in u)throw Cg(n,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const h=c.ok?u.errorMessage:u.error.message,[g,_]=h.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===g)throw Cg(n,"credential-already-in-use",u);if("EMAIL_EXISTS"===g)throw Cg(n,"email-already-in-use",u);if("USER_DISABLED"===g)throw Cg(n,"user-disabled",u);const E=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw DD(n,E,_);oi(n,E)}}catch(o){if(o instanceof ao)throw o;oi(n,"network-request-failed",{message:String(o)})}})).apply(this,arguments)}function Tl(){return(Tl=L(function*(n,e,t,r,o={}){const c=yield Kt(n,e,t,r,o);return"mfaPendingCredential"in c&&oi(n,"multi-factor-auth-required",{_serverResponse:c}),c})).apply(this,arguments)}function jE(n,e,t,r){const o=`${e}${t}?${r}`;return n.config.emulator?Fs(n.config,o):`${n.config.apiScheme}://${o}`}class MD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ui(this.auth,"network-request-failed")),fj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cg(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Ui(n,e,r);return o.customData._tokenResponse=t,o}function zE(){return(zE=L(function*(n,e){return Kt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function kD(n,e){return WE.apply(this,arguments)}function WE(){return(WE=L(function*(n,e){return Kt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function jd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Dg(){return(Dg=L(function*(n,e=!1){const t=Dr(n),r=yield t.getIdToken(e),o=KE(r);ye(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c="object"==typeof o.firebase?o.firebase:void 0,u=c?.sign_in_provider;return{claims:o,token:r,authTime:jd(qE(o.auth_time)),issuedAtTime:jd(qE(o.iat)),expirationTime:jd(qE(o.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}})).apply(this,arguments)}function qE(n){return 1e3*Number(n)}function KE(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return UE("JWT malformed, contained fewer than 3 sections"),null;try{const o=dl(t);return o?JSON.parse(o):(UE("Failed to decode base64 JWT payload"),null)}catch(o){return UE("Caught error parsing JWT payload as JSON",o?.toString()),null}}function XE(n){const e=KE(n);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function lo(n,e){return jo.apply(this,arguments)}function jo(){return(jo=L(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof ao&&function VD({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class KN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const o=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(L(function*(){yield t.iteration()}),r)}iteration(){var e=this;return L(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class LD{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=jd(this.lastLoginAt),this.creationTime=jd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ec(n){return $d.apply(this,arguments)}function $d(){return($d=L(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),o=yield lo(n,kD(t,{idToken:r}));ye(o?.users.length,t,"internal-error");const c=o.users[0];n._notifyReloadListener(c);const u=null!==(e=c.providerUserInfo)&&void 0!==e&&e.length?UD(c.providerUserInfo):[],h=function QE(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}(n.providerData,u),E=!!n.isAnonymous&&!(n.email&&c.passwordHash||h?.length),I={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:h,metadata:new LD(c.createdAt,c.lastLoginAt),isAnonymous:E};Object.assign(n,I)})).apply(this,arguments)}function Ag(){return(Ag=L(function*(n){const e=Dr(n);yield ec(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function UD(n){return n.map(e=>{var{providerId:t}=e,r=Xf(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Dl(){return(Dl=L(function*(n,e){const t=yield RD(n,{},L(function*(){const r=bd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=n.config,u=jE(n,o,"/v1/token",`key=${c}`),h=yield n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Cl.fetch()(u,{method:"POST",headers:h,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function YE(){return(YE=L(function*(n,e){return Kt(n,"POST","/v2/accounts:revokeToken",jt(n,e))})).apply(this,arguments)}class Vs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ye(0!==e.length,"internal-error");const t=XE(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){var r=this;return L(function*(){return t||!r.accessToken||r.isExpired?(ye(r.refreshToken,e,"user-token-expired"),r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null):r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return L(function*(){const{accessToken:o,refreshToken:c,expiresIn:u}=yield function pj(n,e){return Dl.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(o,c,Number(u))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:c}=t,u=new Vs;return r&&(ye("string"==typeof r,"internal-error",{appName:e}),u.refreshToken=r),o&&(ye("string"==typeof o,"internal-error",{appName:e}),u.accessToken=o),c&&(ye("number"==typeof c,"internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vs,this.toJSON())}_performRefresh(){return Uo("not implemented")}}function Ls(n,e){ye("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Xn{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,c=Xf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new KN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new LD(c.createdAt||void 0,c.lastLoginAt||void 0)}getIdToken(e){var t=this;return L(function*(){const r=yield lo(t,t.stsTokenManager.getToken(t.auth,e));return ye(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function FD(n){return Dg.apply(this,arguments)}(this,e)}reload(){return function XN(n){return Ag.apply(this,arguments)}(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return L(function*(){let o=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),o=!0),t&&(yield ec(r)),yield r.auth._persistUserIfCurrent(r),o&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return L(function*(){if(Vo(e.auth.app))return Promise.reject(Bn(e.auth));const t=yield e.getIdToken();return yield lo(e,function Tg(n,e){return zE.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,c,u,h,g,_,E;const I=null!==(r=t.displayName)&&void 0!==r?r:void 0,A=null!==(o=t.email)&&void 0!==o?o:void 0,S=null!==(c=t.phoneNumber)&&void 0!==c?c:void 0,O=null!==(u=t.photoURL)&&void 0!==u?u:void 0,B=null!==(h=t.tenantId)&&void 0!==h?h:void 0,P=null!==(g=t._redirectEventId)&&void 0!==g?g:void 0,U=null!==(_=t.createdAt)&&void 0!==_?_:void 0,K=null!==(E=t.lastLoginAt)&&void 0!==E?E:void 0,{uid:Q,emailVerified:ie,isAnonymous:fe,providerData:we,stsTokenManager:j}=t;ye(Q&&j,e,"internal-error");const M=Vs.fromJSON(this.name,j);ye("string"==typeof Q,e,"internal-error"),Ls(I,e.name),Ls(A,e.name),ye("boolean"==typeof ie,e,"internal-error"),ye("boolean"==typeof fe,e,"internal-error"),Ls(S,e.name),Ls(O,e.name),Ls(B,e.name),Ls(P,e.name),Ls(U,e.name),Ls(K,e.name);const V=new Xn({uid:Q,auth:e,email:A,emailVerified:ie,displayName:I,isAnonymous:fe,photoURL:O,phoneNumber:S,tenantId:B,stsTokenManager:M,createdAt:U,lastLoginAt:K});return we&&Array.isArray(we)&&(V.providerData=we.map($=>Object.assign({},$))),P&&(V._redirectEventId=P),V}static _fromIdTokenResponse(e,t,r=!1){return L(function*(){const o=new Vs;o.updateFromServerResponse(t);const c=new Xn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return yield ec(c),c})()}static _fromGetAccountInfoResponse(e,t,r){return L(function*(){const o=t.users[0];ye(void 0!==o.localId,"internal-error");const c=void 0!==o.providerUserInfo?UD(o.providerUserInfo):[],u=!(o.email&&o.passwordHash||c?.length),h=new Vs;h.updateFromIdToken(r);const g=new Xn({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new LD(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash||c?.length)};return Object.assign(g,_),g})()}}const Al=new Map;function Ot(n){Ja(n instanceof Function,"Expected a class definition");let e=Al.get(n);return e?(Ja(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Al.set(n,e),e)}const Hd=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return L(function*(){return!0})()}_set(t,r){var o=this;return L(function*(){o.storage[t]=r})()}_get(t){var r=this;return L(function*(){const o=r.storage[t];return void 0===o?null:o})()}_remove(t){var r=this;return L(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Sr(n,e,t){return`firebase:${n}:${e}:${t}`}class Bi{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Sr(this.userKey,o.apiKey,c),this.fullPersistenceKey=Sr("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return L(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Xn._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return L(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return L(function*(){if(!t.length)return new Bi(Ot(Hd),e,r);const o=(yield Promise.all(t.map(function(){var _=L(function*(E){if(yield E._isAvailable())return E});return function(E){return _.apply(this,arguments)}}()))).filter(_=>_);let c=o[0]||Ot(Hd);const u=Sr(r,e.config.apiKey,e.name);let h=null;for(const _ of t)try{const E=yield _._get(u);if(E){const I=Xn._fromJSON(e,E);_!==c&&(h=I),c=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return c._shouldAllowMigration&&g.length?(c=g[0],h&&(yield c._set(u,h.toJSON())),yield Promise.all(t.map(function(){var _=L(function*(E){if(E!==c)try{yield E._remove(u)}catch{}});return function(E){return _.apply(this,arguments)}}())),new Bi(c,e,r)):new Bi(c,e,r)})()}}function BD(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xl(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($D(e))return"Blackberry";if(gn(e))return"Webos";if(Sg(e))return"Safari";if((e.includes("chrome/")||ZE(e))&&!e.includes("edge/"))return"Chrome";if(jD(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function xl(n=on()){return/firefox\//i.test(n)}function Sg(n=on()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZE(n=on()){return/crios\//i.test(n)}function JE(n=on()){return/iemobile/i.test(n)}function jD(n=on()){return/android/i.test(n)}function $D(n=on()){return/blackberry/i.test(n)}function gn(n=on()){return/webos/i.test(n)}function xg(n=on()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function tc(n=on()){return xg(n)||jD(n)||gn(n)||$D(n)||/windows phone/i.test(n)||JE(n)}function Gd(n,e=[]){let t;switch(n){case"Browser":t=BD(on());break;case"Worker":t=`${BD(on())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ii}/${r}`}class Wd{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=c=>new Promise((u,h)=>{try{u(e(c))}catch(g){h(g)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return L(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const o of t.queue)yield o(e),o.onAbort&&r.push(o.onAbort)}catch(o){r.reverse();for(const c of r)try{c()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:o?.message})}})()}}function Mg(){return(Mg=L(function*(n,e={}){return Kt(n,"GET","/v2/passwordPolicy",jt(n,e))})).apply(this,arguments)}class zD{constructor(e){var t,r,o,c;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=u.minPasswordLength)&&void 0!==t?t:6,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),void 0!==u.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),void 0!==u.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),void 0!==u.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),void 0!==u.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(o=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==o?o:"",this.forceUpgradeOnSignin=null!==(c=e.forceUpgradeOnSignin)&&void 0!==c&&c,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,c,u,h;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=null===(t=g.meetsMinPasswordLength)||void 0===t||t),g.isValid&&(g.isValid=null===(r=g.meetsMaxPasswordLength)||void 0===r||r),g.isValid&&(g.isValid=null===(o=g.containsLowercaseLetter)||void 0===o||o),g.isValid&&(g.isValid=null===(c=g.containsUppercaseLetter)||void 0===c||c),g.isValid&&(g.isValid=null===(u=g.containsNumericCharacter)||void 0===u||u),g.isValid&&(g.isValid=null===(h=g.containsNonAlphanumericCharacter)||void 0===h||h),g}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class Pg{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ew(this),this.idTokenSubscription=new ew(this),this.beforeStateQueue=new Wd(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Ot(t)),this._initializationPromise=this.queue(L(function*(){var o,c;if(!r._deleted&&(r.persistenceManager=yield Bi.create(r,e),!r._deleted)){if(null!==(o=r._popupRedirectResolver)&&void 0!==o&&o._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(c=r.currentUser)||void 0===c?void 0:c.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return L(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return L(function*(){try{const r=yield kD(t,{idToken:e}),o=yield Xn._fromGetAccountInfoResponse(t,r,e);yield t.directlySetCurrentUser(o)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return L(function*(){var r;if(Vo(t.app)){const h=t.app.settings.authIdToken;return h?new Promise(g=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(h).then(g,g))}):t.directlySetCurrentUser(null)}const o=yield t.assertedPersistence.getCurrentUser();let c=o,u=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const h=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,g=c?._redirectEventId,_=yield t.tryRedirectSignIn(e);(!h||h===g)&&_?.user&&(c=_.user,u=!0)}if(!c)return t.directlySetCurrentUser(null);if(!c._redirectEventId){if(u)try{yield t.beforeStateQueue.runMiddleware(c)}catch(h){c=o,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(h))}return c?t.reloadAndSetCurrentUserOrClear(c):t.directlySetCurrentUser(null)}return ye(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===c._redirectEventId?t.directlySetCurrentUser(c):t.reloadAndSetCurrentUserOrClear(c)})()}tryRedirectSignIn(e){var t=this;return L(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return L(function*(){try{yield ec(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function hj(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return L(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return L(function*(){if(Vo(t.app))return Promise.reject(Bn(t));const r=e?Dr(e):null;return r&&ye(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return L(function*(){if(!r._deleted)return e&&ye(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(L(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return L(function*(){return Vo(e.app)?Promise.reject(Bn(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return Vo(this.app)?Promise.reject(Bn(this)):this.queue(L(function*(){yield t.assertedPersistence.setPersistence(Ot(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return L(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return L(function*(){const t=yield function Rg(n){return Mg.apply(this,arguments)}(e),r=new zD(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ti("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return L(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),o={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(o.tenantId=t.tenantId),yield function QN(n,e){return YE.apply(this,arguments)}(t,o)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return L(function*(){const o=yield r.getOrInitRedirectPersistenceManager(t);return null===e?o.removeCurrentUser():o.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return L(function*(){if(!t.redirectPersistenceManager){const r=e&&Ot(e)||t._popupRedirectResolver;ye(r,t,"argument-error"),t.redirectPersistenceManager=yield Bi.create(t,[Ot(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return L(function*(){var r,o;return t._isInitialized&&(yield t.queue(L(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(o=t.redirectUser)||void 0===o?void 0:o._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return L(function*(){if(e===t.currentUser)return t.queue(L(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const c="function"==typeof t?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(h,this,"internal-error"),h.then(()=>{u||c(this.currentUser)}),"function"==typeof t){const g=e.addObserver(t,r,o);return()=>{u=!0,g()}}{const g=e.addObserver(t);return()=>{u=!0,g()}}}directlySetCurrentUser(e){var t=this;return L(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gd(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return L(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const o=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();o&&(r["X-Firebase-Client"]=o);const c=yield e._getAppCheckToken();return c&&(r["X-Firebase-AppCheck"]=c),r})()}_getAppCheckToken(){var e=this;return L(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function uj(n,...e){LE.logLevel<=mt.WARN&&LE.warn(`Auth (${ii}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function sn(n){return Dr(n)}class ew{constructor(e){this.auth=e,this.observer=null,this.addObserver=BT(t=>this.observer=t)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Og={loadJS:()=>L(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Kd(n){return`__${n}${Math.floor(1e6*Math.random())}`}function XD(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function QD(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class nc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Uo("not implemented")}_getIdTokenResponse(e){return Uo("not implemented")}_linkToIdToken(e,t){return Uo("not implemented")}_getReauthenticationResolver(e){return Uo("not implemented")}}function Ho(n,e){return dw.apply(this,arguments)}function dw(){return(dw=L(function*(n,e){return function Bo(n,e,t,r){return Tl.apply(this,arguments)}(n,"POST","/v1/accounts:signInWithIdp",jt(n,e))})).apply(this,arguments)}class zo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tA extends zo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class sr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,o=!1){return L(function*(){const c=yield Xn._fromIdTokenResponse(e,r,o),u=oc(r);return new sr({user:c,providerId:u,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return L(function*(){yield e._updateTokensIfNecessary(r,!0);const o=oc(r);return new sr({user:e,providerId:o,_tokenResponse:r,operationType:t})})()}}function oc(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Go extends ao{constructor(e,t,r,o){var c;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Go.prototype),this.customData={appName:e.name,tenantId:null!==(c=e.tenantId)&&void 0!==c?c:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Go(e,t,r,o)}}function sc(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(c=>{throw"auth/multi-factor-auth-required"===c.code?Go._fromErrorAndOperation(n,c,e,r):c})}function Kg(){return(Kg=L(function*(n,e,t=!1){const r=yield lo(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return sr._forOperation(n,"link",r)})).apply(this,arguments)}function Qg(){return(Qg=L(function*(n,e,t=!1){const{auth:r}=n;if(Vo(r.app))return Promise.reject(Bn(r));const o="reauthenticate";try{const c=yield lo(n,sc(r,o,e,n),t);ye(c.idToken,r,"internal-error");const u=KE(c.idToken);ye(u,r,"internal-error");const{sub:h}=u;return ye(n.uid===h,r,"user-mismatch"),sr._forOperation(n,o,c)}catch(c){throw"auth/user-not-found"===c?.code&&oi(r,"user-mismatch"),c}})).apply(this,arguments)}function Ol(){return(Ol=L(function*(n,e,t=!1){if(Vo(n.app))return Promise.reject(Bn(n));const r="signIn",o=yield sc(n,r,e),c=yield sr._fromIdTokenResponse(n,r,o);return t||(yield n._updateCurrentUser(c.user)),c})).apply(this,arguments)}const lm="__sak";class Rw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(lm,"1"),this.storage.removeItem(lm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Mw=(()=>{class n extends Rw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tc(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const o=this.storage.getItem(r),c=this.localCache[r];o!==c&&t(r,c,o)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((h,g,_)=>{this.notifyListeners(h,_)});const o=t.key;r?this.detachListener():this.stopPolling();const c=()=>{const h=this.storage.getItem(o);!r&&this.localCache[o]===h||this.notifyListeners(o,h)},u=this.storage.getItem(o);!function zd(){return function kT(){const n=on();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||u===t.newValue||t.newValue===t.oldValue?c():setTimeout(c,10)}notifyListeners(t,r){this.localCache[t]=r;const o=this.listeners[t];if(o)for(const c of Array.from(o))c(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:o}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var o=()=>super._set,c=this;return L(function*(){yield o().call(c,t,r),c.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,o=this;return L(function*(){const c=yield r().call(o,t);return o.localCache[t]=JSON.stringify(c),c})()}_remove(t){var r=()=>super._remove,o=this;return L(function*(){yield r().call(o,t),delete o.localCache[t]})()}}return n.type="LOCAL",n})(),dh=(()=>{class n extends Rw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let Pw=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(c=>c.isListeningto(t));if(r)return r;const o=new n(t);return this.receivers.push(o),o}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return L(function*(){const o=t,{eventId:c,eventType:u,data:h}=o.data,g=r.handlersMap[u];if(!g?.size)return;o.ports[0].postMessage({status:"ack",eventId:c,eventType:u});const _=Array.from(g).map(function(){var I=L(function*(A){return A(o.origin,h)});return function(A){return I.apply(this,arguments)}}()),E=yield function dm(n){return Promise.all(n.map(function(){var e=L(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(_);o.ports[0].postMessage({status:"done",eventId:c,eventType:u,response:E})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function hm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class Sk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var o=this;return L(function*(){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let u,h;return new Promise((g,_)=>{const E=hm("",20);c.port1.start();const I=setTimeout(()=>{_(new Error("unsupported_event"))},r);h={messageChannel:c,onMessage(A){const S=A;if(S.data.eventId===E)switch(S.data.status){case"ack":clearTimeout(I),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(S.data.response);break;default:clearTimeout(I),clearTimeout(u),_(new Error("invalid_response"))}}},o.handlers.add(h),c.port1.addEventListener("message",h.onMessage),o.target.postMessage({eventType:e,eventId:E,data:t},[c.port2])}).finally(()=>{h&&o.removeMessageHandler(h)})})()}}function Rn(){return window}function hh(){return typeof Rn().WorkerGlobalScope<"u"&&"function"==typeof Rn().importScripts}function fm(){return(fm=L(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const pA="firebaseLocalStorageDb",kl="firebaseLocalStorage",Nw="fbase_key";class ji{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pm(n,e){return n.transaction([kl],e?"readwrite":"readonly").objectStore(kl)}function zs(){const n=indexedDB.open(pA,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(kl,{keyPath:Nw})}catch(o){t(o)}}),n.addEventListener("success",L(function*(){const r=n.result;r.objectStoreNames.contains(kl)?e(r):(r.close(),yield function Mk(){const n=indexedDB.deleteDatabase(pA);return new ji(n).toPromise()}(),e(yield zs()))}))})}function Pk(n,e,t){return fh.apply(this,arguments)}function fh(){return(fh=L(function*(n,e,t){const r=pm(n,!0).put({[Nw]:e,value:t});return new ji(r).toPromise()})).apply(this,arguments)}function gm(){return(gm=L(function*(n,e){const t=pm(n,!1).get(e),r=yield new ji(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function kw(n,e){const t=pm(n,!0).delete(e);return new ji(t).toPromise()}const Ok=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return L(function*(){return t.db||(t.db=yield zs()),t.db})()}_withRetries(t){var r=this;return L(function*(){let o=0;for(;;)try{const c=yield r._openDb();return yield t(c)}catch(c){if(o++>3)throw c;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return L(function*(){return hh()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return L(function*(){t.receiver=Pw._getInstance(function Rk(){return hh()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=L(function*(o,c){return{keyProcessed:(yield t._poll()).includes(c.key)}});return function(o,c){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=L(function*(o,c){return["keyChanged"]});return function(o,c){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return L(function*(){var r,o;if(t.activeServiceWorker=yield function Ow(){return fm.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Sk(t.activeServiceWorker);const c=yield t.sender._send("ping",{},800);c&&null!==(r=c[0])&&void 0!==r&&r.fulfilled&&null!==(o=c[0])&&void 0!==o&&o.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return L(function*(){if(r.sender&&r.activeServiceWorker&&function fA(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return L(function*(){try{if(!indexedDB)return!1;const t=yield zs();return yield Pk(t,lm,"1"),yield kw(t,lm),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return L(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var o=this;return L(function*(){return o._withPendingWrite(L(function*(){return yield o._withRetries(c=>Pk(c,t,r)),o.localCache[t]=r,o.notifyServiceWorker(t)}))})()}_get(t){var r=this;return L(function*(){const o=yield r._withRetries(c=>function Nj(n,e){return gm.apply(this,arguments)}(c,t));return r.localCache[t]=o,o})()}_remove(t){var r=this;return L(function*(){return r._withPendingWrite(L(function*(){return yield r._withRetries(o=>kw(o,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return L(function*(){const r=yield t._withRetries(u=>{const h=pm(u,!1).getAll();return new ji(h).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const o=[],c=new Set;if(0!==r.length)for(const{fbase_key:u,value:h}of r)c.add(u),JSON.stringify(t.localCache[u])!==JSON.stringify(h)&&(t.notifyListeners(u,h),o.push(u));for(const u of Object.keys(t.localCache))t.localCache[u]&&!c.has(u)&&(t.notifyListeners(u,null),o.push(u));return o})()}notifyListeners(t,r){this.localCache[t]=r;const o=this.listeners[t];if(o)for(const c of Array.from(o))c(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(L(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();Kd("rcb"),new Ud(3e4,6e4);class Vw extends nc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ho(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wA(n){return function yw(n,e){return Ol.apply(this,arguments)}(n.auth,new Vw(n),n.bypassAuthState)}function gh(n){const{auth:e,user:t}=n;return ye(t,e,"internal-error"),function _w(n,e){return Qg.apply(this,arguments)}(t,new Vw(n),n.bypassAuthState)}function Hk(n){return Lw.apply(this,arguments)}function Lw(){return(Lw=L(function*(n){const{auth:e,user:t}=n;return ye(t,e,"internal-error"),function qg(n,e){return Kg.apply(this,arguments)}(t,new Vw(n),n.bypassAuthState)})).apply(this,arguments)}class zk{constructor(e,t,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=L(function*(r,o){e.pendingPromise={resolve:r,reject:o};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(c){e.reject(c)}});return function(r,o){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return L(function*(){const{urlResponse:r,sessionId:o,postBody:c,tenantId:u,error:h,type:g}=e;if(h)return void t.reject(h);const _={auth:t.auth,requestUri:r,sessionId:o,tenantId:u||void 0,postBody:c||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(g)(_))}catch(E){t.reject(E)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wA;case"linkViaPopup":case"linkViaRedirect":return Hk;case"reauthViaPopup":case"reauthViaRedirect":return gh;default:oi(this.auth,"internal-error")}}resolve(e){Ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Ud(2e3,1e4);const IA="pendingRedirect",Ll=new Map;class Wk extends zk{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return L(function*(){let r=Ll.get(t.auth._key());if(!r){try{const c=(yield function bA(n,e){return $w.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(c)}catch(o){r=()=>Promise.reject(o)}Ll.set(t.auth._key(),r)}return t.bypassAuthState||Ll.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return L(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const o=yield r.auth._redirectUserForId(e.eventId);if(o)return r.user=o,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return L(function*(){})()}cleanUp(){}}function $w(){return($w=L(function*(n,e){const t=function DA(n){return Sr(IA,n.config.apiKey,n.name)}(e),r=function TA(n){return Ot(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const o="true"===(yield r._get(t));return yield r._remove(t),o})).apply(this,arguments)}function CA(n,e){Ll.set(n._key(),e)}function AA(n,e){return bm.apply(this,arguments)}function bm(){return(bm=L(function*(n,e,t=!1){if(Vo(n.app))return Promise.reject(Bn(n));const r=sn(n),o=function dc(n,e){return e?Ot(e):(ye(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),u=yield new Wk(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,yield r._persistUserIfCurrent(u.user),yield r._setRedirectUser(null,e)),u})).apply(this,arguments)}class SA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function MA(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RA(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!RA(e)){const o=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ui(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xA(e))}saveEventToCache(e){this.cachedEventUids.add(xA(e)),this.lastProcessedEventTime=Date.now()}}function xA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function RA({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function _h(){return(_h=L(function*(n,e={}){return Kt(n,"GET","/v1/projects",e)})).apply(this,arguments)}const OA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zk=/^https?/;function Cm(){return Cm=L(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function PA(n){return _h.apply(this,arguments)}(n);for(const t of e)try{if(NA(t))return}catch{}oi(n,"unauthorized-domain")}),Cm.apply(this,arguments)}function NA(n){const e=bg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return""===u.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&u.hostname===r}if(!Zk.test(t))return!1;if(OA.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const Gj=new Ud(3e4,6e4);function Zw(){const n=Rn().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}function Jk(n){return new Promise((e,t)=>{var r,o,c;function u(){Zw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zw(),t(Ui(n,"network-request-failed"))},timeout:Gj.get()})}if(null!==(o=null===(r=Rn().gapi)||void 0===r?void 0:r.iframes)&&void 0!==o&&o.Iframe)e(gapi.iframes.getContext());else{if(null===(c=Rn().gapi)||void 0===c||!c.load){const h=Kd("iframefcb");return Rn()[h]=()=>{gapi.load?u():t(Ui(n,"network-request-failed"))},function Ng(n){return Og.loadJS(n)}(`${function GD(){return Og.gapiScript}()}?onload=${h}`).catch(g=>t(g))}u()}}).catch(e=>{throw yh=null,e})}let yh=null;const e1=new Ud(5e3,15e3),FA="__/auth/iframe",Jw="emulator/auth/iframe",VA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UA(n){const e=n.config;ye(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Fs(e,Jw):`https://${n.config.authDomain}/${FA}`,r={apiKey:e.apiKey,appName:n.name,v:ii},o=LA.get(n.config.apiHost);o&&(r.eid=o);const c=n._getFrameworks();return c.length&&(r.fw=c.join(",")),`${t}?${bd(r).slice(1)}`}function Tm(){return Tm=L(function*(n){const e=yield function kA(n){return yh=yh||Jk(n),yh}(n),t=Rn().gapi;return ye(t,n,"internal-error"),e.open({where:document.body,url:UA(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VA,dontclear:!0},r=>new Promise(function(){var o=L(function*(c,u){yield r.restyle({setHideOnLeave:!1});const h=Ui(n,"network-request-failed"),g=Rn().setTimeout(()=>{u(h)},e1.get());function _(){Rn().clearTimeout(g),c(r)}r.ping(_).then(_,()=>{u(h)})});return function(c,u){return o.apply(this,arguments)}}()))}),Tm.apply(this,arguments)}const jA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class eI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const n1="__/auth/handler",r1="emulator/auth/handler",tI=encodeURIComponent("fac");function nI(n,e,t,r,o,c){return rI.apply(this,arguments)}function rI(){return(rI=L(function*(n,e,t,r,o,c){ye(n.config.authDomain,n,"auth-domain-config-required"),ye(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ii,eventId:o};if(e instanceof zo){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",function HO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,I]of Object.entries(c||{}))u[E]=I}if(e instanceof tA){const E=e.getScopes().filter(I=>""!==I);E.length>0&&(u.scopes=E.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const E of Object.keys(h))void 0===h[E]&&delete h[E];const g=yield n._getAppCheckToken(),_=g?`#${tI}=${encodeURIComponent(g)}`:"";return`${function o1({config:n}){return n.emulator?Fs(n,r1):`https://${n.authDomain}/${n1}`}(n)}?${bd(h).slice(1)}${_}`})).apply(this,arguments)}const iI="webStorageSupport",a1=class s1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dh,this._completeRedirectFn=AA,this._overrideRedirectResult=CA}_openPopup(e,t,r,o){var c=this;return L(function*(){var u;Ja(null===(u=c.eventManagers[e._key()])||void 0===u?void 0:u.manager,"_initialize() not called before _openPopup()");const h=yield nI(e,t,r,bg(),o);return function WA(n,e,t,r=500,o=600){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const g=Object.assign(Object.assign({},jA),{width:r.toString(),height:o.toString(),top:c,left:u}),_=on().toLowerCase();t&&(h=ZE(_)?"_blank":t),xl(_)&&(e=e||"http://localhost",g.scrollbars="yes");const E=Object.entries(g).reduce((A,[S,O])=>`${A}${S}=${O},`,"");if(function En(n=on()){var e;return xg(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(_)&&"_self"!==h)return function t1(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",h),new eI(null);const I=window.open(e||"",h,E);ye(I,n,"popup-blocked");try{I.focus()}catch{}return new eI(I)}(e,h,hm())})()}_openRedirect(e,t,r,o){var c=this;return L(function*(){return yield c._originValidation(e),function xk(n){Rn().location.href=n}(yield nI(e,t,r,bg(),o)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(Ja(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return L(function*(){const r=yield function BA(n){return Tm.apply(this,arguments)}(e),o=new SA(e);return r.register("authEvent",c=>(ye(c?.authEvent,e,"invalid-auth-event"),{status:o.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:o},t.iframes[e._key()]=r,o})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(iI,{type:iI},o=>{var c;const u=null===(c=o?.[0])||void 0===c?void 0:c[iI];void 0!==u&&t(!!u),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Yw(n){return Cm.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return tc()||Sg()||xg()}};var sI="@firebase/auth";class XA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return L(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const JA=PT("authIdTokenMaxAge")||300;let cI=null;const c1=n=>function(){var e=L(function*(t){const r=t&&(yield t.getIdTokenResult()),o=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(o&&o>JA)return;const c=r?.token;cI!==c&&(cI=c,yield fetch(n,{method:c?"POST":"DELETE",headers:c?{Authorization:`Bearer ${c}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function l1(n=wl()){const e=El(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function rw(n,e){const t=El(n,"auth");if(t.isInitialized()){const o=t.getImmediate();if(Ga(t.getOptions(),e??{}))return o;oi(o,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:a1,persistence:[Ok,Mw,dh]}),r=PT("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const u=c1(c.toString());(function bk(n,e,t){Dr(n).beforeAuthStateChanged(e,t)})(t,u,()=>u(t.currentUser)),function Ik(n,e,t,r){Dr(n).onIdTokenChanged(e,t,r)}(t,h=>u(h))}}const o=RT("auth");return o&&function KD(n,e,t){const r=sn(n);ye(r._canInitEmulator,r,"emulator-config-failed"),ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!!t?.disableWarnings,c=XD(e),{host:u,port:h}=function mj(n){const e=XD(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:QD(r.substr(c.length+1))}}{const[c,u]=r.split(":");return{host:c,port:QD(u)}}}(e);r.config.emulator={url:`${c}//${u}${null===h?"":`:${h}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:h,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||function kg(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${o}`),t}(function Rl(n){Og=n})({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const c=Ui("internal-error");c.customData=o,t(c)},r.type="text/javascript",r.charset="UTF-8",function eS(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function YA(n){Ms(new Ss("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;ye(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gd(n)},_=new Pg(r,o,c,g);return function qD(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ot);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ms(new Ss("auth-internal",e=>{const t=sn(e.getProvider("auth").getImmediate());return new XA(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(sI,"1.7.9",function QA(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),Kn(sI,"1.7.9","esm2017")}("Browser");class wh{constructor(e){return e}}class lI{constructor(){return Ig("auth")}}const Am=new p.nKC("angularfire2.auth-instances");function nS(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new wh(r)}}const rS={provide:lI,deps:[[new p.Xx1,Am]]},iS={provide:wh,useFactory:function tS(n,e){const t=wg("auth",n,e);return t&&new wh(t)},deps:[[new p.Xx1,Am],Vd]};function h1(n,...e){return Kn("angularfire",Ya.full,"auth"),(0,p.EmA)([iS,rS,{provide:Am,useFactory:nS(n),multi:!0,deps:[p.SKi,p.zZn,PE,kE,[new p.Xx1,pD],...e]}])}const uI=Fd(l1,!0);var Ul,Bl,cS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},D1={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function o(j,M,V){V||(V=0);var $=Array(16);if("string"==typeof M)for(var z=0;16>z;++z)$[z]=M.charCodeAt(V++)|M.charCodeAt(V++)<<8|M.charCodeAt(V++)<<16|M.charCodeAt(V++)<<24;else for(z=0;16>z;++z)$[z]=M[V++]|M[V++]<<8|M[V++]<<16|M[V++]<<24;var q=j.g[3],k=(M=j.g[0])+(q^(V=j.g[1])&((z=j.g[2])^q))+$[0]+3614090360&4294967295;k=(V=(z=(q=(M=(V=(z=(q=(M=(V=(z=(q=(M=(V=(z=(q=(M=(V=(z=(q=(M=(V=(z=(q=(M=(V=(z=(q=(M=(V=(z=(q=(M=(V=(z=(q=(M=(V=(z=(q=(M=(V=(z=(q=(M=(V=(z=(q=(M=(V=(z=(q=(M=(V=(z=(q=(M=(V=(z=(q=(M=V+(k<<7&4294967295|k>>>25))+((k=q+(z^M&(V^z))+$[1]+3905402710&4294967295)<<12&4294967295|k>>>20))+((k=z+(V^q&(M^V))+$[2]+606105819&4294967295)<<17&4294967295|k>>>15))+((k=V+(M^z&(q^M))+$[3]+3250441966&4294967295)<<22&4294967295|k>>>10))+((k=M+(q^V&(z^q))+$[4]+4118548399&4294967295)<<7&4294967295|k>>>25))+((k=q+(z^M&(V^z))+$[5]+1200080426&4294967295)<<12&4294967295|k>>>20))+((k=z+(V^q&(M^V))+$[6]+2821735955&4294967295)<<17&4294967295|k>>>15))+((k=V+(M^z&(q^M))+$[7]+4249261313&4294967295)<<22&4294967295|k>>>10))+((k=M+(q^V&(z^q))+$[8]+1770035416&4294967295)<<7&4294967295|k>>>25))+((k=q+(z^M&(V^z))+$[9]+2336552879&4294967295)<<12&4294967295|k>>>20))+((k=z+(V^q&(M^V))+$[10]+4294925233&4294967295)<<17&4294967295|k>>>15))+((k=V+(M^z&(q^M))+$[11]+2304563134&4294967295)<<22&4294967295|k>>>10))+((k=M+(q^V&(z^q))+$[12]+1804603682&4294967295)<<7&4294967295|k>>>25))+((k=q+(z^M&(V^z))+$[13]+4254626195&4294967295)<<12&4294967295|k>>>20))+((k=z+(V^q&(M^V))+$[14]+2792965006&4294967295)<<17&4294967295|k>>>15))+((k=V+(M^z&(q^M))+$[15]+1236535329&4294967295)<<22&4294967295|k>>>10))+((k=M+(z^q&(V^z))+$[1]+4129170786&4294967295)<<5&4294967295|k>>>27))+((k=q+(V^z&(M^V))+$[6]+3225465664&4294967295)<<9&4294967295|k>>>23))+((k=z+(M^V&(q^M))+$[11]+643717713&4294967295)<<14&4294967295|k>>>18))+((k=V+(q^M&(z^q))+$[0]+3921069994&4294967295)<<20&4294967295|k>>>12))+((k=M+(z^q&(V^z))+$[5]+3593408605&4294967295)<<5&4294967295|k>>>27))+((k=q+(V^z&(M^V))+$[10]+38016083&4294967295)<<9&4294967295|k>>>23))+((k=z+(M^V&(q^M))+$[15]+3634488961&4294967295)<<14&4294967295|k>>>18))+((k=V+(q^M&(z^q))+$[4]+3889429448&4294967295)<<20&4294967295|k>>>12))+((k=M+(z^q&(V^z))+$[9]+568446438&4294967295)<<5&4294967295|k>>>27))+((k=q+(V^z&(M^V))+$[14]+3275163606&4294967295)<<9&4294967295|k>>>23))+((k=z+(M^V&(q^M))+$[3]+4107603335&4294967295)<<14&4294967295|k>>>18))+((k=V+(q^M&(z^q))+$[8]+1163531501&4294967295)<<20&4294967295|k>>>12))+((k=M+(z^q&(V^z))+$[13]+2850285829&4294967295)<<5&4294967295|k>>>27))+((k=q+(V^z&(M^V))+$[2]+4243563512&4294967295)<<9&4294967295|k>>>23))+((k=z+(M^V&(q^M))+$[7]+1735328473&4294967295)<<14&4294967295|k>>>18))+((k=V+(q^M&(z^q))+$[12]+2368359562&4294967295)<<20&4294967295|k>>>12))+((k=M+(V^z^q)+$[5]+4294588738&4294967295)<<4&4294967295|k>>>28))+((k=q+(M^V^z)+$[8]+2272392833&4294967295)<<11&4294967295|k>>>21))+((k=z+(q^M^V)+$[11]+1839030562&4294967295)<<16&4294967295|k>>>16))+((k=V+(z^q^M)+$[14]+4259657740&4294967295)<<23&4294967295|k>>>9))+((k=M+(V^z^q)+$[1]+2763975236&4294967295)<<4&4294967295|k>>>28))+((k=q+(M^V^z)+$[4]+1272893353&4294967295)<<11&4294967295|k>>>21))+((k=z+(q^M^V)+$[7]+4139469664&4294967295)<<16&4294967295|k>>>16))+((k=V+(z^q^M)+$[10]+3200236656&4294967295)<<23&4294967295|k>>>9))+((k=M+(V^z^q)+$[13]+681279174&4294967295)<<4&4294967295|k>>>28))+((k=q+(M^V^z)+$[0]+3936430074&4294967295)<<11&4294967295|k>>>21))+((k=z+(q^M^V)+$[3]+3572445317&4294967295)<<16&4294967295|k>>>16))+((k=V+(z^q^M)+$[6]+76029189&4294967295)<<23&4294967295|k>>>9))+((k=M+(V^z^q)+$[9]+3654602809&4294967295)<<4&4294967295|k>>>28))+((k=q+(M^V^z)+$[12]+3873151461&4294967295)<<11&4294967295|k>>>21))+((k=z+(q^M^V)+$[15]+530742520&4294967295)<<16&4294967295|k>>>16))+((k=V+(z^q^M)+$[2]+3299628645&4294967295)<<23&4294967295|k>>>9))+((k=M+(z^(V|~q))+$[0]+4096336452&4294967295)<<6&4294967295|k>>>26))+((k=q+(V^(M|~z))+$[7]+1126891415&4294967295)<<10&4294967295|k>>>22))+((k=z+(M^(q|~V))+$[14]+2878612391&4294967295)<<15&4294967295|k>>>17))+((k=V+(q^(z|~M))+$[5]+4237533241&4294967295)<<21&4294967295|k>>>11))+((k=M+(z^(V|~q))+$[12]+1700485571&4294967295)<<6&4294967295|k>>>26))+((k=q+(V^(M|~z))+$[3]+2399980690&4294967295)<<10&4294967295|k>>>22))+((k=z+(M^(q|~V))+$[10]+4293915773&4294967295)<<15&4294967295|k>>>17))+((k=V+(q^(z|~M))+$[1]+2240044497&4294967295)<<21&4294967295|k>>>11))+((k=M+(z^(V|~q))+$[8]+1873313359&4294967295)<<6&4294967295|k>>>26))+((k=q+(V^(M|~z))+$[15]+4264355552&4294967295)<<10&4294967295|k>>>22))+((k=z+(M^(q|~V))+$[6]+2734768916&4294967295)<<15&4294967295|k>>>17))+((k=V+(q^(z|~M))+$[13]+1309151649&4294967295)<<21&4294967295|k>>>11))+((q=(M=V+((k=M+(z^(V|~q))+$[4]+4149444226&4294967295)<<6&4294967295|k>>>26))+((k=q+(V^(M|~z))+$[11]+3174756917&4294967295)<<10&4294967295|k>>>22))^((z=q+((k=z+(M^(q|~V))+$[2]+718787259&4294967295)<<15&4294967295|k>>>17))|~M))+$[9]+3951481745&4294967295,j.g[0]=j.g[0]+M&4294967295,j.g[1]=j.g[1]+(z+(k<<21&4294967295|k>>>11))&4294967295,j.g[2]=j.g[2]+z&4294967295,j.g[3]=j.g[3]+q&4294967295}function u(j,M){this.h=M;for(var V=[],$=!0,z=j.length-1;0<=z;z--){var q=0|j[z];$&&q==M||(V[z]=q,$=!1)}this.g=V}(function e(j,M){function V(){}V.prototype=M.prototype,j.D=M.prototype,j.prototype=new V,j.prototype.constructor=j,j.C=function($,z,q){for(var k=Array(arguments.length-2),X=2;X<arguments.length;X++)k[X-2]=arguments[X];return M.prototype[z].apply($,k)}})(r,function t(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(j,M){void 0===M&&(M=j.length);for(var V=M-this.blockSize,$=this.B,z=this.h,q=0;q<M;){if(0==z)for(;q<=V;)o(this,j,q),q+=this.blockSize;if("string"==typeof j){for(;q<M;)if($[z++]=j.charCodeAt(q++),z==this.blockSize){o(this,$),z=0;break}}else for(;q<M;)if($[z++]=j[q++],z==this.blockSize){o(this,$),z=0;break}}this.h=z,this.o+=M},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var M=1;M<j.length-8;++M)j[M]=0;var V=8*this.o;for(M=j.length-8;M<j.length;++M)j[M]=255&V,V/=256;for(this.u(j),j=Array(16),M=V=0;4>M;++M)for(var $=0;32>$;$+=8)j[V++]=this.g[M]>>>$&255;return j};var h={};function g(j){return-128<=j&&128>j?function c(j,M){var V=h;return Object.prototype.hasOwnProperty.call(V,j)?V[j]:V[j]=M(j)}(j,function(M){return new u([0|M],0>M?-1:0)}):new u([0|j],0>j?-1:0)}function _(j){if(isNaN(j)||!isFinite(j))return I;if(0>j)return P(_(-j));for(var M=[],V=1,$=0;j>=V;$++)M[$]=j/V|0,V*=4294967296;return new u(M,0)}var I=g(0),A=g(1),S=g(16777216);function O(j){if(0!=j.h)return!1;for(var M=0;M<j.g.length;M++)if(0!=j.g[M])return!1;return!0}function B(j){return-1==j.h}function P(j){for(var M=j.g.length,V=[],$=0;$<M;$++)V[$]=~j.g[$];return new u(V,~j.h).add(A)}function U(j,M){return j.add(P(M))}function K(j,M){for(;(65535&j[M])!=j[M];)j[M+1]+=j[M]>>>16,j[M]&=65535,M++}function Q(j,M){this.g=j,this.h=M}function ie(j,M){if(O(M))throw Error("division by zero");if(O(j))return new Q(I,I);if(B(j))return M=ie(P(j),M),new Q(P(M.g),P(M.h));if(B(M))return M=ie(j,P(M)),new Q(P(M.g),M.h);if(30<j.g.length){if(B(j)||B(M))throw Error("slowDivide_ only works with positive integers.");for(var V=A,$=M;0>=$.l(j);)V=fe(V),$=fe($);var z=we(V,1),q=we($,1);for($=we($,2),V=we(V,2);!O($);){var k=q.add($);0>=k.l(j)&&(z=z.add(V),q=k),$=we($,1),V=we(V,1)}return M=U(j,z.j(M)),new Q(z,M)}for(z=I;0<=j.l(M);){for(V=Math.max(1,Math.floor(j.m()/M.m())),$=48>=($=Math.ceil(Math.log(V)/Math.LN2))?1:Math.pow(2,$-48),k=(q=_(V)).j(M);B(k)||0<k.l(j);)k=(q=_(V-=$)).j(M);O(q)&&(q=A),z=z.add(q),j=U(j,k)}return new Q(z,j)}function fe(j){for(var M=j.g.length+1,V=[],$=0;$<M;$++)V[$]=j.i($)<<1|j.i($-1)>>>31;return new u(V,j.h)}function we(j,M){var V=M>>5;M%=32;for(var $=j.g.length-V,z=[],q=0;q<$;q++)z[q]=0<M?j.i(q+V)>>>M|j.i(q+V+1)<<32-M:j.i(q+V);return new u(z,j.h)}(n=u.prototype).m=function(){if(B(this))return-P(this).m();for(var j=0,M=1,V=0;V<this.g.length;V++){var $=this.i(V);j+=(0<=$?$:4294967296+$)*M,M*=4294967296}return j},n.toString=function(j){if(2>(j=j||10)||36<j)throw Error("radix out of range: "+j);if(O(this))return"0";if(B(this))return"-"+P(this).toString(j);for(var M=_(Math.pow(j,6)),V=this,$="";;){var z=ie(V,M).g,q=((0<(V=U(V,z.j(M))).g.length?V.g[0]:V.h)>>>0).toString(j);if(O(V=z))return q+$;for(;6>q.length;)q="0"+q;$=q+$}},n.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h},n.l=function(j){return B(j=U(this,j))?-1:O(j)?0:1},n.abs=function(){return B(this)?P(this):this},n.add=function(j){for(var M=Math.max(this.g.length,j.g.length),V=[],$=0,z=0;z<=M;z++){var q=$+(65535&this.i(z))+(65535&j.i(z)),k=(q>>>16)+(this.i(z)>>>16)+(j.i(z)>>>16);$=k>>>16,V[z]=(k&=65535)<<16|(q&=65535)}return new u(V,-2147483648&V[V.length-1]?-1:0)},n.j=function(j){if(O(this)||O(j))return I;if(B(this))return B(j)?P(this).j(P(j)):P(P(this).j(j));if(B(j))return P(this.j(P(j)));if(0>this.l(S)&&0>j.l(S))return _(this.m()*j.m());for(var M=this.g.length+j.g.length,V=[],$=0;$<2*M;$++)V[$]=0;for($=0;$<this.g.length;$++)for(var z=0;z<j.g.length;z++){var q=this.i($)>>>16,k=65535&this.i($),X=j.i(z)>>>16,Se=65535&j.i(z);V[2*$+2*z]+=k*Se,K(V,2*$+2*z),V[2*$+2*z+1]+=q*Se,K(V,2*$+2*z+1),V[2*$+2*z+1]+=k*X,K(V,2*$+2*z+1),V[2*$+2*z+2]+=q*X,K(V,2*$+2*z+2)}for($=0;$<M;$++)V[$]=V[2*$+1]<<16|V[2*$];for($=M;$<2*M;$++)V[$]=0;return new u(V,0)},n.A=function(j){return ie(this,j).h},n.and=function(j){for(var M=Math.max(this.g.length,j.g.length),V=[],$=0;$<M;$++)V[$]=this.i($)&j.i($);return new u(V,this.h&j.h)},n.or=function(j){for(var M=Math.max(this.g.length,j.g.length),V=[],$=0;$<M;$++)V[$]=this.i($)|j.i($);return new u(V,this.h|j.h)},n.xor=function(j){for(var M=Math.max(this.g.length,j.g.length),V=[],$=0;$<M;$++)V[$]=this.i($)^j.i($);return new u(V,this.h^j.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Bl=D1.Md5=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=_,u.fromString=function E(j,M){if(0==j.length)throw Error("number format error: empty string");if(2>(M=M||10)||36<M)throw Error("radix out of range: "+M);if("-"==j.charAt(0))return P(E(j.substring(1),M));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var V=_(Math.pow(M,8)),$=I,z=0;z<j.length;z+=8){var q=Math.min(8,j.length-z),k=parseInt(j.substring(z,z+q),M);8>q?(q=_(Math.pow(M,q)),$=$.j(q).add(_(k))):$=($=$.j(V)).add(_(k))}return $},Ul=D1.Integer=u}).apply(typeof cS<"u"?cS:typeof self<"u"?self:typeof window<"u"?window:{});var lS,bh,dS,Mm,Ch,fI,hS,Th,Rm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$i={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(y,b,D){return y==Array.prototype||y==Object.prototype||(y[b]=D.value),y},r=function t(y){y=["object"==typeof globalThis&&globalThis,y,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Rm&&Rm];for(var b=0;b<y.length;++b){var D=y[b];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}(this);!function o(y,b){if(b)e:{var D=r;y=y.split(".");for(var R=0;R<y.length-1;R++){var W=y[R];if(!(W in D))break e;D=D[W]}(b=b(R=D[y=y[y.length-1]]))!=R&&null!=b&&e(D,y,{configurable:!0,writable:!0,value:b})}}("Array.prototype.values",function(y){return y||function(){return function c(y,b){y instanceof String&&(y+="");var D=0,R=!1,W={next:function(){if(!R&&D<y.length){var J=D++;return{value:b(J,y[J]),done:!1}}return R=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}(this,function(b,D){return D})}});var u=u||{},h=this||self;function g(y){var b=typeof y;return"array"==(b="object"!=b?b:y?Array.isArray(y)?"array":b:"null")||"object"==b&&"number"==typeof y.length}function _(y){var b=typeof y;return"object"==b&&null!=y||"function"==b}function E(y,b,D){return y.call.apply(y.bind,arguments)}function I(y,b,D){if(!y)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,R),y.apply(b,W)}}return function(){return y.apply(b,arguments)}}function A(y,b,D){return(A=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?E:I).apply(null,arguments)}function S(y,b){var D=Array.prototype.slice.call(arguments,1);return function(){var R=D.slice();return R.push.apply(R,arguments),y.apply(this,R)}}function O(y,b){function D(){}D.prototype=b.prototype,y.aa=b.prototype,y.prototype=new D,y.prototype.constructor=y,y.Qb=function(R,W,J){for(var ve=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)ve[Yt-2]=arguments[Yt];return b.prototype[W].apply(R,ve)}}function B(y){const b=y.length;if(0<b){const D=Array(b);for(let R=0;R<b;R++)D[R]=y[R];return D}return[]}function P(y,b){for(let D=1;D<arguments.length;D++){const R=arguments[D];if(g(R)){const W=y.length||0,J=R.length||0;y.length=W+J;for(let ve=0;ve<J;ve++)y[W+ve]=R[ve]}else y.push(R)}}function K(y){return/^[\s\xa0]*$/.test(y)}function Q(){var y=h.navigator;return y&&(y=y.userAgent)?y:""}function ie(y){return ie[" "](y),y}ie[" "]=function(){};var fe=!(-1==Q().indexOf("Gecko")||-1!=Q().toLowerCase().indexOf("webkit")&&-1==Q().indexOf("Edge")||-1!=Q().indexOf("Trident")||-1!=Q().indexOf("MSIE")||-1!=Q().indexOf("Edge"));function we(y,b,D){for(const R in y)b.call(D,y[R],R,y)}function M(y){const b={};for(const D in y)b[D]=y[D];return b}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(y,b){let D,R;for(let W=1;W<arguments.length;W++){for(D in R=arguments[W],R)y[D]=R[D];for(let J=0;J<V.length;J++)D=V[J],Object.prototype.hasOwnProperty.call(R,D)&&(y[D]=R[D])}}function z(y){var b=1;y=y.split(":");const D=[];for(;0<b&&y.length;)D.push(y.shift()),b--;return y.length&&D.push(y.join(":")),D}function q(y){h.setTimeout(()=>{throw y},0)}function k(){var y=Ve;let b=null;return y.g&&(b=y.g,y.g=y.g.next,y.g||(y.h=null),b.next=null),b}var Se=new class U{constructor(b,D){this.i=b,this.j=D,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}(()=>new oe,y=>y.reset());class oe{constructor(){this.next=this.g=this.h=null}set(b,D){this.h=b,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,$e=!1,Ve=new class X{constructor(){this.h=this.g=null}add(b,D){const R=Se.get();R.set(b,D),this.h?this.h.next=R:this.g=R,this.h=R}},Be=()=>{const y=h.Promise.resolve(void 0);Te=()=>{y.then(Ze)}};var Ze=()=>{for(var y;y=k();){try{y.h.call(y.g)}catch(D){q(D)}var b=Se;b.j(y),100>b.h&&(b.h++,y.next=b.g,b.g=y)}$e=!1};function Xe(){this.s=this.s,this.C=this.C}function Ft(y,b){this.type=y,this.g=this.target=b,this.defaultPrevented=!1}Xe.prototype.s=!1,Xe.prototype.ma=function(){this.s||(this.s=!0,this.N())},Xe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ft.prototype.h=function(){this.defaultPrevented=!0};var yn=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var y=!1,b=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const D=()=>{};h.addEventListener("test",D,b),h.removeEventListener("test",D,b)}catch{}return y}();function On(y,b){if(Ft.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var D=this.type=y.type,R=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=b,b=y.relatedTarget){if(fe){e:{try{ie(b.nodeName);var W=!0;break e}catch{}W=!1}W||(b=null)}}else"mouseover"==D?b=y.fromElement:"mouseout"==D&&(b=y.toElement);this.relatedTarget=b,R?(this.clientX=void 0!==R.clientX?R.clientX:R.pageX,this.clientY=void 0!==R.clientY?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=void 0!==y.clientX?y.clientX:y.pageX,this.clientY=void 0!==y.clientY?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType="string"==typeof y.pointerType?y.pointerType:Kr[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&On.aa.h.call(this)}}O(On,Ft);var Kr={2:"touch",3:"pen",4:"mouse"};On.prototype.h=function(){On.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),Pr=0;function fu(y,b,D,R,W){this.listener=y,this.proxy=null,this.src=b,this.type=D,this.capture=!!R,this.ha=W,this.key=++Pr,this.da=this.fa=!1}function ca(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function If(y){this.src=y,this.g={},this.h=0}function H_(y,b){var D=b.type;if(D in y.g){var J,R=y.g[D],W=Array.prototype.indexOf.call(R,b,void 0);(J=0<=W)&&Array.prototype.splice.call(R,W,1),J&&(ca(b),0==y.g[D].length&&(delete y.g[D],y.h--))}}function is(y,b,D,R){for(var W=0;W<y.length;++W){var J=y[W];if(!J.da&&J.listener==b&&J.capture==!!D&&J.ha==R)return W}return-1}If.prototype.add=function(y,b,D,R,W){var J=y.toString();(y=this.g[J])||(y=this.g[J]=[],this.h++);var ve=is(y,b,R,W);return-1<ve?(b=y[ve],D||(b.fa=!1)):((b=new fu(b,this.src,J,!!R,W)).fa=D,y.push(b)),b};var z_="closure_lm_"+(1e6*Math.random()|0),Gb={};function MR(y,b,D,R,W){if(R&&R.once)return pu(y,b,D,R,W);if(Array.isArray(b)){for(var J=0;J<b.length;J++)MR(y,b[J],D,R,W);return null}return D=X2(D),y&&y[xt]?y.K(b,D,_(R)?!!R.capture:!!R,W):st(y,b,D,!1,R,W)}function st(y,b,D,R,W,J){if(!b)throw Error("Invalid event type");var ve=_(W)?!!W.capture:!!W,Yt=q2(y);if(Yt||(y[z_]=Yt=new If(y)),(D=Yt.add(b,D,R,ve,J)).proxy)return D;if(R=function zn(){const b=fee;return function y(D){return b.call(y.src,y.listener,D)}}(),D.proxy=R,R.src=y,R.listener=D,y.addEventListener)yn||(W=ve),void 0===W&&(W=!1),y.addEventListener(b.toString(),R,W);else if(y.attachEvent)y.attachEvent(y3(b.toString()),R);else{if(!y.addListener||!y.removeListener)throw Error("addEventListener and attachEvent are unavailable.");y.addListener(R)}return D}function pu(y,b,D,R,W){if(Array.isArray(b)){for(var J=0;J<b.length;J++)pu(y,b[J],D,R,W);return null}return D=X2(D),y&&y[xt]?y.L(b,D,_(R)?!!R.capture:!!R,W):st(y,b,D,!0,R,W)}function os(y,b,D,R,W){if(Array.isArray(b))for(var J=0;J<b.length;J++)os(y,b[J],D,R,W);else R=_(R)?!!R.capture:!!R,D=X2(D),y&&y[xt]?(y=y.i,(b=String(b).toString())in y.g&&-1<(D=is(J=y.g[b],D,R,W))&&(ca(J[D]),Array.prototype.splice.call(J,D,1),0==J.length&&(delete y.g[b],y.h--))):y&&(y=q2(y))&&(b=y.g[b.toString()],y=-1,b&&(y=is(b,D,R,W)),(D=-1<y?b[y]:null)&&W2(D))}function W2(y){if("number"!=typeof y&&y&&!y.da){var b=y.src;if(b&&b[xt])H_(b.i,y);else{var D=y.type,R=y.proxy;b.removeEventListener?b.removeEventListener(D,R,y.capture):b.detachEvent?b.detachEvent(y3(D),R):b.addListener&&b.removeListener&&b.removeListener(R),(D=q2(b))?(H_(D,y),0==D.h&&(D.src=null,b[z_]=null)):ca(y)}}}function y3(y){return y in Gb?Gb[y]:Gb[y]="on"+y}function fee(y,b){if(y.da)y=!0;else{b=new On(b,this);var D=y.listener,R=y.ha||y.src;y.fa&&W2(y),y=D.call(R,b)}return y}function q2(y){return(y=y[z_])instanceof If?y:null}var K2="__closure_events_fn_"+(1e9*Math.random()>>>0);function X2(y){return"function"==typeof y?y:(y[K2]||(y[K2]=function(b){return y.handleEvent(b)}),y[K2])}function Xr(){Xe.call(this),this.i=new If(this),this.M=this,this.F=null}function di(y,b){var D,R=y.F;if(R)for(D=[];R;R=R.F)D.push(R);if(y=y.M,R=b.type||b,"string"==typeof b)b=new Ft(b,y);else if(b instanceof Ft)b.target=b.target||y;else{var W=b;$(b=new Ft(R,y),W)}if(W=!0,D)for(var J=D.length-1;0<=J;J--){var ve=b.g=D[J];W=PR(ve,R,!0,b)&&W}if(W=PR(ve=b.g=y,R,!0,b)&&W,W=PR(ve,R,!1,b)&&W,D)for(J=0;J<D.length;J++)W=PR(ve=b.g=D[J],R,!1,b)&&W}function PR(y,b,D,R){if(!(b=y.i.g[String(b)]))return!0;b=b.concat();for(var W=!0,J=0;J<b.length;++J){var ve=b[J];if(ve&&!ve.da&&ve.capture==D){var Yt=ve.listener,Or=ve.ha||ve.src;ve.fa&&H_(y.i,ve),W=!1!==Yt.call(Or,R)&&W}}return W&&!R.defaultPrevented}function v3(y,b,D){if("function"==typeof y)D&&(y=A(y,D));else{if(!y||"function"!=typeof y.handleEvent)throw Error("Invalid listener argument");y=A(y.handleEvent,y)}return 2147483647<Number(b)?-1:h.setTimeout(y,b||0)}function E3(y){y.g=v3(()=>{y.g=null,y.i&&(y.i=!1,E3(y))},y.l);const b=y.h;y.h=null,y.m.apply(null,b)}O(Xr,Xe),Xr.prototype[xt]=!0,Xr.prototype.removeEventListener=function(y,b,D,R){os(this,y,b,D,R)},Xr.prototype.N=function(){if(Xr.aa.N.call(this),this.i){var b,y=this.i;for(b in y.g){for(var D=y.g[b],R=0;R<D.length;R++)ca(D[R]);delete y.g[b],y.h--}}this.F=null},Xr.prototype.K=function(y,b,D,R){return this.i.add(String(y),b,!1,D,R)},Xr.prototype.L=function(y,b,D,R){return this.i.add(String(y),b,!0,D,R)};class pee extends Xe{constructor(b,D){super(),this.m=b,this.l=D,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:E3(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wb(y){Xe.call(this),this.h=y,this.g={}}O(Wb,Xe);var w3=[];function I3(y){we(y.g,function(b,D){this.g.hasOwnProperty(D)&&W2(b)},y),y.g={}}Wb.prototype.N=function(){Wb.aa.N.call(this),I3(this)},Wb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Q2=h.JSON.stringify,gee=h.JSON.parse,mee=class{stringify(y){return h.JSON.stringify(y,void 0)}parse(y){return h.JSON.parse(y,void 0)}};function Y2(){}function C3(){}Y2.prototype.h=null;var qb={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Z2(){Ft.call(this,"d")}function J2(){Ft.call(this,"c")}O(Z2,Ft),O(J2,Ft);var bf={},T3=null;function OR(){return T3=T3||new Xr}function D3(y){Ft.call(this,bf.La,y)}function Kb(y){const b=OR();di(b,new D3(b))}function A3(y,b){Ft.call(this,bf.STAT_EVENT,y),this.stat=b}function hi(y){const b=OR();di(b,new A3(b,y))}function S3(y,b){Ft.call(this,bf.Ma,y),this.size=b}function Xb(y,b){if("function"!=typeof y)throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){y()},b)}function Qb(){this.g=!0}function G_(y,b,D,R){y.info(function(){return"XMLHTTP TEXT ("+b+"): "+function Eee(y,b){if(!y.g)return b;if(!b)return null;try{var D=JSON.parse(b);if(D)for(y=0;y<D.length;y++)if(Array.isArray(D[y])){var R=D[y];if(!(2>R.length)){var W=R[1];if(Array.isArray(W)&&!(1>W.length)){var J=W[0];if("noop"!=J&&"stop"!=J&&"close"!=J)for(var ve=1;ve<W.length;ve++)W[ve]=""}}}return Q2(D)}catch{return b}}(y,D)+(R?" "+R:"")})}bf.La="serverreachability",O(D3,Ft),bf.STAT_EVENT="statevent",O(A3,Ft),bf.Ma="timingevent",O(S3,Ft),Qb.prototype.xa=function(){this.g=!1},Qb.prototype.info=function(){};var eU,NR={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},x3={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function kR(){}function gu(y,b,D,R){this.j=y,this.i=b,this.l=D,this.R=R||1,this.U=new Wb(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new R3}function R3(){this.i=null,this.g="",this.h=!1}O(kR,Y2),kR.prototype.g=function(){return new XMLHttpRequest},kR.prototype.i=function(){return{}},eU=new kR;var M3={},tU={};function nU(y,b,D){y.L=1,y.v=UR(Oc(b)),y.m=D,y.P=!0,P3(y,null)}function P3(y,b){y.F=Date.now(),FR(y),y.A=Oc(y.v);var D=y.A,R=y.R;Array.isArray(R)||(R=[String(R)]),W3(D.i,"t",R),y.C=0,D=y.j.J,y.h=new R3,y.g=uq(y.j,D?b:null,!y.m),0<y.O&&(y.M=new pee(A(y.Y,y,y.g),y.O)),b=y.U,D=y.g,R=y.ca;var W="readystatechange";Array.isArray(W)||(W&&(w3[0]=W.toString()),W=w3);for(var J=0;J<W.length;J++){var ve=MR(D,W[J],R||b.handleEvent,!1,b.h||b);if(!ve)break;b.g[ve.key]=ve}b=y.H?M(y.H):{},y.m?(y.u||(y.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,b)):(y.u="GET",y.g.ea(y.A,y.u,null,b)),Kb(),function _ee(y,b,D,R,W,J){y.info(function(){if(y.g)if(J)for(var ve="",Yt=J.split("&"),Or=0;Or<Yt.length;Or++){var Rt=Yt[Or].split("=");if(1<Rt.length){var Qr=Rt[0];Rt=Rt[1];var Yr=Qr.split("_");ve=2<=Yr.length&&"type"==Yr[1]?ve+(Qr+"=")+Rt+"&":ve+(Qr+"=redacted&")}}else ve=null;else ve=J;return"XMLHTTP REQ ("+R+") [attempt "+W+"]: "+b+"\n"+D+"\n"+ve})}(y.i,y.u,y.A,y.l,y.R,y.m)}function O3(y){return!!y.g&&"GET"==y.u&&2!=y.L&&y.j.Ca}function wee(y,b){var D=y.C,R=b.indexOf("\n",D);return-1==R?tU:(D=Number(b.substring(D,R)),isNaN(D)?M3:(R+=1)+D>b.length?tU:(b=b.slice(R,R+D),y.C=R+D,b))}function FR(y){y.S=Date.now()+y.I,N3(y,y.I)}function N3(y,b){if(null!=y.B)throw Error("WatchDog timer not null");y.B=Xb(A(y.ba,y),b)}function rU(y){y.B&&(h.clearTimeout(y.B),y.B=null)}function Yb(y){0==y.j.G||y.J||sq(y.j,y)}function Cf(y){rU(y);var b=y.M;b&&"function"==typeof b.ma&&b.ma(),y.M=null,I3(y.U),y.g&&(b=y.g,y.g=null,b.abort(),b.ma())}function iU(y,b){try{var D=y.j;if(0!=D.G&&(D.g==y||oU(D.h,y)))if(!y.K&&oU(D.h,y)&&3==D.G){try{var R=D.Da.g.parse(b)}catch{R=null}if(Array.isArray(R)&&3==R.length){var W=R;if(0==W[0]){e:if(!D.u){if(D.g){if(!(D.g.F+3e3<y.F))break e;zR(D),$R(D)}lU(D),hi(18)}}else D.za=W[1],0<D.za-D.T&&37500>W[2]&&D.F&&0==D.v&&!D.C&&(D.C=Xb(A(D.Za,D),6e3));if(1>=V3(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else Df(D,11)}else if((y.K||D.g==y)&&zR(D),!K(b))for(W=D.Da.g.parse(b),b=0;b<W.length;b++){let Rt=W[b];if(D.T=Rt[0],Rt=Rt[1],2==D.G)if("c"==Rt[0]){D.K=Rt[1],D.ia=Rt[2];const Qr=Rt[3];null!=Qr&&(D.la=Qr,D.j.info("VER="+D.la));const Yr=Rt[4];null!=Yr&&(D.Aa=Yr,D.j.info("SVER="+D.Aa));const K_=Rt[5];null!=K_&&"number"==typeof K_&&0<K_&&(D.L=R=1.5*K_,D.j.info("backChannelRequestTimeoutMs_="+R)),R=D;const ss=y.g;if(ss){const WR=ss.g?ss.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(WR){var J=R.h;J.g||-1==WR.indexOf("spdy")&&-1==WR.indexOf("quic")&&-1==WR.indexOf("h2")||(J.j=J.l,J.g=new Set,J.h&&(sU(J,J.h),J.h=null))}if(R.D){const dU=ss.g?ss.g.getResponseHeader("X-HTTP-Session-Id"):null;dU&&(R.ya=dU,cn(R.I,R.D,dU))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-y.F,D.j.info("Handshake RTT: "+D.R+"ms"));var ve=y;if((R=D).qa=lq(R,R.J?R.ia:null,R.W),ve.K){L3(R.h,ve);var Yt=ve,Or=R.L;Or&&(Yt.I=Or),Yt.B&&(rU(Yt),FR(Yt)),R.g=ve}else iq(R);0<D.i.length&&HR(D)}else"stop"!=Rt[0]&&"close"!=Rt[0]||Df(D,7);else 3==D.G&&("stop"==Rt[0]||"close"==Rt[0]?"stop"==Rt[0]?Df(D,7):cU(D):"noop"!=Rt[0]&&D.l&&D.l.ta(Rt),D.v=0)}Kb()}catch{}}gu.prototype.ca=function(y){y=y.target;const b=this.M;b&&3==Nc(y)?b.j():this.Y(y)},gu.prototype.Y=function(y){try{if(y==this.g)e:{const Yr=Nc(this.g);var b=this.g.Ba();if(this.g.Z(),!(3>Yr)&&(3!=Yr||this.g&&(this.h.h||this.g.oa()||J3(this.g)))){this.J||4!=Yr||7==b||Kb(),rU(this);var D=this.g.Z();this.X=D;t:if(O3(this)){var R=J3(this.g);y="";var W=R.length,J=4==Nc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Cf(this),Yb(this);var ve="";break t}this.h.i=new h.TextDecoder}for(b=0;b<W;b++)this.h.h=!0,y+=this.h.i.decode(R[b],{stream:!(J&&b==W-1)});R.length=0,this.h.g+=y,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=200==D,function yee(y,b,D,R,W,J,ve){y.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+W+"]: "+b+"\n"+D+"\n"+J+" "+ve})}(this.i,this.u,this.A,this.l,this.R,Yr,D),this.o){if(this.T&&!this.K){t:{if(this.g){var Yt,Or=this.g;if((Yt=Or.g?Or.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Yt)){var Rt=Yt;break t}}Rt=null}if(!(D=Rt)){this.o=!1,this.s=3,hi(12),Cf(this),Yb(this);break e}G_(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,iU(this,D)}if(this.P){let ss;for(D=!0;!this.J&&this.C<ve.length;){if(ss=wee(this,ve),ss==tU){4==Yr&&(this.s=4,hi(14),D=!1),G_(this.i,this.l,null,"[Incomplete Response]");break}if(ss==M3){this.s=4,hi(15),G_(this.i,this.l,ve,"[Invalid Chunk]"),D=!1;break}G_(this.i,this.l,ss,null),iU(this,ss)}if(O3(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Yr||0!=ve.length||this.h.h||(this.s=1,hi(16),D=!1),this.o=this.o&&D,D){if(0<ve.length&&!this.W){this.W=!0;var Qr=this.j;Qr.g==this&&Qr.ba&&!Qr.M&&(Qr.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),uU(Qr),Qr.M=!0,hi(11))}}else G_(this.i,this.l,ve,"[Invalid Chunked Response]"),Cf(this),Yb(this)}else G_(this.i,this.l,ve,null),iU(this,ve);4==Yr&&Cf(this),this.o&&!this.J&&(4==Yr?sq(this.j,this):(this.o=!1,FR(this)))}else(function Lee(y){const b={};y=(y.g&&2<=Nc(y)&&y.g.getAllResponseHeaders()||"").split("\r\n");for(let R=0;R<y.length;R++){if(K(y[R]))continue;var D=z(y[R]);const W=D[0];if("string"!=typeof(D=D[1]))continue;D=D.trim();const J=b[W]||[];b[W]=J,J.push(D)}!function j(y,b){for(const D in y)b.call(void 0,y[D],D,y)}(b,function(R){return R.join(", ")})})(this.g),400==D&&0<ve.indexOf("Unknown SID")?(this.s=3,hi(12)):(this.s=0,hi(13)),Cf(this),Yb(this)}}}catch{}},gu.prototype.cancel=function(){this.J=!0,Cf(this)},gu.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(function vee(y,b){y.info(function(){return"TIMEOUT: "+b})}(this.i,this.A),2!=this.L&&(Kb(),hi(17)),Cf(this),this.s=2,Yb(this)):N3(this,this.S-y)};var Iee=class{constructor(y,b){this.g=y,this.map=b}};function k3(y){this.l=y||10,y=h.PerformanceNavigationTiming?0<(y=h.performance.getEntriesByType("navigation")).length&&("hq"==y[0].nextHopProtocol||"h2"==y[0].nextHopProtocol):!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function F3(y){return!!y.h||!!y.g&&y.g.size>=y.j}function V3(y){return y.h?1:y.g?y.g.size:0}function oU(y,b){return y.h?y.h==b:!!y.g&&y.g.has(b)}function sU(y,b){y.g?y.g.add(b):y.h=b}function L3(y,b){y.h&&y.h==b?y.h=null:y.g&&y.g.has(b)&&y.g.delete(b)}function U3(y){if(null!=y.h)return y.i.concat(y.h.D);if(null!=y.g&&0!==y.g.size){let b=y.i;for(const D of y.g.values())b=b.concat(D.D);return b}return B(y.i)}function B3(y,b){if(y.forEach&&"function"==typeof y.forEach)y.forEach(b,void 0);else if(g(y)||"string"==typeof y)Array.prototype.forEach.call(y,b,void 0);else for(var D=function Cee(y){if(y.na&&"function"==typeof y.na)return y.na();if(!y.V||"function"!=typeof y.V){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(g(y)||"string"==typeof y){var b=[];y=y.length;for(var D=0;D<y;D++)b.push(D);return b}b=[],D=0;for(const R in y)b[D++]=R;return b}}}(y),R=function bee(y){if(y.V&&"function"==typeof y.V)return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if("string"==typeof y)return y.split("");if(g(y)){for(var b=[],D=y.length,R=0;R<D;R++)b.push(y[R]);return b}for(R in b=[],D=0,y)b[D++]=y[R];return b}(y),W=R.length,J=0;J<W;J++)b.call(void 0,R[J],D&&D[J],y)}k3.prototype.cancel=function(){if(this.i=U3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const y of this.g.values())y.cancel();this.g.clear()}};var j3=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tf(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof Tf){this.h=y.h,VR(this,y.j),this.o=y.o,this.g=y.g,LR(this,y.s),this.l=y.l;var b=y.i,D=new e0;D.i=b.i,b.g&&(D.g=new Map(b.g),D.h=b.h),$3(this,D),this.m=y.m}else y&&(b=String(y).match(j3))?(this.h=!1,VR(this,b[1]||"",!0),this.o=Zb(b[2]||""),this.g=Zb(b[3]||"",!0),LR(this,b[4]),this.l=Zb(b[5]||"",!0),$3(this,b[6]||"",!0),this.m=Zb(b[7]||"")):(this.h=!1,this.i=new e0(null,this.h))}function Oc(y){return new Tf(y)}function VR(y,b,D){y.j=D?Zb(b,!0):b,y.j&&(y.j=y.j.replace(/:$/,""))}function LR(y,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);y.s=b}else y.s=null}function $3(y,b,D){b instanceof e0?(y.i=b,function Mee(y,b){b&&!y.j&&(mu(y),y.i=null,y.g.forEach(function(D,R){var W=R.toLowerCase();R!=W&&(z3(this,R),W3(this,W,D))},y)),y.j=b}(y.i,y.h)):(D||(b=Jb(b,xee)),y.i=new e0(b,y.h))}function cn(y,b,D){y.i.set(b,D)}function UR(y){return cn(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function Zb(y,b){return y?b?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Jb(y,b,D){return"string"==typeof y?(y=encodeURI(y).replace(b,Dee),D&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Dee(y){return"%"+((y=y.charCodeAt(0))>>4&15).toString(16)+(15&y).toString(16)}Tf.prototype.toString=function(){var y=[],b=this.j;b&&y.push(Jb(b,H3,!0),":");var D=this.g;return(D||"file"==b)&&(y.push("//"),(b=this.o)&&y.push(Jb(b,H3,!0),"@"),y.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(D=this.s)&&y.push(":",String(D))),(D=this.l)&&(this.g&&"/"!=D.charAt(0)&&y.push("/"),y.push(Jb(D,"/"==D.charAt(0)?See:Aee,!0))),(D=this.i.toString())&&y.push("?",D),(D=this.m)&&y.push("#",Jb(D,Ree)),y.join("")};var H3=/[#\/\?@]/g,Aee=/[#\?:]/g,See=/[#\?]/g,xee=/[#\?@]/g,Ree=/#/g;function e0(y,b){this.h=this.g=null,this.i=y||null,this.j=!!b}function mu(y){y.g||(y.g=new Map,y.h=0,y.i&&function Tee(y,b){if(y){y=y.split("&");for(var D=0;D<y.length;D++){var R=y[D].indexOf("="),W=null;if(0<=R){var J=y[D].substring(0,R);W=y[D].substring(R+1)}else J=y[D];b(J,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}(y.i,function(b,D){y.add(decodeURIComponent(b.replace(/\+/g," ")),D)}))}function z3(y,b){mu(y),b=W_(y,b),y.g.has(b)&&(y.i=null,y.h-=y.g.get(b).length,y.g.delete(b))}function G3(y,b){return mu(y),b=W_(y,b),y.g.has(b)}function W3(y,b,D){z3(y,b),0<D.length&&(y.i=null,y.g.set(W_(y,b),B(D)),y.h+=D.length)}function W_(y,b){return b=String(b),y.j&&(b=b.toLowerCase()),b}function _u(y,b,D,R,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),R(D)}catch{}}function Nee(){this.g=new mee}function kee(y,b,D){const R=D||"";try{B3(y,function(W,J){let ve=W;_(W)&&(ve=Q2(W)),b.push(R+J+"="+encodeURIComponent(ve))})}catch(W){throw b.push(R+"type="+encodeURIComponent("_badmap")),W}}function t0(y){this.l=y.Ub||null,this.j=y.eb||!1}function BR(y,b){Xr.call(this),this.D=y,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function q3(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}function n0(y){y.readyState=4,y.l=null,y.j=null,y.v=null,r0(y)}function r0(y){y.onreadystatechange&&y.onreadystatechange.call(y)}function K3(y){let b="";return we(y,function(D,R){b+=R,b+=":",b+=D,b+="\r\n"}),b}function aU(y,b,D){e:{for(R in D){var R=!1;break e}R=!0}R||(D=K3(D),"string"==typeof y?null!=D&&encodeURIComponent(String(D)):cn(y,b,D))}function Nn(y){Xr.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=e0.prototype).add=function(y,b){mu(this),this.i=null,y=W_(this,y);var D=this.g.get(y);return D||this.g.set(y,D=[]),D.push(b),this.h+=1,this},n.forEach=function(y,b){mu(this),this.g.forEach(function(D,R){D.forEach(function(W){y.call(b,W,R,this)},this)},this)},n.na=function(){mu(this);const y=Array.from(this.g.values()),b=Array.from(this.g.keys()),D=[];for(let R=0;R<b.length;R++){const W=y[R];for(let J=0;J<W.length;J++)D.push(b[R])}return D},n.V=function(y){mu(this);let b=[];if("string"==typeof y)G3(this,y)&&(b=b.concat(this.g.get(W_(this,y))));else{y=Array.from(this.g.values());for(let D=0;D<y.length;D++)b=b.concat(y[D])}return b},n.set=function(y,b){return mu(this),this.i=null,G3(this,y=W_(this,y))&&(this.h-=this.g.get(y).length),this.g.set(y,[b]),this.h+=1,this},n.get=function(y,b){return y&&0<(y=this.V(y)).length?String(y[0]):b},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],b=Array.from(this.g.keys());for(var D=0;D<b.length;D++){var R=b[D];const J=encodeURIComponent(String(R)),ve=this.V(R);for(R=0;R<ve.length;R++){var W=J;""!==ve[R]&&(W+="="+encodeURIComponent(String(ve[R]))),y.push(W)}}return this.i=y.join("&")},O(t0,Y2),t0.prototype.g=function(){return new BR(this.l,this.j)},t0.prototype.i=function(y){return function(){return y}}({}),O(BR,Xr),(n=BR.prototype).open=function(y,b){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=b,this.readyState=1,r0(this)},n.send=function(y){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(b.body=y),(this.D||h).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,n0(this)),this.readyState=0},n.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,r0(this)),this.g&&(this.readyState=3,r0(this),this.g)))if("arraybuffer"===this.responseType)y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;q3(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var b=y.value?y.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!y.done}))&&(this.response=this.responseText+=b)}y.done?n0(this):r0(this),3==this.readyState&&q3(this)}},n.Ra=function(y){this.g&&(this.response=this.responseText=y,n0(this))},n.Qa=function(y){this.g&&(this.response=y,n0(this))},n.ga=function(){this.g&&n0(this)},n.setRequestHeader=function(y,b){this.u.append(y,b)},n.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],b=this.h.entries();for(var D=b.next();!D.done;)y.push((D=D.value)[0]+": "+D[1]),D=b.next();return y.join("\r\n")},Object.defineProperty(BR.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(y){this.m=y?"include":"same-origin"}}),O(Nn,Xr);var Fee=/^https?$/i,Vee=["POST","PUT"];function X3(y,b){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=b,y.m=5,Q3(y),jR(y)}function Q3(y){y.A||(y.A=!0,di(y,"complete"),di(y,"error"))}function Y3(y){if(y.h&&typeof u<"u"&&(!y.v[1]||4!=Nc(y)||2!=y.Z()))if(y.u&&4==Nc(y))v3(y.Ea,0,y);else if(di(y,"readystatechange"),4==Nc(y)){y.h=!1;try{const ve=y.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var D;if(!(D=b)){var R;if(R=0===ve){var W=String(y.D).match(j3)[1]||null;!W&&h.self&&h.self.location&&(W=h.self.location.protocol.slice(0,-1)),R=!Fee.test(W?W.toLowerCase():"")}D=R}if(D)di(y,"complete"),di(y,"success");else{y.m=6;try{var J=2<Nc(y)?y.g.statusText:""}catch{J=""}y.l=J+" ["+y.Z()+"]",Q3(y)}}finally{jR(y)}}}function jR(y,b){if(y.g){Z3(y);const D=y.g,R=y.v[0]?()=>{}:null;y.g=null,y.v=null,b||di(y,"ready");try{D.onreadystatechange=R}catch{}}}function Z3(y){y.I&&(h.clearTimeout(y.I),y.I=null)}function Nc(y){return y.g?y.g.readyState:0}function J3(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function o0(y,b,D){return D&&D.internalChannelParams&&D.internalChannelParams[y]||b}function eq(y){this.Aa=0,this.i=[],this.j=new Qb,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=o0("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=o0("baseRetryDelayMs",5e3,y),this.cb=o0("retryDelaySeedMs",1e4,y),this.Wa=o0("forwardChannelMaxRetries",2,y),this.wa=o0("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new k3(y&&y.concurrentRequestLimit),this.Da=new Nee,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function cU(y){if(tq(y),3==y.G){var b=y.U++,D=Oc(y.I);if(cn(D,"SID",y.K),cn(D,"RID",b),cn(D,"TYPE","terminate"),s0(y,D),(b=new gu(y,y.j,b)).L=2,b.v=UR(Oc(D)),D=!1,h.navigator&&h.navigator.sendBeacon)try{D=h.navigator.sendBeacon(b.v.toString(),"")}catch{}!D&&h.Image&&((new Image).src=b.v,D=!0),D||(b.g=uq(b.j,null),b.g.ea(b.v)),b.F=Date.now(),FR(b)}cq(y)}function $R(y){y.g&&(uU(y),y.g.cancel(),y.g=null)}function tq(y){$R(y),y.u&&(h.clearTimeout(y.u),y.u=null),zR(y),y.h.cancel(),y.s&&("number"==typeof y.s&&h.clearTimeout(y.s),y.s=null)}function HR(y){if(!F3(y.h)&&!y.s){y.s=!0;var b=y.Ga;Te||Be(),$e||(Te(),$e=!0),Ve.add(b,y),y.B=0}}function nq(y,b){var D;D=b?b.l:y.U++;const R=Oc(y.I);cn(R,"SID",y.K),cn(R,"RID",D),cn(R,"AID",y.T),s0(y,R),y.m&&y.o&&aU(R,y.m,y.o),D=new gu(y,y.j,D,y.B+1),null===y.m&&(D.H=y.o),b&&(y.i=b.D.concat(y.i)),b=rq(y,D,1e3),D.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),sU(y.h,D),nU(D,R,b)}function s0(y,b){y.H&&we(y.H,function(D,R){cn(b,R,D)}),y.l&&B3({},function(D,R){cn(b,R,D)})}function rq(y,b,D){D=Math.min(y.i.length,D);var R=y.l?A(y.l.Na,y.l,y):null;e:{var W=y.i;let J=-1;for(;;){const ve=["count="+D];-1==J?0<D?(J=W[0].g,ve.push("ofs="+J)):J=0:ve.push("ofs="+J);let Yt=!0;for(let Or=0;Or<D;Or++){let Rt=W[Or].g;const Qr=W[Or].map;if(Rt-=J,0>Rt)J=Math.max(0,W[Or].g-100),Yt=!1;else try{kee(Qr,ve,"req"+Rt+"_")}catch{R&&R(Qr)}}if(Yt){R=ve.join("&");break e}}}return y=y.i.splice(0,D),b.D=y,R}function iq(y){if(!y.g&&!y.u){y.Y=1;var b=y.Fa;Te||Be(),$e||(Te(),$e=!0),Ve.add(b,y),y.v=0}}function lU(y){return!(y.g||y.u||3<=y.v||(y.Y++,y.u=Xb(A(y.Fa,y),aq(y,y.v)),y.v++,0))}function uU(y){null!=y.A&&(h.clearTimeout(y.A),y.A=null)}function oq(y){y.g=new gu(y,y.j,"rpc",y.Y),null===y.m&&(y.g.H=y.o),y.g.O=0;var b=Oc(y.qa);cn(b,"RID","rpc"),cn(b,"SID",y.K),cn(b,"AID",y.T),cn(b,"CI",y.F?"0":"1"),!y.F&&y.ja&&cn(b,"TO",y.ja),cn(b,"TYPE","xmlhttp"),s0(y,b),y.m&&y.o&&aU(b,y.m,y.o),y.L&&(y.g.I=y.L);var D=y.g;y=y.ia,D.L=1,D.v=UR(Oc(b)),D.m=null,D.P=!0,P3(D,y)}function zR(y){null!=y.C&&(h.clearTimeout(y.C),y.C=null)}function sq(y,b){var D=null;if(y.g==b){zR(y),uU(y),y.g=null;var R=2}else{if(!oU(y.h,b))return;D=b.D,L3(y.h,b),R=1}if(0!=y.G)if(b.o)if(1==R){D=b.m?b.m.length:0,b=Date.now()-b.F;var W=y.B;di(R=OR(),new S3(R,D)),HR(y)}else iq(y);else if(3==(W=b.s)||0==W&&0<b.X||!(1==R&&function Uee(y,b){return!(V3(y.h)>=y.h.j-(y.s?1:0)||(y.s?(y.i=b.D.concat(y.i),0):1==y.G||2==y.G||y.B>=(y.Va?0:y.Wa)||(y.s=Xb(A(y.Ga,y,b),aq(y,y.B)),y.B++,0)))}(y,b)||2==R&&lU(y)))switch(D&&0<D.length&&(b=y.h,b.i=b.i.concat(D)),W){case 1:Df(y,5);break;case 4:Df(y,10);break;case 3:Df(y,6);break;default:Df(y,2)}}function aq(y,b){let D=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(D*=2),D*b}function Df(y,b){if(y.j.info("Error code "+b),2==b){var D=A(y.fb,y),R=y.Xa;const W=!R;R=new Tf(R||"//www.google.com/images/cleardot.gif"),h.location&&"http"==h.location.protocol||VR(R,"https"),UR(R),W?function Pee(y,b){const D=new Qb;if(h.Image){const R=new Image;R.onload=S(_u,D,"TestLoadImage: loaded",!0,b,R),R.onerror=S(_u,D,"TestLoadImage: error",!1,b,R),R.onabort=S(_u,D,"TestLoadImage: abort",!1,b,R),R.ontimeout=S(_u,D,"TestLoadImage: timeout",!1,b,R),h.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=y}else b(!1)}(R.toString(),D):function Oee(y,b){new Qb;const R=new AbortController,W=setTimeout(()=>{R.abort(),_u(0,0,!1,b)},1e4);fetch(y,{signal:R.signal}).then(J=>{clearTimeout(W),_u(0,0,!!J.ok,b)}).catch(()=>{clearTimeout(W),_u(0,0,!1,b)})}(R.toString(),D)}else hi(2);y.G=0,y.l&&y.l.sa(b),cq(y),tq(y)}function cq(y){if(y.G=0,y.ka=[],y.l){const b=U3(y.h);(0!=b.length||0!=y.i.length)&&(P(y.ka,b),P(y.ka,y.i),y.h.i.length=0,B(y.i),y.i.length=0),y.l.ra()}}function lq(y,b,D){var R=D instanceof Tf?Oc(D):new Tf(D);if(""!=R.g)b&&(R.g=b+"."+R.g),LR(R,R.s);else{var W=h.location;R=W.protocol,b=b?b+"."+W.hostname:W.hostname,W=+W.port;var J=new Tf(null);R&&VR(J,R),b&&(J.g=b),W&&LR(J,W),D&&(J.l=D),R=J}return b=y.ya,(D=y.D)&&b&&cn(R,D,b),cn(R,"VER",y.la),s0(y,R),R}function uq(y,b,D){if(b&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return(b=new Nn(y.Ca&&!y.pa?new t0({eb:D}):y.pa)).Ha(y.J),b}function dq(){}function GR(){}function Gi(y,b){Xr.call(this),this.g=new eq(b),this.l=y,this.h=b&&b.messageUrlParams||null,y=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(y?y["X-WebChannel-Content-Type"]=b.messageContentType:y={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(y?y["X-WebChannel-Client-Profile"]=b.va:y={"X-WebChannel-Client-Profile":b.va}),this.g.S=y,(y=b&&b.Sb)&&!K(y)&&(this.g.m=y),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!K(b)&&(this.g.D=b,null!==(y=this.h)&&b in y&&b in(y=this.h)&&delete y[b]),this.j=new q_(this)}function hq(y){Z2.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var b=y.__sm__;if(b){e:{for(const D in b){y=D;break e}y=void 0}(this.i=y)&&(y=this.i,b=null!==b&&y in b?b[y]:void 0),this.data=b}else this.data=y}function fq(){J2.call(this),this.status=1}function q_(y){this.g=y}(n=Nn.prototype).Ha=function(y){this.J=y},n.ea=function(y,b,D,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);b=b?b.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():eU.g(),this.v=function b3(y){return y.h||(y.h=y.i())}(this.o?this.o:eU),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(b,String(y),!0),this.B=!1}catch(J){return void X3(this,J)}if(y=D||"",D=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var W in R)D.set(W,R[W]);else{if("function"!=typeof R.keys||"function"!=typeof R.get)throw Error("Unknown input type for opt_headers: "+String(R));for(const J of R.keys())D.set(J,R.get(J))}R=Array.from(D.keys()).find(J=>"content-type"==J.toLowerCase()),W=h.FormData&&y instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Vee,b,void 0))||R||W||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ve]of D)this.g.setRequestHeader(J,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Z3(this),this.u=!0,this.g.send(y),this.u=!1}catch(J){X3(this,J)}},n.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,di(this,"complete"),di(this,"abort"),jR(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jR(this,!0)),Nn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Y3(this):this.bb())},n.bb=function(){Y3(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<Nc(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(y){if(this.g){var b=this.g.responseText;return y&&0==b.indexOf(y)&&(b=b.substring(y.length)),gee(b)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=eq.prototype).la=8,n.G=1,n.connect=function(y,b,D,R){hi(0),this.W=y,this.H=b||{},D&&void 0!==R&&(this.H.OSID=D,this.H.OAID=R),this.F=this.X,this.I=lq(this,null,this.W),HR(this)},n.Ga=function(y){if(this.s)if(this.s=null,1==this.G){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const W=new gu(this,this.j,y);let J=this.o;if(this.S&&(J?(J=M(J),$(J,this.S)):J=this.S),null!==this.m||this.O||(W.H=J,J=null),this.P)e:{for(var b=0,D=0;D<this.i.length;D++){var R=this.i[D];if(void 0===(R="__data__"in R.map&&"string"==typeof(R=R.map.__data__)?R.length:void 0))break;if(4096<(b+=R)){b=D;break e}if(4096===b||D===this.i.length-1){b=D+1;break e}}b=1e3}else b=1e3;b=rq(this,W,b),cn(D=Oc(this.I),"RID",y),cn(D,"CVER",22),this.D&&cn(D,"X-HTTP-Session-Id",this.D),s0(this,D),J&&(this.O?b="headers="+encodeURIComponent(String(K3(J)))+"&"+b:this.m&&aU(D,this.m,J)),sU(this.h,W),this.Ua&&cn(D,"TYPE","init"),this.P?(cn(D,"$req",b),cn(D,"SID","null"),W.T=!0,nU(W,D,null)):nU(W,D,b),this.G=2}}else 3==this.G&&(y?nq(this,y):0==this.i.length||F3(this.h)||nq(this))},n.Fa=function(){if(this.u=null,oq(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=Xb(A(this.ab,this),y)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,hi(10),$R(this),oq(this))},n.Za=function(){null!=this.C&&(this.C=null,$R(this),lU(this),hi(19))},n.fb=function(y){y?(this.j.info("Successfully pinged google.com"),hi(2)):(this.j.info("Failed to ping google.com"),hi(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=dq.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},GR.prototype.g=function(y,b){return new Gi(y,b)},O(Gi,Xr),Gi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gi.prototype.close=function(){cU(this.g)},Gi.prototype.o=function(y){var b=this.g;if("string"==typeof y){var D={};D.__data__=y,y=D}else this.u&&((D={}).__data__=Q2(y),y=D);b.i.push(new Iee(b.Ya++,y)),3==b.G&&HR(b)},Gi.prototype.N=function(){this.g.l=null,delete this.j,cU(this.g),delete this.g,Gi.aa.N.call(this)},O(hq,Z2),O(fq,J2),O(q_,dq),q_.prototype.ua=function(){di(this.g,"a")},q_.prototype.ta=function(y){di(this.g,new hq(y))},q_.prototype.sa=function(y){di(this.g,new fq)},q_.prototype.ra=function(){di(this.g,"b")},GR.prototype.createWebChannel=GR.prototype.g,Gi.prototype.send=Gi.prototype.o,Gi.prototype.open=Gi.prototype.m,Gi.prototype.close=Gi.prototype.close,Th=$i.createWebChannelTransport=function(){return new GR},hS=$i.getStatEventTarget=function(){return OR()},fI=$i.Event=bf,Ch=$i.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},NR.NO_ERROR=0,NR.TIMEOUT=8,NR.HTTP_ERROR=6,Mm=$i.ErrorCode=NR,x3.COMPLETE="complete",dS=$i.EventType=x3,C3.EventType=qb,qb.OPEN="a",qb.CLOSE="b",qb.ERROR="c",qb.MESSAGE="d",Xr.prototype.listen=Xr.prototype.K,bh=$i.WebChannel=C3,$i.FetchXmlHttpFactory=t0,Nn.prototype.listenOnce=Nn.prototype.L,Nn.prototype.getLastError=Nn.prototype.Ka,Nn.prototype.getLastErrorCode=Nn.prototype.Ba,Nn.prototype.getStatus=Nn.prototype.Z,Nn.prototype.getResponseJson=Nn.prototype.Oa,Nn.prototype.getResponseText=Nn.prototype.oa,Nn.prototype.send=Nn.prototype.ea,Nn.prototype.setWithCredentials=Nn.prototype.Ha,lS=$i.XhrIo=Nn}).apply(typeof Rm<"u"?Rm:typeof self<"u"?self:typeof window<"u"?window:{});const Pm="@firebase/firestore";class cr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cr.UNAUTHENTICATED=new cr(null),cr.GOOGLE_CREDENTIALS=new cr("google-credentials-uid"),cr.FIRST_PARTY=new cr("first-party-uid"),cr.MOCK_USER=new cr("mock-user");let fc="10.14.0";const Gs=new Dd("@firebase/firestore");function pc(){return Gs.logLevel}function se(n,...e){if(Gs.logLevel<=mt.DEBUG){const t=e.map(fS);Gs.debug(`Firestore (${fc}): ${n}`,...t)}}function mn(n,...e){if(Gs.logLevel<=mt.ERROR){const t=e.map(fS);Gs.error(`Firestore (${fc}): ${n}`,...t)}}function jr(n,...e){if(Gs.logLevel<=mt.WARN){const t=e.map(fS);Gs.warn(`Firestore (${fc}): ${n}`,...t)}}function fS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ae(n="Unexpected state"){const e=`FIRESTORE (${fc}) INTERNAL ASSERTION FAILED: `+n;throw mn(e),new Error(e)}function xe(n,e){n||Ae()}function _e(n,e){return n}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends ao{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class pI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(cr.UNAUTHENTICATED))}shutdown(){}}class S1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class pS{constructor(e){this.t=e,this.currentUser=cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;xe(void 0===this.o);let o=this.i;const c=_=>this.i!==o?(o=this.i,t(_)):Promise.resolve();let u=new jn;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new jn,e.enqueueRetryable(()=>c(this.currentUser))};const h=()=>{const _=u;e.enqueueRetryable(L(function*(){yield _.promise,yield c(r.currentUser)}))},g=_=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new jn)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe("string"==typeof r.accessToken),new pI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(null===e||"string"==typeof e),new cr(e)}}class x1{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=cr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gS{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new x1(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mS{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){xe(void 0===this.o);const r=c=>{null!=c.error&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.R;return this.R=c.token,se("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const o=c=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xe("string"==typeof t.token),this.R=t.token,new gI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function M1(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class _S{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const o=M1(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[c]%62))}return r}}function Ye(n,e){return n<e?-1:n>e?1:0}function gc(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}class _n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _n.fromMillis(Date.now())}static fromDate(e){return _n.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new _n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new _n(0,0))}static max(){return new Oe(new _n(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Om{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ae(),void 0===r?r=e.length-t:r>e.length-t&&Ae(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Om.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Om?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const c=e.get(o),u=t.get(o);if(c<u)return-1;if(c>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vt extends Om{construct(e,t,r){return new vt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new vt(t)}static emptyPath(){return new vt([])}}const D$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Om{construct(e,t,r){return new an(e,t,r)}static isValidIdentifier(e){return D$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new an(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const c=()=>{if(0===r.length)throw new ae(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const h=e[o];if("\\"===h){if(o+1===e.length)throw new ae(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new ae(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else"`"===h?(u=!u,o++):"."!==h||u?(r+=h,o++):(c(),o++)}if(c(),u)throw new ae(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(t)}static emptyPath(){return new an([])}}class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(vt.fromString(e))}static fromName(e){return new Ie(vt.fromString(e).popFirst(5))}static empty(){return new Ie(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new vt(e.slice()))}}class ai{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ai(Oe.min(),Ie.empty(),-1)}static max(){return new ai(Oe.max(),Ie.empty(),-1)}}function _I(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ie.comparator(n.documentKey,e.documentKey),0!==t?t:Ye(n.largestBatchId,e.largestBatchId))}const wS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ws(n){return Nm.apply(this,arguments)}function Nm(){return(Nm=L(function*(n){if(n.code!==Y.FAILED_PRECONDITION||n.message!==wS)throw n;se("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):G.reject(t)}static resolve(e){return new G((t,r)=>{t(e)})}static reject(e){return new G((t,r)=>{r(e)})}static waitFor(e){return new G((t,r)=>{let o=0,c=0,u=!1;e.forEach(h=>{++o,h.next(()=>{++c,u&&c===o&&t()},g=>r(g))}),u=!0,c===o&&t()})}static or(e){let t=G.resolve(!1);for(const r of e)t=t.next(o=>o?G.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,c)=>{r.push(t.call(this,o,c))}),this.waitFor(r)}static mapArray(e,t){return new G((r,o)=>{const c=e.length,u=new Array(c);let h=0;for(let g=0;g<c;g++){const _=g;t(e[_]).next(E=>{u[_]=E,++h,h===c&&r(u)},E=>o(E))}})}static doWhile(e,t){return new G((r,o)=>{const c=()=>{!0===e()?t().next(()=>{c()},o):r()};c()})}}function qs(n){return"IndexedDbTransactionError"===n.name}let $r=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ie(o),this.se=o=>r.writeSequenceNumber(o))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function vc(n){return null==n}function xh(n){return 0===n&&1/n==-1/0}function G1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ks(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}class $t{constructor(e,t){this.comparator=e,this.root=t||mr.EMPTY}insert(e,t){return new $t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(e){return new $t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $l(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $l(this.root,e,this.comparator,!1)}getReverseIterator(){return new $l(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $l(this.root,e,this.comparator,!0)}}class $l{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mr{constructor(e,t,r,o,c){this.key=e,this.value=t,this.color=r??mr.RED,this.left=o??mr.EMPTY,this.right=c??mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,c){return new mr(e??this.key,t??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===c?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return mr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1,mr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,t,r,o,c){return this}insert(e,t,r){return new mr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class St{constructor(e){this.comparator=e,this.data=new $t(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new OS(this.data.getIterator())}getIteratorFrom(e){return new OS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(o,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new St(this.comparator);return t.data=e,t}}class OS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _r{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new _r([])}unionWith(e){let t=new St(an.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new _r(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class DI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new DI("Invalid base64 string: "+c):c}}(e);return new Ht(t)}static fromUint8Array(e){const t=function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c}(e);return new Ht(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const x$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xo(n){if(xe(!!n),"string"==typeof n){let e=0;const t=x$.exec(n);if(xe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zt(n.seconds),nanos:zt(n.nanos)}}function zt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Qo(n){return"string"==typeof n?Ht.fromBase64String(n):Ht.fromUint8Array(n)}function AI(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function SI(n){const e=n.mapValue.fields.__previous_value__;return AI(e)?SI(e):e}function Nh(n){const e=Xo(n.mapValue.fields.__local_write_time__.timestampValue);return new _n(e.seconds,e.nanos)}class W1{constructor(e,t,r,o,c,u,h,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=g,this.useFetchStreams=_}}class Xs{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Xs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Xs&&e.projectId===this.projectId&&e.database===this.database}}const wc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?AI(n)?4:K1(n)?9007199254740991:Fh(n)?10:11:Ae()}function xi(n,e){if(n===e)return!0;const t=Qs(n);if(t!==Qs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Nh(n).isEqual(Nh(e));case 3:return function(o,c){if("string"==typeof o.timestampValue&&"string"==typeof c.timestampValue&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=Xo(o.timestampValue),h=Xo(c.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return c=e,Qo(n.bytesValue).isEqual(Qo(c.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,c){return zt(o.geoPointValue.latitude)===zt(c.geoPointValue.latitude)&&zt(o.geoPointValue.longitude)===zt(c.geoPointValue.longitude)}(n,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return zt(o.integerValue)===zt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=zt(o.doubleValue),h=zt(c.doubleValue);return u===h?xh(u)===xh(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return gc(n.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:case 11:return function(o,c){const u=o.mapValue.fields||{},h=c.mapValue.fields||{};if(G1(u)!==G1(h))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===h[g]||!xi(u[g],h[g])))return!1;return!0}(n,e);default:return Ae()}var c}function Ys(n,e){return void 0!==(n.values||[]).find(t=>xi(t,e))}function Yo(n,e){if(n===e)return 0;const t=Qs(n),r=Qs(e);if(t!==r)return Ye(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ye(n.booleanValue,e.booleanValue);case 2:return function(c,u){const h=zt(c.integerValue||c.doubleValue),g=zt(u.integerValue||u.doubleValue);return h<g?-1:h>g?1:h===g?0:isNaN(h)?isNaN(g)?0:-1:1}(n,e);case 3:return NS(n.timestampValue,e.timestampValue);case 4:return NS(Nh(n),Nh(e));case 5:return Ye(n.stringValue,e.stringValue);case 6:return function(c,u){const h=Qo(c),g=Qo(u);return h.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(c,u){const h=c.split("/"),g=u.split("/");for(let _=0;_<h.length&&_<g.length;_++){const E=Ye(h[_],g[_]);if(0!==E)return E}return Ye(h.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(c,u){const h=Ye(zt(c.latitude),zt(u.latitude));return 0!==h?h:Ye(zt(c.longitude),zt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return xI(n.arrayValue,e.arrayValue);case 10:return function(c,u){var h,g,_,E;const S=null===(h=(c.fields||{}).value)||void 0===h?void 0:h.arrayValue,O=null===(g=(u.fields||{}).value)||void 0===g?void 0:g.arrayValue,B=Ye((null===(_=S?.values)||void 0===_?void 0:_.length)||0,(null===(E=O?.values)||void 0===E?void 0:E.length)||0);return 0!==B?B:xI(S,O)}(n.mapValue,e.mapValue);case 11:return function(c,u){if(c===wc.mapValue&&u===wc.mapValue)return 0;if(c===wc.mapValue)return 1;if(u===wc.mapValue)return-1;const h=c.fields||{},g=Object.keys(h),_=u.fields||{},E=Object.keys(_);g.sort(),E.sort();for(let I=0;I<g.length&&I<E.length;++I){const A=Ye(g[I],E[I]);if(0!==A)return A;const S=Yo(h[g[I]],_[E[I]]);if(0!==S)return S}return Ye(g.length,E.length)}(n.mapValue,e.mapValue);default:throw Ae()}}function NS(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ye(n,e);const t=Xo(n),r=Xo(e),o=Ye(t.seconds,r.seconds);return 0!==o?o:Ye(t.nanos,r.nanos)}function xI(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const c=Yo(t[o],r[o]);if(c)return c}return Ye(t.length,r.length)}function ci(n){return Lm(n)}function Lm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Xo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Qo(n.bytesValue).toBase64():"referenceValue"in n?Ie.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const c of t.values||[])o?o=!1:r+=",",r+=Lm(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const u of r)c?c=!1:o+=",",o+=`${u}:${Lm(t.fields[u])}`;return o+"}"}(n.mapValue):Ae()}function Bm(n){return!!n&&"integerValue"in n}function kh(n){return!!n&&"arrayValue"in n}function jm(n){return!!n&&"nullValue"in n}function q1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $m(n){return!!n&&"mapValue"in n}function Fh(n){var e,t;return"__vector__"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Hm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ks(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Hm(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function K1(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!$m(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hm(t)}setAll(e){let t=an.emptyPath(),r={},o=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const g=this.getFieldsMap(t);this.applyChanges(g,r,o),r={},o=[],t=h.popLast()}u?r[h.lastSegment()]=Hm(u):o.push(h.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,o)}delete(e){const t=this.field(e.popLast());$m(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];$m(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Ks(t,(o,c)=>e[o]=c);for(const o of r)delete e[o]}clone(){return new Qn(Hm(this.value))}}class Xt{constructor(e,t,r,o,c,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=c,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Xt(e,0,Oe.min(),Oe.min(),Oe.min(),Qn.empty(),0)}static newFoundDocument(e,t,r,o){return new Xt(e,1,t,Oe.min(),r,o,0)}static newNoDocument(e,t){return new Xt(e,2,t,Oe.min(),Oe.min(),Qn.empty(),0)}static newUnknownDocument(e,t){return new Xt(e,3,t,Oe.min(),Oe.min(),Qn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Js{constructor(e,t){this.position=e,this.inclusive=t}}function J1(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const c=e[o],u=n.position[o];if(r=c.field.isKeyField()?Ie.comparator(Ie.fromName(u.referenceValue),t.key):Yo(u,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function eF(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xi(n.position[t],e.position[t]))return!1;return!0}class zm{constructor(e,t="asc"){this.field=e,this.dir=t}}function M$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class tF{}class _t extends tF{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new PI(e,t,r):"array-contains"===t?new P$(e,r):"in"===t?new rF(e,r):"not-in"===t?new FS(e,r):"array-contains-any"===t?new iF(e,r):new _t(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new OI(e,r):new Xm(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Yo(t,this.value)):null!==t&&Qs(this.value)===Qs(t)&&this.matchesComparison(Yo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class At extends tF{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new At(e,t)}matches(e){return Hl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Hl(n){return"and"===n.op}function Gm(n){return function ea(n){for(const e of n.filters)if(e instanceof At)return!1;return!0}(n)&&Hl(n)}function Wm(n){if(n instanceof _t)return n.field.canonicalString()+n.op.toString()+ci(n.value);if(Gm(n))return n.filters.map(e=>Wm(e)).join(",");{const e=n.filters.map(t=>Wm(t)).join(",");return`${n.op}(${e})`}}function qm(n,e){return n instanceof _t?(r=n,(o=e)instanceof _t&&r.op===o.op&&r.field.isEqual(o.field)&&xi(r.value,o.value)):n instanceof At?function(r,o){return o instanceof At&&r.op===o.op&&r.filters.length===o.filters.length&&r.filters.reduce((c,u,h)=>c&&qm(u,o.filters[h]),!0)}(n,e):void Ae();var r,o}function kS(n){return n instanceof _t?`${(t=n).field.canonicalString()} ${t.op} ${ci(t.value)}`:n instanceof At?function(t){return t.op.toString()+" {"+t.getFilters().map(kS).join(" ,")+"}"}(n):"Filter";var t}class PI extends _t{constructor(e,t,r){super(e,t,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class OI extends _t{constructor(e,t){super(e,"in",t),this.keys=nF(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Xm extends _t{constructor(e,t){super(e,"not-in",t),this.keys=nF(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nF(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class P$ extends _t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return kh(t)&&Ys(t.arrayValue,this.value)}}class rF extends _t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ys(this.value.arrayValue,t)}}class FS extends _t{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ys(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ys(this.value.arrayValue,t)}}class iF extends _t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!kh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ys(this.value.arrayValue,r))}}class oF{constructor(e,t=null,r=[],o=[],c=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=u,this.endAt=h,this.ue=null}}function NI(n,e=null,t=[],r=[],o=null,c=null,u=null){return new oF(n,e,t,r,o,c,u)}function Ic(n){const e=_e(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Wm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(c=r).field.canonicalString()+c.dir;var c}).join(","),vc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ci(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ci(r)).join(",")),e.ue=t}return e.ue}function zl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!M$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!qm(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!eF(n.startAt,e.startAt)&&eF(n.endAt,e.endAt)}function Vh(n){return Ie.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class mo{constructor(e,t=null,r=[],o=[],c=null,u="F",h=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=u,this.startAt=h,this.endAt=g,this.ce=null,this.le=null,this.he=null}}function Uh(n){return new mo(n)}function kI(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Gl(n){const e=_e(n);if(null===e.ce){e.ce=[];const t=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),t.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new St(an.comparator);return u.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(h=h.add(_.field))})}),h})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.ce.push(new zm(c,r))}),t.has(an.keyField().canonicalString())||e.ce.push(new zm(an.keyField(),r))}return e.ce}function yr(n){const e=_e(n);return e.le||(e.le=function aF(n,e){if("F"===n.limitType)return NI(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>new zm(o.field,"desc"===o.dir?"asc":"desc"));const t=n.endAt?new Js(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Js(n.startAt.position,n.startAt.inclusive):null;return NI(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,Gl(n))),e.le}function Ym(n,e,t){return new mo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zm(n,e){return zl(yr(n),yr(e))&&n.limitType===e.limitType}function Mn(n){return`${Ic(yr(n))}|lt:${n.limitType}`}function _o(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>kS(o)).join(", ")}]`),vc(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>ci(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>ci(o)).join(",")),`Target(${r})`}(yr(n))}; limitType=${n.limitType})`}function ta(n,e){return e.isFoundDocument()&&function(r,o){const c=o.key.path;return null!==r.collectionGroup?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Ie.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(n,e)&&function(r,o){for(const c of Gl(r))if(!c.field.isKeyField()&&null===o.data.field(c.field))return!1;return!0}(n,e)&&function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0}(n,e)&&(o=e,!((r=n).startAt&&!function(u,h,g){const _=J1(u,h,g);return u.inclusive?_<=0:_<0}(r.startAt,Gl(r),o)||r.endAt&&!function(u,h,g){const _=J1(u,h,g);return u.inclusive?_>=0:_>0}(r.endAt,Gl(r),o)));var r,o}function VI(n){return(e,t)=>{let r=!1;for(const o of Gl(n)){const c=O$(o,e,t);if(0!==c)return c;r=r||o.field.isKeyField()}return 0}}function O$(n,e,t){const r=n.field.isKeyField()?Ie.comparator(e.key,t.key):function(c,u,h){const g=u.data.field(c),_=h.data.field(c);return null!==g&&null!==_?Yo(g,_):Ae()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}class Zo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,c]of r)if(this.equalsFn(o,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,(t,r)=>{for(const[o,c]of r)e(o,c)})}isEmpty(){return function PS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const N$=new $t(Ie.comparator);function li(){return N$}const Jm=new $t(Ie.comparator);function $h(...n){let e=Jm;for(const t of n)e=e.insert(t.key,t);return e}function LI(n){let e=Jm;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Hi(){return Wl()}function UI(){return Wl()}function Wl(){return new Zo(n=>n.toString(),(n,e)=>n.isEqual(e))}new $t(Ie.comparator);const lF=new St(Ie.comparator);function it(...n){let e=lF;for(const t of n)e=e.add(t);return e}const uF=new St(Ye);class zh{constructor(){this._=void 0}}function US(n,e,t){return n instanceof Gh?function(o,c){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&AI(c)&&(c=SI(c)),c&&(u.fields.__previous_value__=c),{mapValue:u}}(t,e):n instanceof bc?BS(n,e):n instanceof Xl?BI(n,e):function(o,c){const u=function dF(n,e){return n instanceof Cc?Bm(r=e)||(c=r)&&"doubleValue"in c?e:{integerValue:0}:null;var r,c}(o,c),h=hF(u)+hF(o.Pe);return Bm(u)&&Bm(o.Pe)?function Kl(n){return{integerValue:""+n}}(h):function ql(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(e)?"-0":e}}(o.serializer,h)}(n,e)}function k$(n,e,t){return n instanceof bc?BS(n,e):n instanceof Xl?BI(n,e):t}class Gh extends zh{}class bc extends zh{constructor(e){super(),this.elements=e}}function BS(n,e){const t=Wh(e);for(const r of n.elements)t.some(o=>xi(o,r))||t.push(r);return{arrayValue:{values:t}}}class Xl extends zh{constructor(e){super(),this.elements=e}}function BI(n,e){let t=Wh(e);for(const r of n.elements)t=t.filter(o=>!xi(o,r));return{arrayValue:{values:t}}}class Cc extends zh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function hF(n){return zt(n.integerValue||n.doubleValue)}function Wh(n){return kh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class tn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new tn}static exists(e){return new tn(void 0,e)}static updateTime(e){return new tn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class $I{}function jS(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ql(n.key,tn.none()):new qh(n.key,n.data,tn.none());{const t=n.data,r=Qn.empty();let o=new St(an.comparator);for(let c of e.fields)if(!o.has(c)){let u=t.field(c);null===u&&c.length>1&&(c=c.popLast(),u=t.field(c)),null===u?r.delete(c):r.set(c,u),o=o.add(c)}return new na(n.key,r,new _r(o.toArray()),tn.none())}}function fF(n,e,t){n instanceof qh?function(o,c,u){const h=o.value.clone(),g=zS(o.fieldTransforms,c,u.transformResults);h.setAll(g),c.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof na?function(o,c,u){if(!jI(o.precondition,c))return void c.convertToUnknownDocument(u.version);const h=zS(o.fieldTransforms,c,u.transformResults),g=c.data;g.setAll(HI(o)),g.setAll(h),c.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function n_(n,e,t,r){return n instanceof qh?function(c,u,h,g){if(!jI(c.precondition,u))return h;const _=c.value.clone(),E=GS(c.fieldTransforms,g,u);return _.setAll(E),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof na?function(c,u,h,g){if(!jI(c.precondition,u))return h;const _=GS(c.fieldTransforms,g,u),E=u.data;return E.setAll(HI(c)),E.setAll(_),u.convertToFoundDocument(u.version,E).setHasLocalMutations(),null===h?null:h.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(I=>I.field))}(n,e,t,r):(h=t,jI(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h);var u,h}function HS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===o||r&&o&&gc(r,o,(c,u)=>function F$(n,e){return n.field.isEqual(e.field)&&(o=e.transform,(r=n.transform)instanceof bc&&o instanceof bc||r instanceof Xl&&o instanceof Xl?gc(r.elements,o.elements,xi):r instanceof Cc&&o instanceof Cc?xi(r.Pe,o.Pe):r instanceof Gh&&o instanceof Gh);var r,o}(c,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,o}class qh extends $I{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class na extends $I{constructor(e,t,r,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function HI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function zS(n,e,t){const r=new Map;xe(n.length===t.length);for(let o=0;o<t.length;o++){const c=n[o],u=c.transform,h=e.data.field(c.field);r.set(c.field,k$(u,h,t[o]))}return r}function GS(n,e,t){const r=new Map;for(const o of n){const c=o.transform,u=t.data.field(o.field);r.set(o.field,US(c,u,e))}return r}class Ql extends $I{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GI{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&fF(c,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=n_(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=n_(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=UI();return this.mutations.forEach(o=>{const c=e.get(o.key),u=c.overlayedDocument;let h=this.applyToLocalView(u,c.mutatedFields);h=t.has(o.key)?null:h;const g=jS(u,h);null!==g&&r.set(o.key,g),u.isValidDocument()||u.convertToNoDocument(Oe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),it())}isEqual(e){return this.batchId===e.batchId&&gc(this.mutations,e.mutations,(t,r)=>HS(t,r))&&gc(this.baseMutations,e.baseMutations,(t,r)=>HS(t,r))}}class i_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class gF{constructor(e,t){this.count=e,this.unchangedNames=t}}var Pn,wt;function WI(n){if(void 0===n)return mn("GRPC error has no .code"),Y.UNKNOWN;switch(n){case Pn.OK:return Y.OK;case Pn.CANCELLED:return Y.CANCELLED;case Pn.UNKNOWN:return Y.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return Y.INTERNAL;case Pn.UNAVAILABLE:return Y.UNAVAILABLE;case Pn.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Pn.NOT_FOUND:return Y.NOT_FOUND;case Pn.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Pn.ABORTED:return Y.ABORTED;case Pn.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Pn.DATA_LOSS:return Y.DATA_LOSS;default:return Ae()}}(wt=Pn||(Pn={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";const KS=new Ul([4294967295,4294967295],0);function qI(n){const e=function qS(){return new TextEncoder}().encode(n),t=new Bl;return t.update(e),new Uint8Array(t.digest())}function mF(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ul([t,r],0),new Ul([o,c],0)]}class KI{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Jo(`Invalid padding: ${t}`);if(r<0)throw new Jo(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Jo(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Jo(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ul.fromNumber(this.Ie)}Ee(e,t,r){let o=e.add(t.multiply(Ul.fromNumber(r)));return 1===o.compare(KS)&&(o=new Ul([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=qI(e),[r,o]=mF(t);for(let c=0;c<this.hashCount;c++){const u=this.Ee(r,o,c);if(!this.de(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new KI(c,o,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(0===this.Ie)return;const t=qI(e),[r,o]=mF(t);for(let c=0;c<this.hashCount;c++){const u=this.Ee(r,o,c);this.Ae(u)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Jo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Tc{constructor(e,t,r,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Yl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Tc(Oe.min(),o,new $t(Ye),li(),it())}}class Yl{constructor(e,t,r,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Yl(r,t,it(),it(),it())}}class o_{constructor(e,t,r,o){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=o}}class XS{constructor(e,t){this.targetId=e,this.me=t}}class Xh{constructor(e,t,r=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class QS{constructor(){this.fe=0,this.ge=QI(),this.pe=Ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=it(),t=it(),r=it();return this.ge.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Ae()}}),new Yl(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=QI()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class _F{constructor(e){this.Le=e,this.Be=new Map,this.ke=li(),this.qe=XI(),this.Qe=new $t(Ye)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,o)=>{this.ze(o)&&t(o)})}He(e){const t=e.targetId,r=e.me.count,o=this.Je(t);if(o){const c=o.target;if(Vh(c))if(0===r){const u=new Ie(c.path);this.Ue(t,u,Xt.newNoDocument(u,Oe.min()))}else xe(1===r);else{const u=this.Ye(t);if(u!==r){const h=this.Ze(e),g=h?this.Xe(h,e,u):1;0!==g&&(this.je(t),this.Qe=this.Qe.insert(t,2===g?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=t;let u,h;try{u=Qo(r).toUint8Array()}catch(g){if(g instanceof DI)return jr("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{h=new KI(u,o,c)}catch(g){return jr(g instanceof Jo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return 0===h.Ie?null:h}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let o=0;return r.forEach(c=>{const u=this.Le.tt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(h)||(this.Ue(t,c,null),o++)}),o}rt(e){const t=new Map;this.Be.forEach((c,u)=>{const h=this.Je(u);if(h){if(c.current&&Vh(h.target)){const g=new Ie(h.target.path);null!==this.ke.get(g)||this.it(u,g)||this.Ue(u,g,Xt.newNoDocument(g,e))}c.be&&(t.set(u,c.ve()),c.Ce())}});let r=it();this.qe.forEach((c,u)=>{let h=!0;u.forEachWhile(g=>{const _=this.Je(g);return!_||"TargetPurposeLimboResolution"===_.purpose||(h=!1,!1)}),h&&(r=r.add(c))}),this.ke.forEach((c,u)=>u.setReadTime(e));const o=new Tc(e,t,this.Qe,this.ke,r);return this.ke=li(),this.qe=XI(),this.Qe=new $t(Ye),o}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new QS,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new St(Ye),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||se("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new QS),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function XI(){return new $t(Ie.comparator)}function QI(){return new $t(Ie.comparator)}const L$={asc:"ASCENDING",desc:"DESCENDING"},yF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vF={and:"AND",or:"OR"};class U${constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function YI(n,e){return n.useProto3Json||vc(e)?e:{value:e}}function In(n){return xe(!!n),Oe.fromTimestamp(function(t){const r=Xo(t);return new _n(r.seconds,r.nanos)}(n))}function JI(n,e){const t=(o=n,new vt(["projects",o.projectId,"databases",o.database])).child("documents");var o;return void 0===e?t:t.child(e)}function wF(n){const e=vt.fromString(n);return xe(v(e)),e}function es(n,e){const t=wF(e);if(t.get(1)!==n.databaseId.projectId)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ie(CF(t))}function IF(n,e){return function ZI(n,e){return JI(n,e).canonicalString()}(n.databaseId,e)}function eb(n){return new vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CF(n){return xe(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function YS(n,e){return{documents:[IF(n,e.path)]}}function a_(n,e){const t={structuredQuery:{}},r=e.path;let o;null!==e.collectionGroup?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=IF(n,o);const c=function(_){if(0!==_.length)return f(At.create(_,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const u=function(_){if(0!==_.length)return _.map(E=>{return{field:l((A=E).field),direction:i(A.dir)};var A})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=YI(n,e.limit);return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(_=e.startAt).inclusive,values:_.position}),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{_t:t,parent:o};var _}function xF(n){let e=function bF(n){const e=wF(n);return 4===e.length?vt.emptyPath():CF(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){xe(1===r);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];t.where&&(c=function(I){const A=MF(I);return A instanceof At&&Gm(A)?A.getFilters():[A]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(A=>{return new zm(d((O=A).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let h=null;t.limit&&(h=function(I){let A;return A="object"==typeof I?I.value:I,vc(A)?null:A}(t.limit));let g=null;var I;t.startAt&&(g=new Js((I=t.startAt).values||[],!!I.before));let _=null;return t.endAt&&(_=function(I){return new Js(I.values||[],!I.before)}(t.endAt)),function Qm(n,e,t,r,o,c,u,h){return new mo(n,e,t,r,o,c,u,h)}(e,o,u,c,h,"F",g,_)}function MF(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=d(t.unaryFilter.field);return _t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=d(t.unaryFilter.field);return _t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=d(t.unaryFilter.field);return _t.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=d(t.unaryFilter.field);return _t.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(n):void 0!==n.fieldFilter?_t.create(d((t=n).fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return At.create(t.compositeFilter.filters.map(r=>MF(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae()}}(t.compositeFilter.op))}(n):Ae();var t}function i(n){return L$[n]}function s(n){return yF[n]}function a(n){return vF[n]}function l(n){return{fieldPath:n.canonicalString()}}function d(n){return an.fromServerFormat(n.fieldPath)}function f(n){return n instanceof _t?function(t){if("=="===t.op){if(q1(t.value))return{unaryFilter:{field:l(t.field),op:"IS_NAN"}};if(jm(t.value))return{unaryFilter:{field:l(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(q1(t.value))return{unaryFilter:{field:l(t.field),op:"IS_NOT_NAN"}};if(jm(t.value))return{unaryFilter:{field:l(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:l(t.field),op:s(t.op),value:t.value}}}(n):n instanceof At?function(t){const r=t.getFilters().map(o=>f(o));return 1===r.length?r[0]:{compositeFilter:{op:a(t.op),filters:r}}}(n):Ae()}function v(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class w{constructor(e,t,r,o,c=Oe.min(),u=Oe.min(),h=Ht.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=g}withSequenceNumber(e){return new w(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new w(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new w(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new w(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class C{constructor(e){this.ct=e}}function re(n){const e=xF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Ym(e,e.limit,"L"):e}class Zh{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(zt(e.integerValue));else if("doubleValue"in e){const r=zt(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),xh(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),"string"==typeof r&&(r=Xo(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Qo(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?K1(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Fh(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Ae()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const r=e.fields||{};this.dt(t,55);for(const o of Object.keys(r))this.Vt(o,t),this.Tt(r[o],t)}wt(e,t){var r,o;const c=e.fields||{};this.dt(t,53);const u="value",h=(null===(o=null===(r=c[u].arrayValue)||void 0===r?void 0:r.values)||void 0===o?void 0:o.length)||0;this.dt(t,15),t.At(zt(h)),this.Vt(u,t),this.Tt(c[u],t)}bt(e,t){const r=e.values||[];this.dt(t,50);for(const o of r)this.Tt(o,t)}yt(e,t){this.dt(t,37),Ie.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}Zh.vt=new Zh;class Uq{constructor(){this.un=new FF}addToCollectionParentIndex(e,t){return this.un.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(ai.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(ai.min())}updateCollectionGroup(e,t,r){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class FF{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new St(vt.comparator),c=!o.has(r);return this.index[t]=o.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new St(vt.comparator)).toArray()}}new Uint8Array(0);class Hr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Hr(e,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Hr.DEFAULT_COLLECTION_PERCENTILE=10,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hr.DEFAULT=new Hr(41943040,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hr.DISABLED=new Hr(-1,0,0);class ef{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ef(0)}static kn(){return new ef(-1)}}class iH{constructor(){this.changes=new Zo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?G.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qq{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class lH{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==r&&n_(r.mutation,o,_r.empty(),_n.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,it()).next(()=>r))}getLocalViewOfDocuments(e,t,r=it()){const o=Hi();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(c=>{let u=$h();return c.forEach((h,g)=>{u=u.insert(h,g.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Hi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,it()))}populateOverlays(e,t,r){const o=[];return r.forEach(c=>{t.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,o){let c=li();const u=Wl(),h=Wl();return t.forEach((g,_)=>{const E=r.get(_.key);o.has(_.key)&&(void 0===E||E.mutation instanceof na)?c=c.insert(_.key,_):void 0!==E?(u.set(_.key,E.mutation.getFieldMask()),n_(E.mutation,_,E.mutation.getFieldMask(),_n.now())):u.set(_.key,_r.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((_,E)=>u.set(_,E)),t.forEach((_,E)=>{var I;return h.set(_,new qq(E,null!==(I=u.get(_))&&void 0!==I?I:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Wl();let o=new $t((u,h)=>u-h),c=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(g=>{const _=t.get(g);if(null===_)return;let E=r.get(g)||_r.empty();E=h.applyToLocalView(_,E),r.set(g,E);const I=(o.get(h.batchId)||it()).add(g);o=o.insert(h.batchId,I)})}).next(()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const g=h.getNext(),_=g.key,E=g.value,I=UI();E.forEach(A=>{if(!c.has(A)){const S=jS(t.get(A),r.get(A));null!==S&&I.set(A,S),c=c.add(A)}}),u.push(this.documentOverlayCache.saveOverlays(e,_,I))}return G.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return Ie.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Bh(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o);var u}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-c.size):G.resolve(Hi());let h=-1,g=c;return u.next(_=>G.forEach(_,(E,I)=>(h<I.largestBatchId&&(h=I.largestBatchId),c.get(E)?G.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{g=g.insert(E,A)}))).next(()=>this.populateOverlays(e,_,c)).next(()=>this.computeViews(e,g,_,it())).next(E=>({batchId:h,changes:LI(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next(r=>{let o=$h();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const c=t.collectionGroup;let u=$h();return this.indexManager.getCollectionParents(e,c).next(h=>G.forEach(h,g=>{const _=(I=t,A=g.child(c),new mo(A,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,A;return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next(E=>{E.forEach((I,A)=>{u=u.insert(I,A)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,c,o))).next(u=>{c.forEach((g,_)=>{const E=_.getKey();null===u.get(E)&&(u=u.insert(E,Xt.newInvalidDocument(E)))});let h=$h();return u.forEach((g,_)=>{const E=c.get(g);void 0!==E&&n_(E.mutation,_,_r.empty(),_n.now()),ta(t,_)&&(h=h.insert(g,_))}),h})}}class Kq{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return G.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:(o=t).id,version:o.version,createTime:In(o.createTime)}),G.resolve();var o}getNamedQuery(e,t){return G.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:(o=t).name,query:re(o.bundledQuery),readTime:In(o.readTime)}),G.resolve();var o}}class Xq{constructor(){this.overlays=new $t(Ie.comparator),this.Ir=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Hi();return G.forEach(t,o=>this.getOverlay(e,o).next(c=>{null!==c&&r.set(o,c)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,c)=>{this.ht(e,t,c)}),G.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Ir.get(r);return void 0!==o&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Ir.delete(r)),G.resolve()}getOverlaysForCollection(e,t,r){const o=Hi(),c=t.length+1,u=new Ie(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const g=h.getNext().value,_=g.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>r&&o.set(g.getKey(),g)}return G.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let c=new $t((_,E)=>_-E);const u=this.overlays.getIterator();for(;u.hasNext();){const _=u.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>r){let E=c.get(_.largestBatchId);null===E&&(E=Hi(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const h=Hi(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,E)=>h.set(_,E)),!(h.size()>=o)););return G.resolve(h)}ht(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const u=this.Ir.get(o.largestBatchId).delete(r.key);this.Ir.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new i_(t,r));let c=this.Ir.get(t);void 0===c&&(c=it(),this.Ir.set(t,c)),this.Ir.set(t,c.add(r.key))}}class Qq{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}class VF{constructor(){this.Tr=new St(vr.Er),this.dr=new St(vr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new vr(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new vr(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new Ie(new vt([])),r=new vr(t,e),o=new vr(t,e+1),c=[];return this.dr.forEachInRange([r,o],u=>{this.Vr(u),c.push(u.key)}),c}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Ie(new vt([])),r=new vr(t,e),o=new vr(t,e+1);let c=it();return this.dr.forEachInRange([r,o],u=>{c=c.add(u.key)}),c}containsKey(e){const t=new vr(e,0),r=this.Tr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class vr{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Ie.comparator(e.key,t.key)||Ye(e.wr,t.wr)}static Ar(e,t){return Ye(e.wr,t.wr)||Ie.comparator(e.key,t.key)}}class Yq{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new St(vr.Er)}checkEmpty(e){return G.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const c=this.Sr;this.Sr++;const u=new GI(c,t,r,o);this.mutationQueue.push(u);for(const h of o)this.br=this.br.add(new vr(h.key,c)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return G.resolve(u)}lookupMutationBatch(e,t){return G.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.vr(t+1),c=o<0?0:o;return G.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new vr(t,0),o=new vr(t,Number.POSITIVE_INFINITY),c=[];return this.br.forEachInRange([r,o],u=>{const h=this.Dr(u.wr);c.push(h)}),G.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new St(Ye);return t.forEach(o=>{const c=new vr(o,0),u=new vr(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([c,u],h=>{r=r.add(h.wr)})}),G.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let c=r;Ie.isDocumentKey(c)||(c=c.child(""));const u=new vr(new Ie(c),0);let h=new St(Ye);return this.br.forEachWhile(g=>{const _=g.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(h=h.add(g.wr)),!0)},u),G.resolve(this.Cr(h))}Cr(e){const t=[];return e.forEach(r=>{const o=this.Dr(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){xe(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.br;return G.forEach(t.mutations,o=>{const c=new vr(o.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new vr(t,0),o=this.br.firstAfterOrEqual(r);return G.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return G.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Zq{constructor(e){this.Mr=e,this.docs=new $t(Ie.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),c=o?o.size:0,u=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return G.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(t))}getEntries(e,t){let r=li();return t.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Xt.newInvalidDocument(o))}),G.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let c=li();const u=t.path,h=new Ie(u.child("")),g=this.docs.getIteratorFrom(h);for(;g.hasNext();){const{key:_,value:{document:E}}=g.getNext();if(!u.isPrefixOf(_.path))break;_.path.length>u.length+1||_I(new ai((n=E).readTime,n.key,-1),r)<=0||(o.has(E.key)||ta(t,E))&&(c=c.insert(E.key,E.mutableCopy()))}var n;return G.resolve(c)}getAllFromCollectionGroup(e,t,r,o){Ae()}Or(e,t){return G.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Jq(this)}getSize(e){return G.resolve(this.size)}}class Jq extends iH{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(r)}),G.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class e8{constructor(e){this.persistence=e,this.Nr=new Zo(t=>Ic(t),zl),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new VF,this.targetCount=0,this.kr=ef.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,o)=>t(o)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),G.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new ef(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.Kn(t),G.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,r){let o=0;const c=[];return this.Nr.forEach((u,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.Nr.delete(u),c.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),G.waitFor(c).next(()=>o)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return G.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),G.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(u=>{c.push(o.markPotentiallyOrphaned(e,u))}),G.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return G.resolve(r)}containsKey(e,t){return G.resolve(this.Br.containsKey(t))}}class LF{constructor(e,t){this.qr={},this.overlays={},this.Qr=new $r(0),this.Kr=!1,this.Kr=!0,this.$r=new Qq,this.referenceDelegate=e(this),this.Ur=new e8(this),this.indexManager=new Uq,this.remoteDocumentCache=new Zq(r=>this.referenceDelegate.Wr(r)),this.serializer=new C(t),this.Gr=new Kq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Xq,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new Yq(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){se("MemoryPersistence","Starting transaction:",e);const o=new t8(this.Qr.next());return this.referenceDelegate.zr(),r(o).next(c=>this.referenceDelegate.jr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Hr(e,t){return G.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class t8 extends IS{constructor(e){super(),this.currentSequenceNumber=e}}class rx{constructor(e){this.persistence=e,this.Jr=new VF,this.Yr=null}static Zr(e){return new rx(e)}get Xr(){if(this.Yr)return this.Yr;throw Ae()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),G.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),G.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(o=>this.Xr.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.Xr.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Xr,r=>{const o=Ie.fromPath(r);return this.ei(e,o).next(c=>{c||t.removeEntry(o,Oe.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return G.or([()=>G.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class $F{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=o}static Wi(e,t){let r=it(),o=it();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new $F(e,t.fromCache,r,o)}}class r8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class dH{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function sg(){return!function VO(){var n;const e=null===(n=hl())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function bS(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}(on())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,o){const c={result:null};return this.Yi(e,t).next(u=>{c.result=u}).next(()=>{if(!c.result)return this.Zi(e,t,o,r).next(u=>{c.result=u})}).next(()=>{if(c.result)return;const u=new r8;return this.Xi(e,t,u).next(h=>{if(c.result=h,this.zi)return this.es(e,t,u,h.size)})}).next(()=>c.result)}es(e,t,r,o){return r.documentReadCount<this.ji?(pc()<=mt.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",_o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),G.resolve()):(pc()<=mt.DEBUG&&se("QueryEngine","Query:",_o(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Hi*o?(pc()<=mt.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",_o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(t))):G.resolve())}Yi(e,t){if(kI(t))return G.resolve(null);let r=yr(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=Ym(t,null,"F"),r=yr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const u=it(...c);return this.Ji.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(g=>{const _=this.ts(t,h);return this.ns(t,_,u,g.readTime)?this.Yi(e,Ym(t,null,"F")):this.rs(e,_,t,g)}))})))}Zi(e,t,r,o){return kI(t)||o.isEqual(Oe.min())?G.resolve(null):this.Ji.getDocuments(e,r).next(c=>{const u=this.ts(t,c);return this.ns(t,u,r,o)?G.resolve(null):(pc()<=mt.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(t)),this.rs(e,u,t,function vS(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(1e9===r?new _n(t+1,0):new _n(t,r));return new ai(o,Ie.empty(),e)}(o,-1)).next(h=>h))})}ts(e,t){let r=new St(VI(e));return t.forEach((o,c)=>{ta(e,c)&&(r=r.add(c))}),r}ns(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Xi(e,t,r){return pc()<=mt.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",_o(t)),this.Ji.getDocumentsMatchingQuery(e,t,ai.min(),r)}rs(e,t,r,o){return this.Ji.getDocumentsMatchingQuery(e,r,o).next(c=>(t.forEach(u=>{c=c.insert(u.key,u)}),c))}}class i8{constructor(e,t,r,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new $t(Ye),this._s=new Zo(c=>Ic(c),zl),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lH(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function fH(n,e){return HF.apply(this,arguments)}function HF(){return(HF=L(function*(n,e){const t=_e(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(c=>(o=c,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(c=>{const u=[],h=[];let g=it();for(const _ of o){u.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}for(const _ of c){h.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}return t.localDocuments.getDocuments(r,g).next(_=>({hs:_,removedBatchIds:u,addedBatchIds:h}))})})})).apply(this,arguments)}function pH(n){const e=_e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function f_(n,e,t){return zF.apply(this,arguments)}function zF(){return(zF=L(function*(n,e,t){const r=_e(n),o=r.os.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,u=>r.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!qs(u))throw u;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.os=r.os.remove(e),r._s.delete(o.target)})).apply(this,arguments)}function sx(n,e,t){const r=_e(n);let o=Oe.min(),c=it();return r.persistence.runTransaction("Execute query","readwrite",u=>function(g,_,E){const I=_e(g),A=I._s.get(E);return void 0!==A?G.resolve(I.os.get(A)):I.Ur.getTargetData(_,E)}(r,u,yr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(u,h.targetId).next(g=>{c=g})}).next(()=>r.ss.getDocumentsMatchingQuery(u,e,t?o:Oe.min(),t?c:it())).next(h=>(function yH(n,e,t){let r=n.us.get(e)||Oe.min();t.forEach((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),n.us.set(e,r)}(r,function jh(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),h),{documents:h,Ts:c})))}class XF{constructor(){this.activeTargetIds=function e_(){return uF}()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wH{constructor(){this.so=new XF,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new XF,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class u8{_o(e){}shutdown(){}}class IH{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lx=null;function YF(){return null===lx?lx=268435456+Math.round(2147483648*Math.random()):lx++,"0x"+lx.toString(16)}const d8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class h8{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const zr="WebChannelConnection";class f8 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${o}/databases/${c}`,this.Co="(default)"===this.databaseId.database?`project_id=${o}`:`project_id=${o}&database_id=${c}`}get Fo(){return!1}Mo(t,r,o,c,u){const h=YF(),g=this.xo(t,r.toUriEncodedString());se("RestConnection",`Sending RPC '${t}' ${h}:`,g,o);const _={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(_,c,u),this.No(t,g,_,o).then(E=>(se("RestConnection",`Received RPC '${t}' ${h}: `,E),E),E=>{throw jr("RestConnection",`RPC '${t}' ${h} failed with error: `,E,"url: ",g,"request:",o),E})}Lo(t,r,o,c,u,h){return this.Mo(t,r,o,c,u)}Oo(t,r,o){t["X-Goog-Api-Client"]="gl-js/ fire/"+fc,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((c,u)=>t[u]=c),o&&o.headers.forEach((c,u)=>t[u]=c)}xo(t,r){return`${this.Do}/v1/${r}:${d8[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,o){const c=YF();return new Promise((u,h)=>{const g=new lS;g.setWithCredentials(!0),g.listenOnce(dS.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Mm.NO_ERROR:const E=g.getResponseJson();se(zr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),u(E);break;case Mm.TIMEOUT:se(zr,`RPC '${e}' ${c} timed out`),h(new ae(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Mm.HTTP_ERROR:const I=g.getStatus();if(se(zr,`RPC '${e}' ${c} failed with status:`,I,"response text:",g.getResponseText()),I>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const S=A?.error;if(S&&S.status&&S.message){const O=function(P){const U=P.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(U)>=0?U:Y.UNKNOWN}(S.status);h(new ae(O,S.message))}else h(new ae(Y.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new ae(Y.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{se(zr,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(o);se(zr,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",_,r,15)})}Bo(e,t,r){const o=YF(),c=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Th(),h=hS(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;void 0!==_&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Oo(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const E=c.join("");se(zr,`Creating RPC '${e}' stream ${o}: ${E}`,g);const I=u.createWebChannel(E,g);let A=!1,S=!1;const O=new h8({Io:P=>{S?se(zr,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(A||(se(zr,`Opening RPC '${e}' stream ${o} transport.`),I.open(),A=!0),se(zr,`RPC '${e}' stream ${o} sending:`,P),I.send(P))},To:()=>I.close()}),B=(P,U,K)=>{P.listen(U,Q=>{try{K(Q)}catch(ie){setTimeout(()=>{throw ie},0)}})};return B(I,bh.EventType.OPEN,()=>{S||(se(zr,`RPC '${e}' stream ${o} transport opened.`),O.yo())}),B(I,bh.EventType.CLOSE,()=>{S||(S=!0,se(zr,`RPC '${e}' stream ${o} transport closed`),O.So())}),B(I,bh.EventType.ERROR,P=>{S||(S=!0,jr(zr,`RPC '${e}' stream ${o} transport errored:`,P),O.So(new ae(Y.UNAVAILABLE,"The operation could not be completed")))}),B(I,bh.EventType.MESSAGE,P=>{var U;if(!S){const K=P.data[0];xe(!!K);const ie=K.error||(null===(U=K[0])||void 0===U?void 0:U.error);if(ie){se(zr,`RPC '${e}' stream ${o} received error:`,ie);const fe=ie.status;let we=function(V){const $=Pn[V];if(void 0!==$)return WI($)}(fe),j=ie.message;void 0===we&&(we=Y.INTERNAL,j="Unknown error status: "+fe+" with message "+ie.message),S=!0,O.So(new ae(we,j)),I.close()}else se(zr,`RPC '${e}' stream ${o} received:`,K),O.bo(K)}}),B(h,fI.STAT_EVENT,P=>{P.stat===Ch.PROXY?se(zr,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===Ch.NOPROXY&&se(zr,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.wo()},0),O}}function ux(){return typeof document<"u"?document:null}function lb(n){return new U$(n,!0)}class ZF{constructor(e,t,r=1e3,o=1.5,c=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=o,this.Qo=c,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-r);o>0&&se("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class CH{constructor(e,t,r,o,c,u,h,g){this.ui=e,this.Ho=r,this.Jo=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ZF(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return L(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return L(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){var r=this;return L(function*(){r.u_(),r.c_(),r.t_.cancel(),r.Yo++,4!==e?r.t_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(mn(t.toString()),mn("Using maximum backoff delay to prevent overloading the backend."),r.t_.Wo()):t&&t.code===Y.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.l_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.mo(t)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Yo===t&&this.P_(r,o)},r=>{e(()=>{const o=new ae(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(o)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{r(()=>this.I_(o))}),this.stream.onMessage(o=>{r(()=>1==++this.e_?this.E_(o):this.onNext(o))})}i_(){var e=this;this.state=5,this.t_.Go(L(function*(){e.state=0,e.start()}))}I_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class p8 extends CH{constructor(e,t,r,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=c}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function AF(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:Ae(),o=e.targetChange.targetIds||[],c=function(_,E){return _.useProto3Json?(xe(void 0===E||"string"==typeof E),Ht.fromBase64String(E||"")):(xe(void 0===E||E instanceof Buffer||E instanceof Uint8Array),Ht.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(_){const E=void 0===_.code?Y.UNKNOWN:WI(_.code);return new ae(E,_.message||"")}(u);t=new Xh(r,o,c,h||null)}else if("documentChange"in e){const r=e.documentChange,o=es(n,r.document.name),c=In(r.document.updateTime),u=r.document.createTime?In(r.document.createTime):Oe.min(),h=new Qn({mapValue:{fields:r.document.fields}}),g=Xt.newFoundDocument(o,c,u,h);t=new o_(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,o=es(n,r.document),c=r.readTime?In(r.readTime):Oe.min(),u=Xt.newNoDocument(o,c);t=new o_([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,o=es(n,r.document);t=new o_([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Ae();{const r=e.filter,{count:o=0,unchangedNames:c}=r,u=new gF(o,c);t=new XS(r.targetId,u)}}var _;return t}(this.serializer,e),r=function(c){if(!("targetChange"in c))return Oe.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?In(u.readTime):Oe.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=eb(this.serializer),t.addTarget=function(c,u){let h;const g=u.target;if(h=Vh(g)?{documents:YS(c,g)}:{query:a_(c,g)._t},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=function EF(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}(c,u.resumeToken);const _=YI(c,u.expectedCount);null!==_&&(h.expectedCount=_)}else if(u.snapshotVersion.compareTo(Oe.min())>0){h.readTime=function Zl(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(c,u.snapshotVersion.toTimestamp());const _=YI(c,u.expectedCount);null!==_&&(h.expectedCount=_)}return h}(this.serializer,e);const r=function RF(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=eb(this.serializer),t.removeTarget=e,this.a_(t)}}class m8 extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection.Mo(e,JI(t,r),o,c,u)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(Y.UNKNOWN,c.toString())})}Lo(e,t,r,o,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Lo(e,JI(t,r),o,u,h,c)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ae(Y.UNKNOWN,u.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class _8{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(mn(t),this.D_=!1):se("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class y8{constructor(e,t,r,o,c){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=c,this.k_._o(h=>{r.enqueueAndForget(L(function*(){var g;nu(u)&&(se("RemoteStore","Restarting streams for network reachability change."),yield(g=L(function*(E){const I=_e(E);I.L_.add(4),yield p_(I),I.q_.set("Unknown"),I.L_.delete(4),yield ub(I)}),function _(E){return g.apply(this,arguments)})(u))}))}),this.q_=new _8(r,o)}}function ub(n){return JF.apply(this,arguments)}function JF(){return(JF=L(function*(n){if(nu(n))for(const e of n.B_)yield e(!0)})).apply(this,arguments)}function p_(n){return eV.apply(this,arguments)}function eV(){return(eV=L(function*(n){for(const e of n.B_)yield e(!1)})).apply(this,arguments)}function dx(n,e){const t=_e(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),rV(t)?nV(t):__(t).r_()&&tV(t,e))}function g_(n,e){const t=_e(n),r=__(t);t.N_.delete(e),r.r_()&&TH(t,e),0===t.N_.size&&(r.r_()?r.o_():nu(t)&&t.q_.set("Unknown"))}function tV(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}__(n).A_(e)}function TH(n,e){n.Q_.xe(e),__(n).R_(e)}function nV(n){n.Q_=new _F({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),__(n).start(),n.q_.v_()}function rV(n){return nu(n)&&!__(n).n_()&&n.N_.size>0}function nu(n){return 0===_e(n).L_.size}function DH(n){n.Q_=void 0}function v8(n){return iV.apply(this,arguments)}function iV(){return(iV=L(function*(n){n.q_.set("Online")})).apply(this,arguments)}function E8(n){return oV.apply(this,arguments)}function oV(){return(oV=L(function*(n){n.N_.forEach((e,t)=>{tV(n,e)})})).apply(this,arguments)}function w8(n,e){return sV.apply(this,arguments)}function sV(){return(sV=L(function*(n,e){DH(n),rV(n)?(n.q_.M_(e),nV(n)):n.q_.set("Unknown")})).apply(this,arguments)}function I8(n,e,t){return aV.apply(this,arguments)}function aV(){return aV=L(function*(n,e,t){if(n.q_.set("Online"),e instanceof Xh&&2===e.state&&e.cause)try{yield(r=L(function*(c,u){const h=u.cause;for(const g of u.targetIds)c.N_.has(g)&&(yield c.remoteSyncer.rejectListen(g,h),c.N_.delete(g),c.Q_.removeTarget(g))}),function o(c,u){return r.apply(this,arguments)})(n,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield hx(n,r)}else if(e instanceof o_?n.Q_.Ke(e):e instanceof XS?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Oe.min()))try{const r=yield pH(n.localStore);t.compareTo(r)>=0&&(yield function(c,u){const h=c.Q_.rt(u);return h.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const E=c.N_.get(_);E&&c.N_.set(_,E.withResumeToken(g.resumeToken,u))}}),h.targetMismatches.forEach((g,_)=>{const E=c.N_.get(g);if(!E)return;c.N_.set(g,E.withResumeToken(Ht.EMPTY_BYTE_STRING,E.snapshotVersion)),TH(c,g);const I=new w(E.target,g,_,E.sequenceNumber);tV(c,I)}),c.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){se("RemoteStore","Failed to raise snapshot:",r),yield hx(n,r)}var r}),aV.apply(this,arguments)}function hx(n,e,t){return cV.apply(this,arguments)}function cV(){return(cV=L(function*(n,e,t){if(!qs(e))throw e;n.L_.add(1),yield p_(n),n.q_.set("Offline"),t||(t=()=>pH(n.localStore)),n.asyncQueue.enqueueRetryable(L(function*(){se("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield ub(n)}))})).apply(this,arguments)}function RH(n,e){return pV.apply(this,arguments)}function pV(){return(pV=L(function*(n,e){const t=_e(n);t.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=nu(t);t.L_.add(3),yield p_(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield ub(t)})).apply(this,arguments)}function gV(n,e){return mV.apply(this,arguments)}function mV(){return(mV=L(function*(n,e){const t=_e(n);e?(t.L_.delete(2),yield ub(t)):e||(t.L_.add(2),yield p_(t),t.q_.set("Unknown"))})).apply(this,arguments)}function __(n){return n.K_||(n.K_=function(t,r,o){const c=_e(t);return c.w_(),new p8(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(n.datastore,n.asyncQueue,{Eo:v8.bind(null,n),Ro:E8.bind(null,n),mo:w8.bind(null,n),d_:I8.bind(null,n)}),n.B_.push(function(){var e=L(function*(t){t?(n.K_.s_(),rV(n)?nV(n):n.q_.set("Unknown")):(yield n.K_.stop(),DH(n))});return function(t){return e.apply(this,arguments)}}())),n.K_}class _V{constructor(e,t,r,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,c){const u=Date.now()+r,h=new _V(e,t,u,o,c);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ae(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function y_(n,e){if(mn("AsyncQueue",`${e}: ${n}`),qs(n))return new ae(Y.UNAVAILABLE,`${e}: ${n}`);throw n}class v_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ie.comparator(t.key,r.key):(t,r)=>Ie.comparator(t.key,r.key),this.keyedMap=$h(),this.sortedSet=new $t(this.comparator)}static emptySet(e){return new v_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof v_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new v_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class MH{constructor(){this.W_=new $t(Ie.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?0!==e.type&&3===r.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==r.type?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.W_=this.W_.remove(t):1===e.type&&2===r.type?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Ae():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class E_{constructor(e,t,r,o,c,u,h,g,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,t,r,o,c){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new E_(e,t,v_.emptySet(t),u,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class x8{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class R8{constructor(){this.queries=PH(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(t,r){const o=_e(t),c=o.queries;o.queries=PH(),c.forEach((u,h)=>{for(const g of h.j_)g.onError(r)})}(this,new ae(Y.ABORTED,"Firestore shutting down"))}}function PH(){return new Zo(n=>Mn(n),Zm)}function vV(){return(vV=L(function*(n,e){const t=_e(n);let r=3;const o=e.query;let c=t.queries.get(o);c?!c.H_()&&e.J_()&&(r=2):(c=new x8,r=e.J_()?0:1);try{switch(r){case 0:c.z_=yield t.onListen(o,!0);break;case 1:c.z_=yield t.onListen(o,!1);break;case 2:yield t.onFirstRemoteStoreListen(o)}}catch(u){const h=y_(u,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,c),c.j_.push(e),e.Z_(t.onlineState),c.z_&&e.X_(c.z_)&&IV(t)})).apply(this,arguments)}function wV(){return(wV=L(function*(n,e){const t=_e(n),r=e.query;let o=3;const c=t.queries.get(r);if(c){const u=c.j_.indexOf(e);u>=0&&(c.j_.splice(u,1),0===c.j_.length?o=e.J_()?0:1:!c.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})).apply(this,arguments)}function M8(n,e){const t=_e(n);let r=!1;for(const o of e){const u=t.queries.get(o.query);if(u){for(const h of u.j_)h.X_(o)&&(r=!0);u.z_=o}}r&&IV(t)}function P8(n,e,t){const r=_e(n),o=r.queries.get(e);if(o)for(const c of o.j_)c.onError(t);r.queries.delete(e)}function IV(n){n.Y_.forEach(e=>{e.next()})}var bV,OH;(OH=bV||(bV={})).ea="default",OH.Cache="cache";class CV{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new E_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=E_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==bV.Cache}}class FH{constructor(e){this.key=e}}class VH{constructor(e){this.key=e}}class LH{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=it(),this.mutatedKeys=it(),this.Aa=VI(e),this.Ra=new v_(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new MH,o=t?t.Ra:this.Ra;let c=t?t.mutatedKeys:this.mutatedKeys,u=o,h=!1;const g="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,_="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,I)=>{const A=o.get(E),S=ta(this.query,I)?I:null,O=!!A&&this.mutatedKeys.has(A.key),B=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let P=!1;A&&S?A.data.isEqual(S.data)?O!==B&&(r.track({type:3,doc:S}),P=!0):this.ga(A,S)||(r.track({type:2,doc:S}),P=!0,(g&&this.Aa(S,g)>0||_&&this.Aa(S,_)<0)&&(h=!0)):!A&&S?(r.track({type:0,doc:S}),P=!0):A&&!S&&(r.track({type:1,doc:A}),P=!0,(g||_)&&(h=!0)),P&&(S?(u=u.add(S),c=B?c.add(E):c.delete(E)):(u=u.delete(E),c=c.delete(E)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const E="F"===this.query.limitType?u.last():u.first();u=u.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{Ra:u,fa:r,ns:h,mutatedKeys:c}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const c=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const u=e.fa.G_();u.sort((E,I)=>function(S,O){const B=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return B(S)-B(O)}(E.type,I.type)||this.Aa(E.doc,I.doc)),this.pa(r),o=null!=o&&o;const h=t&&!o?this.ya():[],g=0===this.da.size&&this.current&&!o?1:0,_=g!==this.Ea;return this.Ea=g,0!==u.length||_?{snapshot:new E_(this.query,e.Ra,c,u,e.mutatedKeys,0===g,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new MH,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=it(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new VH(r))}),this.da.forEach(r=>{e.has(r)||t.push(new FH(r))}),t}ba(e){this.Ta=e.Ts,this.da=it();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return E_.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class k8{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class F8{constructor(e){this.key=e,this.va=!1}}class V8{constructor(e,t,r,o,c,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Ca={},this.Fa=new Zo(h=>Mn(h),Zm),this.Ma=new Map,this.xa=new Set,this.Oa=new $t(Ie.comparator),this.Na=new Map,this.La=new VF,this.Ba={},this.ka=new Map,this.qa=ef.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function L8(n,e){return TV.apply(this,arguments)}function TV(){return(TV=L(function*(n,e,t=!0){const r=fx(n);let o;const c=r.Fa.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Da()):o=yield UH(r,e,t,!0),o})).apply(this,arguments)}function U8(n,e){return DV.apply(this,arguments)}function DV(){return(DV=L(function*(n,e){const t=fx(n);yield UH(t,e,!0,!1)})).apply(this,arguments)}function UH(n,e,t,r){return AV.apply(this,arguments)}function AV(){return(AV=L(function*(n,e,t,r){const o=yield function h_(n,e){const t=_e(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Ur.getTargetData(r,e).next(c=>c?(o=c,G.resolve(o)):t.Ur.allocateTargetId(r).next(u=>(o=new w(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.os.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}(n.localStore,yr(e)),c=o.targetId,u=n.sharedClientState.addLocalQueryTarget(c,t);let h;return r&&(h=yield function SV(n,e,t,r,o){return xV.apply(this,arguments)}(n,e,c,"current"===u,o.resumeToken)),n.isPrimaryClient&&t&&dx(n.remoteStore,o),h})).apply(this,arguments)}function xV(){return xV=L(function*(n,e,t,r,o){n.Ka=(I,A,S)=>{return(O=L(function*(P,U,K,Q){let ie=U.view.ma(K);ie.ns&&(ie=yield sx(P.localStore,U.query,!1).then(({documents:M})=>U.view.ma(M,ie)));const fe=Q&&Q.targetChanges.get(U.targetId),we=Q&&null!=Q.targetMismatches.get(U.targetId),j=U.view.applyChanges(ie,P.isPrimaryClient,fe,we);return BV(P,U.targetId,j.wa),j.snapshot}),function B(P,U,K,Q){return O.apply(this,arguments)})(n,I,A,S);var O};const c=yield sx(n.localStore,e,!0),u=new LH(e,c.Ts),h=u.ma(c.documents),g=Yl.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),_=u.applyChanges(h,n.isPrimaryClient,g);BV(n,t,_.wa);const E=new k8(e,t,u);return n.Fa.set(e,E),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),_.snapshot}),xV.apply(this,arguments)}function B8(n,e,t){return RV.apply(this,arguments)}function RV(){return(RV=L(function*(n,e,t){const r=_e(n),o=r.Fa.get(e),c=r.Ma.get(o.targetId);if(c.length>1)return r.Ma.set(o.targetId,c.filter(u=>!Zm(u,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||(yield f_(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&g_(r.remoteStore,o.targetId),w_(r,o.targetId)}).catch(Ws))):(w_(r,o.targetId),yield f_(r.localStore,o.targetId,!0))})).apply(this,arguments)}function j8(n,e){return MV.apply(this,arguments)}function MV(){return(MV=L(function*(n,e){const t=_e(n),r=t.Fa.get(e),o=t.Ma.get(r.targetId);t.isPrimaryClient&&1===o.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),g_(t.remoteStore,r.targetId))})).apply(this,arguments)}function BH(n,e){return OV.apply(this,arguments)}function OV(){return(OV=L(function*(n,e){const t=_e(n);try{const r=yield function s8(n,e){const t=_e(n),r=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const u=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const h=[];e.targetChanges.forEach((E,I)=>{const A=o.get(I);if(!A)return;h.push(t.Ur.removeMatchingKeys(c,E.removedDocuments,I).next(()=>t.Ur.addMatchingKeys(c,E.addedDocuments,I)));let S=A.withSequenceNumber(c.currentSequenceNumber);var B,P,U;null!==e.targetMismatches.get(I)?S=S.withResumeToken(Ht.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):E.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(E.resumeToken,r)),o=o.insert(I,S),P=S,U=E,(0===(B=A).resumeToken.approximateByteSize()||P.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0)&&h.push(t.Ur.updateTargetData(c,S))});let g=li(),_=it();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(c,E))}),h.push(function gH(n,e,t){let r=it(),o=it();return t.forEach(c=>r=r.add(c)),e.getEntries(n,r).next(c=>{let u=li();return t.forEach((h,g)=>{const _=c.get(h);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(h)),g.isNoDocument()&&g.version.isEqual(Oe.min())?(e.removeEntry(h,g.readTime),u=u.insert(h,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||0===g.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(g),u=u.insert(h,g)):se("LocalStore","Ignoring outdated watch update for ",h,". Current version:",_.version," Watch version:",g.version)}),{Ps:u,Is:o}})}(c,u,e.documentUpdates).next(E=>{g=E.Ps,_=E.Is})),!r.isEqual(Oe.min())){const E=t.Ur.getLastRemoteSnapshotVersion(c).next(I=>t.Ur.setTargetsMetadata(c,c.currentSequenceNumber,r));h.push(E)}return G.waitFor(h).next(()=>u.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,g,_)).next(()=>g)}).then(c=>(t.os=o,c))}(t.localStore,e);e.targetChanges.forEach((o,c)=>{const u=t.Na.get(c);u&&(xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.va=!0:o.modifiedDocuments.size>0?xe(u.va):o.removedDocuments.size>0&&(xe(u.va),u.va=!1))}),yield Ac(t,r,e)}catch(r){yield Ws(r)}})).apply(this,arguments)}function jH(n,e,t){const r=_e(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.Fa.forEach((c,u)=>{const h=u.view.Z_(e);h.snapshot&&o.push(h.snapshot)}),function(u,h){const g=_e(u);g.onlineState=h;let _=!1;g.queries.forEach((E,I)=>{for(const A of I.j_)A.Z_(h)&&(_=!0)}),_&&IV(g)}(r.eventManager,e),o.length&&r.Ca.d_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function H8(n,e,t){return NV.apply(this,arguments)}function NV(){return(NV=L(function*(n,e,t){const r=_e(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Na.get(e),c=o&&o.key;if(c){let u=new $t(Ie.comparator);u=u.insert(c,Xt.newNoDocument(c,Oe.min()));const h=it().add(c),g=new Tc(Oe.min(),new Map,new $t(Ye),u,h);yield BH(r,g),r.Oa=r.Oa.remove(c),r.Na.delete(e),jV(r)}else yield f_(r.localStore,e,!1).then(()=>w_(r,e,t)).catch(Ws)})).apply(this,arguments)}function w_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||$H(n,r)})}function $H(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);null!==t&&(g_(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),jV(n))}function BV(n,e,t){for(const r of t)r instanceof FH?(n.La.addReference(r.key,e),q8(n,r)):r instanceof VH?(se("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||$H(n,r.key)):Ae()}function q8(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(se("SyncEngine","New document in limbo: "+t),n.xa.add(r),jV(n))}function jV(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new Ie(vt.fromString(e)),r=n.qa.next();n.Na.set(r,new F8(t)),n.Oa=n.Oa.insert(t,r),dx(n.remoteStore,new w(yr(Uh(t.path)),r,"TargetPurposeLimboResolution",$r.oe))}}function Ac(n,e,t){return $V.apply(this,arguments)}function $V(){return $V=L(function*(n,e,t){const r=_e(n),o=[],c=[],u=[];var h;r.Fa.isEmpty()||(r.Fa.forEach((h,g)=>{u.push(r.Ka(g,e,t).then(_=>{var E;if((_||t)&&r.isPrimaryClient){const I=_?!_.fromCache:null===(E=t?.targetChanges.get(g.targetId))||void 0===E?void 0:E.current;r.sharedClientState.updateQueryState(g.targetId,I?"current":"not-current")}if(_){o.push(_);const I=$F.Wi(g.targetId,_);c.push(I)}}))}),yield Promise.all(u),r.Ca.d_(o),yield(h=L(function*(_,E){const I=_e(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>G.forEach(E,S=>G.forEach(S.$i,O=>I.persistence.referenceDelegate.addReference(A,S.targetId,O)).next(()=>G.forEach(S.Ui,O=>I.persistence.referenceDelegate.removeReference(A,S.targetId,O)))))}catch(A){if(!qs(A))throw A;se("LocalStore","Failed to update sequence numbers: "+A)}for(const A of E){const S=A.targetId;if(!A.fromCache){const O=I.os.get(S),P=O.withLastLimboFreeSnapshotVersion(O.snapshotVersion);I.os=I.os.insert(S,P)}}}),function g(_,E){return h.apply(this,arguments)})(r.localStore,c))}),$V.apply(this,arguments)}function K8(n,e){return HV.apply(this,arguments)}function HV(){return(HV=L(function*(n,e){const t=_e(n);if(!t.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=yield fH(t.localStore,e);t.currentUser=e,(c=t).ka.forEach(h=>{h.forEach(g=>{g.reject(new ae(Y.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.ka.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ac(t,r.hs)}var c})).apply(this,arguments)}function X8(n,e){const t=_e(n),r=t.Na.get(e);if(r&&r.va)return it().add(r.key);{let o=it();const c=t.Ma.get(e);if(!c)return o;for(const u of c){const h=t.Fa.get(u);o=o.unionWith(h.view.Va)}return o}}function fx(n){const e=_e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=BH.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=X8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=H8.bind(null,e),e.Ca.d_=M8.bind(null,e.eventManager),e.Ca.$a=P8.bind(null,e.eventManager),e}let I_=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){var r=this;return L(function*(){r.serializer=lb(t.databaseInfo.databaseId),r.sharedClientState=r.Wa(t),r.persistence=r.Ga(t),yield r.persistence.start(),r.localStore=r.za(t),r.gcScheduler=r.ja(t,r.localStore),r.indexBackfillerScheduler=r.Ha(t,r.localStore)})()}ja(t,r){return null}Ha(t,r){return null}za(t){return function hH(n,e,t,r){return new i8(n,e,t,r)}(this.persistence,new dH,t.initialUser,this.serializer)}Ga(t){return new LF(rx.Zr,this.serializer)}Wa(t){return new wH}terminate(){var t=this;return L(function*(){var r,o;null===(r=t.gcScheduler)||void 0===r||r.stop(),null===(o=t.indexBackfillerScheduler)||void 0===o||o.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}return n.provider={build:()=>new n},n})(),b_=(()=>{class n{initialize(t,r){var o=this;return L(function*(){o.localStore||(o.localStore=t.localStore,o.sharedClientState=t.sharedClientState,o.datastore=o.createDatastore(r),o.remoteStore=o.createRemoteStore(r),o.eventManager=o.createEventManager(r),o.syncEngine=o.createSyncEngine(r,!t.synchronizeTabs),o.sharedClientState.onlineStateHandler=c=>jH(o.syncEngine,c,1),o.remoteStore.remoteSyncer.handleCredentialChange=K8.bind(null,o.syncEngine),yield gV(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(t){return new R8}createDatastore(t){const r=lb(t.databaseInfo.databaseId),o=new f8(t.databaseInfo);return new m8(t.authCredentials,t.appCheckCredentials,o,r)}createRemoteStore(t){return o=this.localStore,c=this.datastore,u=t.asyncQueue,h=r=>jH(this.syncEngine,r,0),g=IH.D()?new IH:new u8,new y8(o,c,u,h,g);var o,c,u,h,g}createSyncEngine(t,r){return function(c,u,h,g,_,E,I){const A=new V8(c,u,h,g,_,E);return I&&(A.Qa=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){var t=this;return L(function*(){var r,o,c;yield(c=L(function*(h){const g=_e(h);se("RemoteStore","RemoteStore shutting down."),g.L_.add(5),yield p_(g),g.k_.shutdown(),g.q_.set("Unknown")}),function u(h){return c.apply(this,arguments)})(t.remoteStore),null===(r=t.datastore)||void 0===r||r.terminate(),null===(o=t.eventManager)||void 0===o||o.terminate()})()}}return n.provider={build:()=>new n},n})();class px{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):mn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class c6{constructor(e,t,r,o,c){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=cr.UNAUTHENTICATED,this.clientId=_S.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,function(){var h=L(function*(g){se("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,h=>(se("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(L(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=y_(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function JV(n,e){return eL.apply(this,arguments)}function eL(){return eL=L(function*(n,e){n.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=L(function*(c){r.isEqual(c)||(yield fH(e.localStore,c),r=c)});return function(c){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),eL.apply(this,arguments)}function qH(n,e){return tL.apply(this,arguments)}function tL(){return(tL=L(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function nL(n){return rL.apply(this,arguments)}(n);se("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>RH(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>RH(e.remoteStore,o)),n._onlineComponents=e})).apply(this,arguments)}function rL(){return(rL=L(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{yield JV(n,n._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(o=e).name?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw e;jr("Error using user provided cache. Falling back to memory cache: "+e),yield JV(n,new I_)}}else se("FirestoreClient","Using default OfflineComponentProvider"),yield JV(n,new I_);var o;return n._offlineComponents})).apply(this,arguments)}function iL(){return(iL=L(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),yield qH(n,n._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),yield qH(n,new b_))),n._onlineComponents})).apply(this,arguments)}function sL(){return(sL=L(function*(n){const e=yield function gx(n){return iL.apply(this,arguments)}(n),t=e.eventManager;return t.onListen=L8.bind(null,e.syncEngine),t.onUnlisten=B8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=U8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=j8.bind(null,e.syncEngine),t})).apply(this,arguments)}function YH(n,e,t={}){const r=new jn;return n.asyncQueue.enqueueAndForget(L(function*(){return function(c,u,h,g,_){const E=new px({next:A=>{E.Za(),u.enqueueAndForget(()=>function EV(n,e){return wV.apply(this,arguments)}(c,I));const S=A.docs.has(h);!S&&A.fromCache?_.reject(new ae(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&A.fromCache&&g&&"server"===g.source?_.reject(new ae(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),I=new CV(Uh(h.path),E,{includeMetadataChanges:!0,_a:!0});return function yV(n,e){return vV.apply(this,arguments)}(c,I)}(yield function T_(n){return sL.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}function JH(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const ez=new Map;function tz(n){if(!Ie.isDocumentKey(n))throw new ae(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Et(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ae(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function mx(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":Ae()}(n);throw new ae(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class iz{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ae(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ae(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function E6(n,e,t,r){if(!0===e&&!0===r)throw new ae(Y.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=JH(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class db{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iz({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ae(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iz(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new A1;switch(r.type){case"firstParty":return new gS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return L(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=ez.get(t);r&&(se("ComponentProvider","Removing Datastore"),ez.delete(t),r.terminate())}(this),Promise.resolve()}}class Mr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mr(this.firestore,e,this._query)}}class Hn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hn(this.firestore,e,this._key)}}class ra extends Mr{constructor(e,t,r){super(e,t,Uh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hn(this.firestore,null,new Ie(e))}withConverter(e){return new ra(this.firestore,e,this._path)}}function oz(n,e,...t){if(n=Dr(n),1===arguments.length&&(e=_S.newId()),function aL(n,e,t){if(!t)throw new ae(Y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}("doc","path",e),n instanceof db){const r=vt.fromString(e,...t);return tz(r),new Hn(n,null,new Ie(r))}{if(!(n instanceof Hn||n instanceof ra))throw new ae(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vt.fromString(e,...t));return tz(r),new Hn(n.firestore,n instanceof ra?n.converter:null,new Ie(r))}}class az{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ZF(this,"async_queue_retry"),this.Vu=()=>{const r=ux();r&&se("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=ux();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=ux();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new jn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return L(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(t){if(!qs(t))throw t;se("AsyncQueue","Operation failed with retryable error: "+t)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{throw this.Eu=r,this.du=!1,mn("INTERNAL UNHANDLED ERROR: ",function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),h}(r)),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=_V.createAndSchedule(this,e,t,r,c=>this.yu(c));return this.Tu.push(o),o}fu(){this.Eu&&Ae()}verifyOperationInProgress(){}wu(){var e=this;return L(function*(){let t;do{t=e.mu,yield t}while(t!==e.mu)})()}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Qt extends db{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new az,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){var e=this;return L(function*(){if(e._firestoreClient){const t=e._firestoreClient.terminate();e._queue=new az(t),e._firestoreClient=void 0,yield t}})()}}function b6(n,e){const r="string"==typeof n?n:e||"(default)",o=El("object"==typeof n?n:wl(),"firestore").getImmediate({identifier:r});if(!o._initialized){const c=(()=>{const e=RT("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})();c&&function w6(n,e,t,r={}){var o;const c=(n=Et(n,db))._getSettings(),u=`${e}:${t}`;if("firestore.googleapis.com"!==c.host&&c.host!==u&&jr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},c),{host:u,ssl:!1})),r.mockUserToken){let h,g;if("string"==typeof r.mockUserToken)h=r.mockUserToken,g=cr.MOCK_USER;else{h=function oo(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",o=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},n);return[rE(JSON.stringify({alg:"none",type:"JWT"})),rE(JSON.stringify(u)),""].join(".")}(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new ae(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new cr(_)}n._authCredentials=new S1(new pI(h,g))}}(o,...c)}return o}function Cn(n){if(n._terminated)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||function cz(n){var e,t,r;const o=n._freezeSettings(),c=(g=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new W1(n._databaseId,g,n._persistenceKey,(E=o).host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,JH(E.experimentalLongPollingOptions),E.useFetchStreams));var g,E;n._componentsProvider||!(null===(t=o.localCache)||void 0===t)&&t._offlineComponentProvider&&!(null===(r=o.localCache)||void 0===r)&&r._onlineComponentProvider&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new c6(n._authCredentials,n._appCheckCredentials,n._queue,c,n._componentsProvider&&function(h){const g=h?._online.build();return{_offline:h?._offline.build(g),_online:g}}(n._componentsProvider))}(n),n._firestoreClient}class nf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nf(Ht.fromBase64String(e))}catch(t){throw new ae(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new nf(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class rf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ae(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uL{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}class _x{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0}(this._values,e._values)}}const S6=new RegExp("[~\\*/\\[\\]]");function wx(n,e,t,r,o){const c=r&&!r.isEmpty(),u=void 0!==o;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(c||u)&&(g+=" (found",c&&(g+=` in field ${r}`),u&&(g+=` in document ${o}`),g+=")"),new ae(Y.INVALID_ARGUMENT,h+n+g)}class gb{constructor(e,t,r,o,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new x6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ix("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class x6 extends gb{data(){return super.data()}}function Ix(n,e){return"string"==typeof e?function Ex(n,e,t){if(e.search(S6)>=0)throw wx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new rf(...e.split("."))._internalPath}catch{throw wx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}(n,e):e instanceof rf?e._internalPath:e._delegate._internalPath}class bz{convertValue(e,t="none"){switch(Qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ks(e,(o,c)=>{r[o]=this.convertValue(c,t)}),r}convertVectorValue(e){var t,r,o;const c=null===(o=null===(r=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===r?void 0:r.values)||void 0===o?void 0:o.map(u=>zt(u.doubleValue));return new _x(c)}convertGeoPoint(e){return new uL(zt(e.latitude),zt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=SI(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Nh(e));default:return null}}convertTimestamp(e){const t=Xo(e);return new _n(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=vt.fromString(e);xe(v(r));const o=new Xs(r.get(1),r.get(3)),c=new Ie(r.popFirst(5));return o.isEqual(t)||mn(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class cf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class S_ extends gb{constructor(e,t,r,o,c,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ax(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ix("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ax extends S_{data(e={}){return super.data(e)}}function O6(n){n=Et(n,Hn);const e=Et(n.firestore,Qt);return YH(Cn(e),n._key).then(t=>function EL(n,e,t){const r=t.docs.get(e._key),o=new iu(n);return new S_(n,o,e._key,r,new cf(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class iu extends bz{constructor(e){super(),this.firestore=e}convertBytes(e){return new nf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,t)}}!function(e,t=!0){fc=ii,Ms(new Ss("firestore",(r,{instanceIdentifier:o,options:c})=>{const u=r.getProvider("app").getImmediate(),h=new Qt(new pS(r.getProvider("auth-internal")),new mS(r.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ae(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xs(_.options.projectId,E)}(u,o),u);return c=Object.assign({useFetchStreams:t},c),h._setSettings(c),h},"PUBLIC").setMultipleInstances(!0)),Kn(Pm,"4.7.3",e),Kn(Pm,"4.7.3","esm2017")}();class xx{constructor(e){return e}}const Az="firestore",IL=new p.nKC("angularfire2.firestore-instances");function K6(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new xx(r)}}const X6={provide:class W6{constructor(){return Ig(Az)}},deps:[[new p.Xx1,IL]]},Q6={provide:xx,useFactory:function q6(n,e){const t=wg(Az,n,e);return t&&new xx(t)},deps:[[new p.Xx1,IL],Vd]};function Y6(n,...e){return Kn("angularfire",Ya.full,"fst"),(0,p.EmA)([Q6,X6,{provide:IL,useFactory:K6(n),multi:!0,deps:[p.SKi,p.zZn,PE,kE,[new p.Xx1,lI],[new p.Xx1,pD],...e]}])}const bL=Fd(oz,!0),CL=Fd(O6,!0),Z6=Fd(b6,!0);function TL(...n){const e=N0(n),{args:t,keys:r}=Ip(n),o=new Je.c(c=>{const{length:u}=t;if(!u)return void c.complete();const h=new Array(u);let g=u,_=u;for(let E=0;E<u;E++){let I=!1;rr(t[E]).subscribe((0,ir._)(c,A=>{I||(I=!0,_--),h[E]=A},()=>g--,void 0,()=>{(!g||!I)&&(_||c.next(r?Cp(r,h):h),c.complete())}))}});return e?o.pipe(lv(e)):o}let DL;try{DL=typeof Intl<"u"&&Intl.v8BreakIterator}catch{DL=!1}let vb,yo=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?gy(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!DL)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(p.Agw))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Rx(n){return function J6(){if(null==vb&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>vb=!0}))}finally{vb=vb||!1}return vb}()?n:!!n.capture}var ia=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(ia||{});let Mx,lf,AL;function xz(){if(null==lf){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return lf=!1,lf;if("scrollBehavior"in document.documentElement.style)lf=!0;else{const n=Element.prototype.scrollTo;lf=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return lf}function Eb(){if("object"!=typeof document||!document)return ia.NORMAL;if(null==Mx){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),Mx=ia.NORMAL,0===n.scrollLeft&&(n.scrollLeft=1,Mx=0===n.scrollLeft?ia.NEGATED:ia.INVERTED),n.remove()}return Mx}function SL(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function su(n){return n.composedPath?n.composedPath()[0]:n.target}function xL(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Px(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Mz(n,e=Eg){return(0,hr.N)((t,r)=>{let o=null,c=null,u=null;const h=()=>{if(o){o.unsubscribe(),o=null;const _=c;c=null,r.next(_)}};function g(){const _=u+n,E=e.now();if(E<_)return o=this.schedule(void 0,_-E),void r.add(o);h()}t.subscribe((0,ir._)(r,_=>{c=_,u=e.now(),o||(o=e.schedule(g,n),r.add(o))},()=>{h(),r.complete()},void 0,()=>{c=o=null}))})}function Pz(n){return(0,xn.p)((e,t)=>n<=t)}function b9(n,e){return n===e}let C9=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),T9=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=p.$C({type:n})}static{this.\u0275inj=p.G2t({providers:[C9]})}}return n})();function wb(n,e=0){return function D9(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):2===arguments.length?e:0}function Ox(n){return Array.isArray(n)?n:[n]}function Yn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function M_(n){return n instanceof p.aKT?n.nativeElement:n}const Nz=new Set;let uf,A9=(()=>{class n{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):x9}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function S9(n,e){if(!Nz.has(n))try{uf||(uf=document.createElement("style"),e&&uf.setAttribute("nonce",e),uf.setAttribute("type","text/css"),document.head.appendChild(uf)),uf.sheet&&(uf.sheet.insertRule(`@media ${n} {body{ }}`,0),Nz.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(yo),p.KVO(p.BIS,8))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function x9(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let R9=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new gt.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return kz(Ox(t)).some(o=>this._registerQuery(o).mql.matches)}observe(t){let c=Tp(kz(Ox(t)).map(u=>this._registerQuery(u).observable));return c=Ap(c.pipe((0,Ei.s)(1)),c.pipe(Pz(1),Mz(0))),c.pipe((0,lt.T)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:g,query:_})=>{h.matches=h.matches||g,h.breakpoints[_]=g}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),c={observable:new Je.c(u=>{const h=g=>this._zone.run(()=>u.next(g));return r.addListener(h),()=>{r.removeListener(h)}}).pipe(Ku(r),(0,lt.T)(({matches:u})=>({query:t,matches:u})),xo(this._destroySubject)),mql:r};return this._queries.set(t,c),c}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(A9),p.KVO(p.SKi))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function kz(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class Lz{constructor(e,t){this._letterKeyStream=new gt.B,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new gt.B,this.selectedItem=this._selectedItem;const r="number"==typeof t?.debounceInterval?t.debounceInterval:200;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(e),this._setupKeyHandler(r)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){const t=e.keyCode;e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(hn(t=>this._pressedLetters.push(t)),Mz(e),(0,xn.p)(()=>this._pressedLetters.length>0),(0,lt.T)(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let r=1;r<this._items.length+1;r++){const c=this._items[(this._selectedItemIndex+r)%this._items.length];if(!this._skipPredicateFn?.(c)&&0===c.getLabel?.().toLocaleUpperCase().trim().indexOf(t)){this._selectedItem.next(c);break}}this._pressedLetters=[]})}}class N9{constructor(e,t){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._typeaheadSubscription=vi.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=r=>r.disabled,this.tabOut=new gt.B,this.change=new gt.B,e instanceof p.rOR?this._itemChangesSubscription=e.changes.subscribe(r=>this._itemsChanged(r.toArray())):(0,p.Hps)(e)&&(this._effectRef=(0,p.QZP)(()=>this._itemsChanged(e()),{injector:t}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();const t=this._getItemsArray();return this._typeahead=new Lz(t,{debounceInterval:"number"==typeof e?e:void 0,skipPredicate:r=>this._skipPredicateFn(r)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(r=>{this.setActiveItem(r)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(c=>!e[c]||this._allowedModifierKeys.indexOf(c)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&o){this.setNextItemActive();break}return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&o){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&o){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&o){const c=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(c>0?c:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&o){const c=this._activeItemIndex+this._pageUpAndDown.delta,u=this._getItemsArray().length;this._setActiveItemByIndex(c<u?c:u-1,-1);break}return;default:return void((o||Px(e,"shiftKey"))&&this._typeahead?.handleKey(e))}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e);this._activeItem=t[r]??null,this._activeItemIndex=r,this._typeahead?.setCurrentSelectedItemIndex(r)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const o=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[o]))return void this.setActiveItem(o)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return(0,p.Hps)(this._items)?this._items():this._items instanceof p.rOR?this._items.toArray():this._items}_itemsChanged(e){if(this._typeahead?.setItems(e),this._activeItem){const t=e.indexOf(this._activeItem);t>-1&&t!==this._activeItemIndex&&(this._activeItemIndex=t,this._typeahead?.setCurrentSelectedItemIndex(t))}}}class k9 extends N9{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let RL=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function B9(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function U9(n){try{return n.frameElement}catch{return null}}(function K9(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===$z(r)||!this.isVisible(r)))return!1;let o=t.nodeName.toLowerCase(),c=$z(t);return t.hasAttribute("contenteditable")?-1!==c:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function W9(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===o?!!t.hasAttribute("controls")&&-1!==c:"video"===o?-1!==c&&(null!==c||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function q9(n){return!function $9(n){return function z9(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function j9(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function H9(n){return function G9(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||jz(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(yo))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function jz(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function $z(n){if(!jz(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Hz{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,r,o,c=!1,u){this._element=e,this._checker=t,this._ngZone=r,this._document=o,this._injector=u,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const o=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(o)return o}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const o=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(o)return o}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?(0,p.mal)(e,{injector:this._injector}):setTimeout(e)}}let zz=(()=>{class n{constructor(t,r,o){this._checker=t,this._ngZone=r,this._injector=(0,p.WQX)(p.zZn),this._document=o}create(t,r=!1){return new Hz(t,this._checker,this._ngZone,this._document,r,this._injector)}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(RL),p.KVO(p.SKi),p.KVO(be))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Gz(n){return 0===n.buttons||0===n.detail}function Wz(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const X9=new p.nKC("cdk-input-modality-detector-options"),Q9={ignoreKeys:[18,17,224,91,16]},P_=Rx({passive:!0,capture:!0});let Y9=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,o,c){this._platform=t,this._mostRecentTarget=null,this._modality=new pn.t(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=su(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Gz(u)?"keyboard":"mouse"),this._mostRecentTarget=su(u))},this._onTouchstart=u=>{Wz(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=su(u))},this._options={...Q9,...c},this.modalityDetected=this._modality.pipe(Pz(1)),this.modalityChanged=this.modalityDetected.pipe(function I9(n,e=qc.D){return n=n??b9,(0,hr.N)((t,r)=>{let o,c=!0;t.subscribe((0,ir._)(r,u=>{const h=e(u);(c||!n(o,h))&&(c=!1,o=h,r.next(u))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,P_),o.addEventListener("mousedown",this._onMousedown,P_),o.addEventListener("touchstart",this._onTouchstart,P_)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,P_),document.removeEventListener("mousedown",this._onMousedown,P_),document.removeEventListener("touchstart",this._onTouchstart,P_))}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(yo),p.KVO(p.SKi),p.KVO(be),p.KVO(X9,8))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Nx=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Nx||{});const J9=new p.nKC("cdk-focus-monitor-default-options"),kx=Rx({passive:!0,capture:!0});let ML=(()=>{class n{constructor(t,r,o,c,u){this._ngZone=t,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new gt.B,this._rootNodeFocusAndBlurListener=h=>{for(let _=su(h);_;_=_.parentElement)"focus"===h.type?this._onFocus(h,_):this._onBlur(h,_)},this._document=c,this._detectionMode=u?.detectionMode||Nx.IMMEDIATE}monitor(t,r=!1){const o=M_(t);if(!this._platform.isBrowser||1!==o.nodeType)return Pe();const c=function t9(n){if(function e9(){if(null==AL){const n=typeof document<"u"?document.head:null;AL=!(!n||!n.createShadowRoot&&!n.attachShadow)}return AL}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(o)||this._getDocument(),u=this._elementInfo.get(o);if(u)return r&&(u.checkChildren=!0),u.subject;const h={checkChildren:r,subject:new gt.B,rootNode:c};return this._elementInfo.set(o,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const r=M_(t),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(t,r,o){const c=M_(t);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([h,g])=>this._originChanged(h,r,g)):(this._setOrigin(r),"function"==typeof c.focus&&c.focus(o))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Nx.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,this._detectionMode===Nx.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const o=this._elementInfo.get(r),c=su(t);!o||!o.checkChildren&&r!==c||this._originChanged(r,this._getFocusOrigin(c),o)}_onBlur(t,r){const o=this._elementInfo.get(r);!o||o.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,kx),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,kx)}),this._rootNodeFocusListenerCount.set(r,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(xo(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,kx),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,kx),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,o){this._setClasses(t,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((o,c)=>{(c===t||o.checkChildren&&c.contains(t))&&r.push([c,o])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if("mouse"!==o||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const c=t.labels;if(c)for(let u=0;u<c.length;u++)if(c[u].contains(r))return!0;return!1}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(p.SKi),p.KVO(yo),p.KVO(Y9),p.KVO(be,8),p.KVO(J9,8))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var df=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(df||{});const Kz="cdk-high-contrast-black-on-white",Xz="cdk-high-contrast-white-on-black",PL="cdk-high-contrast-active";let Qz=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,p.WQX)(R9).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return df.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(t):null,c=(o&&o.backgroundColor||"").replace(/ /g,"");switch(t.remove(),c){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return df.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return df.BLACK_ON_WHITE}return df.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(PL,Kz,Xz),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();r===df.BLACK_ON_WHITE?t.add(PL,Kz):r===df.WHITE_ON_BLACK&&t.add(PL,Xz)}}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(yo),p.KVO(be))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),e5=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(Qz))}}static{this.\u0275mod=p.$C({type:n})}static{this.\u0275inj=p.G2t({imports:[T9]})}}return n})();const t5=new p.nKC("cdk-dir-doc",{providedIn:"root",factory:function n5(){return(0,p.WQX)(be)}}),r5=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ib=(()=>{class n{constructor(t){this.value="ltr",this.change=new p.bkB,t&&(this.value=function o5(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?r5.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(t5,8))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),bb=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=p.$C({type:n})}static{this.\u0275inj=p.G2t({})}}return n})();const a5=new p.nKC("mat-sanity-checks",{providedIn:"root",factory:function s5(){return!0}});let ts=(()=>{class n{constructor(t,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!xL()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(Qz),p.KVO(a5,8),p.KVO(be))}}static{this.\u0275mod=p.$C({type:n})}static{this.\u0275inj=p.G2t({imports:[bb,bb]})}}return n})(),Jz=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=p.$C({type:n})}static{this.\u0275inj=p.G2t({imports:[ts,ts]})}}return n})();var vo=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(vo||{});class p5{constructor(e,t,r,o=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=o,this.state=vo.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const eG=Rx({passive:!0,capture:!0});class g5{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=su(e);t&&this._events.get(e.type)?.forEach((r,o)=>{(o===t||o.contains(t))&&r.forEach(c=>c.handleEvent(e))})}}addHandler(e,t,r,o){const c=this._events.get(t);if(c){const u=c.get(r);u?u.add(o):c.set(r,new Set([o]))}else this._events.set(t,new Map([[r,new Set([o])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,eG)})}removeHandler(e,t,r){const o=this._events.get(e);if(!o)return;const c=o.get(t);c&&(c.delete(r),0===c.size&&o.delete(t),0===o.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,eG)))}}const tG={enterDuration:225,exitDuration:150},nG=Rx({passive:!0,capture:!0}),rG=["mousedown","touchstart"],iG=["mouseup","mouseleave","touchend","touchcancel"];class OL{static{this._eventManager=new g5}constructor(e,t,r,o){this._target=e,this._ngZone=t,this._platform=o,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=M_(r))}fadeInRipple(e,t,r={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c={...tG,...r.animation};r.centered&&(e=o.left+o.width/2,t=o.top+o.height/2);const u=r.radius||function _5(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),o=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+o*o)}(e,t,o),h=e-o.left,g=t-o.top,_=c.enterDuration,E=document.createElement("div");E.classList.add("mat-ripple-element"),E.style.left=h-u+"px",E.style.top=g-u+"px",E.style.height=2*u+"px",E.style.width=2*u+"px",null!=r.color&&(E.style.backgroundColor=r.color),E.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(E);const I=window.getComputedStyle(E),S=I.transitionDuration,O="none"===I.transitionProperty||"0s"===S||"0s, 0s"===S||0===o.width&&0===o.height,B=new p5(this,E,r,O);E.style.transform="scale3d(1, 1, 1)",B.state=vo.FADING_IN,r.persistent||(this._mostRecentTransientRipple=B);let P=null;return!O&&(_||c.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const U=()=>{P&&(P.fallbackTimer=null),clearTimeout(Q),this._finishRippleTransition(B)},K=()=>this._destroyRipple(B),Q=setTimeout(K,_+100);E.addEventListener("transitionend",U),E.addEventListener("transitioncancel",K),P={onTransitionEnd:U,onTransitionCancel:K,fallbackTimer:Q}}),this._activeRipples.set(B,P),(O||!_)&&this._finishRippleTransition(B),B}fadeOutRipple(e){if(e.state===vo.FADING_OUT||e.state===vo.HIDDEN)return;const t=e.element,r={...tG,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=vo.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=M_(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,rG.forEach(r=>{OL._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{iG.forEach(t=>{this._triggerElement.addEventListener(t,this,nG)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===vo.FADING_IN?this._startFadeOutTransition(e):e.state===vo.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=vo.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=vo.HIDDEN,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),null!==t.fallbackTimer&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){const t=Gz(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Wz(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(e.state===vo.VISIBLE||e.config.terminateOnPointerUp&&e.state===vo.FADING_IN)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(rG.forEach(t=>OL._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(iG.forEach(t=>e.removeEventListener(t,this,nG)),this._pointerUpEventsRegistered=!1))}}const oG=["*"];class v5{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const e=Math.max(...this.tracker);return e>1?this.rowCount+e-1:this.rowCount}update(e,t){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(e),this.tracker.fill(0,0,this.tracker.length),this.positions=t.map(r=>this._trackTile(r))}_trackTile(e){const t=this._findMatchingGap(e.colspan);return this._markTilePosition(t,e),this.columnIndex=t+e.colspan,new E5(this.rowIndex,t)}_findMatchingGap(e){let t=-1,r=-1;do{this.columnIndex+e>this.tracker.length?(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),r=this._findGapEndIndex(t)):(t=this.tracker.indexOf(0,this.columnIndex),-1!=t?(r=this._findGapEndIndex(t),this.columnIndex=t+1):(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),r=this._findGapEndIndex(t)))}while(r-t<e||0==r);return Math.max(t,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let e=0;e<this.tracker.length;e++)this.tracker[e]=Math.max(0,this.tracker[e]-1)}_findGapEndIndex(e){for(let t=e+1;t<this.tracker.length;t++)if(0!=this.tracker[t])return t;return this.tracker.length}_markTilePosition(e,t){for(let r=0;r<t.colspan;r++)this.tracker[e+r]=t.rowspan}}class E5{constructor(e,t){this.row=e,this.col=t}}const sG=new p.nKC("MAT_GRID_LIST");let aG=(()=>{class n{constructor(t,r){this._element=t,this._gridList=r,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=Math.round(wb(t))}get colspan(){return this._colspan}set colspan(t){this._colspan=Math.round(wb(t))}_setStyle(t,r){this._element.nativeElement.style[t]=r}static{this.\u0275fac=function(r){return new(r||n)(p.rXU(p.aKT),p.rXU(sG,8))}}static{this.\u0275cmp=p.VBU({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(r,o){2&r&&p.BMQ("rowspan",o.rowspan)("colspan",o.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],standalone:!0,features:[p.aNF],ngContentSelectors:oG,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(r,o){1&r&&(p.NAR(),p.j41(0,"div",0),p.SdG(1),p.k0s())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size, var(--mat-app-body-large))}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size, var(--mat-app-body-medium))}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size, var(--mat-app-body-large))}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size, var(--mat-app-body-medium))}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0})}}return n})();const w5=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class NL{constructor(){this._rows=0,this._rowspan=0}init(e,t,r,o){this._gutterSize=cG(e),this._rows=t.rowCount,this._rowspan=t.rowspan,this._cols=r,this._direction=o}getBaseTileSize(e,t){return`(${e}% - (${this._gutterSize} * ${t}))`}getTilePosition(e,t){return 0===t?"0":hf(`(${e} + ${this._gutterSize}) * ${t}`)}getTileSize(e,t){return`(${e} * ${t}) + (${t-1} * ${this._gutterSize})`}setStyle(e,t,r){let o=100/this._cols,c=(this._cols-1)/this._cols;this.setColStyles(e,r,o,c),this.setRowStyles(e,t,o,c)}setColStyles(e,t,r,o){let c=this.getBaseTileSize(r,o);e._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(c,t)),e._setStyle("width",hf(this.getTileSize(c,e.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(e){return`${this._rowspan} * ${this.getTileSize(e,1)}`}getComputedHeight(){return null}}class I5 extends NL{constructor(e){super(),this.fixedRowHeight=e}init(e,t,r,o){super.init(e,t,r,o),this.fixedRowHeight=cG(this.fixedRowHeight),w5.test(this.fixedRowHeight)}setRowStyles(e,t){e._setStyle("top",this.getTilePosition(this.fixedRowHeight,t)),e._setStyle("height",hf(this.getTileSize(this.fixedRowHeight,e.rowspan)))}getComputedHeight(){return["height",hf(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["height",null]),e._tiles&&e._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}class b5 extends NL{constructor(e){super(),this._parseRatio(e)}setRowStyles(e,t,r,o){this.baseTileHeight=this.getBaseTileSize(r/this.rowHeightRatio,o),e._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,t)),e._setStyle("paddingTop",hf(this.getTileSize(this.baseTileHeight,e.rowspan)))}getComputedHeight(){return["paddingBottom",hf(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["paddingBottom",null]),e._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(e){const t=e.split(":");this.rowHeightRatio=parseFloat(t[0])/parseFloat(t[1])}}class C5 extends NL{setRowStyles(e,t){let c=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);e._setStyle("top",this.getTilePosition(c,t)),e._setStyle("height",hf(this.getTileSize(c,e.rowspan)))}reset(e){e._tiles&&e._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}function hf(n){return`calc(${n})`}function cG(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let D5=(()=>{class n{constructor(t,r){this._element=t,this._dir=r,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=Math.max(1,Math.round(wb(t)))}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=`${t??""}`}get rowHeight(){return this._rowHeight}set rowHeight(t){const r=`${t??""}`;r!==this._rowHeight&&(this._rowHeight=r,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===t?new C5:t&&t.indexOf(":")>-1?new b5(t):new I5(t)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new v5);const t=this._tileCoordinator,r=this._tiles.filter(c=>!c._gridList||c._gridList===this),o=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,r),this._tileStyler.init(this.gutterSize,t,this.cols,o),r.forEach((c,u)=>{const h=t.positions[u];this._tileStyler.setStyle(c,h.row,h.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}static{this.\u0275fac=function(r){return new(r||n)(p.rXU(p.aKT),p.rXU(Ib,8))}}static{this.\u0275cmp=p.VBU({type:n,selectors:[["mat-grid-list"]],contentQueries:function(r,o,c){if(1&r&&p.wni(c,aG,5),2&r){let u;p.mGM(u=p.lsd())&&(o._tiles=u)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(r,o){2&r&&p.BMQ("cols",o.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],standalone:!0,features:[p.Jv_([{provide:sG,useExisting:n}]),p.aNF],ngContentSelectors:oG,decls:2,vars:0,template:function(r,o){1&r&&(p.NAR(),p.j41(0,"div"),p.SdG(1),p.k0s())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size, var(--mat-app-body-large))}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size, var(--mat-app-body-medium))}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size, var(--mat-app-body-large))}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size, var(--mat-app-body-medium))}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0})}}return n})(),A5=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=p.$C({type:n})}static{this.\u0275inj=p.G2t({imports:[Jz,ts,Jz,ts]})}}return n})(),lG=(()=>{class n{constructor(){this._listeners=[]}notify(t,r){for(let o of this._listeners)o(t,r)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(r=>t!==r)}}ngOnDestroy(){this._listeners=[]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),x5=0;const kL=new p.nKC("CdkAccordion");let R5=(()=>{class n{constructor(){this._stateChanges=new gt.B,this._openCloseAllActions=new gt.B,this.id="cdk-accordion-"+x5++,this.multi=!1}openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=p.FsC({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",p.L39]},exportAs:["cdkAccordion"],standalone:!0,features:[p.Jv_([{provide:kL,useExisting:n}]),p.GFd,p.OA$]})}}return n})(),M5=0,P5=(()=>{class n{get expanded(){return this._expanded}set expanded(t){this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}constructor(t,r,o){this.accordion=t,this._changeDetectorRef=r,this._expansionDispatcher=o,this._openCloseAllSubscription=vi.yU.EMPTY,this.closed=new p.bkB,this.opened=new p.bkB,this.destroyed=new p.bkB,this.expandedChange=new p.bkB,this.id="cdk-accordion-child-"+M5++,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=o.listen((c,u)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===u&&this.id!==c&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}static{this.\u0275fac=function(r){return new(r||n)(p.rXU(kL,12),p.rXU(p.gRc),p.rXU(lG))}}static{this.\u0275dir=p.FsC({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",p.L39],disabled:[2,"disabled","disabled",p.L39]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[p.Jv_([{provide:kL,useValue:void 0}]),p.GFd]})}}return n})(),O5=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=p.$C({type:n})}static{this.\u0275inj=p.G2t({})}}return n})();class FL{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class VL extends FL{constructor(e,t,r,o,c){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=o,this.projectableNodes=c}}class LL extends FL{constructor(e,t,r,o){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=o}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class N5 extends FL{constructor(e){super(),this.element=e instanceof p.aKT?e.nativeElement:e}}class UL{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof VL?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof LL?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof N5?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class k5 extends UL{constructor(e,t,r,o,c){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=o,this.attachDomPortal=u=>{const h=u.element,g=this._document.createComment("dom-portal");h.parentNode.insertBefore(g,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(h,g)})},this._document=c}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let o;return e.viewContainerRef?(o=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>o.destroy())):(o=r.create(e.injector||this._defaultInjector||p.zZn.NULL),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=e,o}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(o=>this.outletElement.appendChild(o)),r.detectChanges(),this.setDisposeFn(()=>{let o=t.indexOf(r);-1!==o&&t.remove(o)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Fx=(()=>{class n extends UL{constructor(t,r,o){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new p.bkB,this.attachDomPortal=c=>{const u=c.element,h=this._document.createComment("dom-portal");c.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=c,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=o}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,c=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=r.createComponent(c,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static{this.\u0275fac=function(r){return new(r||n)(p.rXU(p.OM3),p.rXU(p.c1b),p.rXU(be))}}static{this.\u0275dir=p.FsC({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[p.Vt3]})}}return n})(),Tb=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=p.$C({type:n})}static{this.\u0275inj=p.G2t({})}}return n})();function BL(...n){const e=bo(n),t=function RM(n,e){return"number"==typeof Kf(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?rr(r[0]):Ta(t)(Wn(r,e)):qn.w}var kt=Z(969);const F5=["body"],V5=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],L5=["mat-expansion-panel-header","*","mat-action-row"];function U5(n,e){}const B5=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],j5=["mat-panel-title","mat-panel-description","*"];function $5(n,e){if(1&n&&(p.j41(0,"span",1),p.qSk(),p.j41(1,"svg",2),p.nrm(2,"path",3),p.k0s()()),2&n){const t=p.XpG();p.Y8G("@indicatorRotate",t._getExpandedState())}}const jL=new p.nKC("MAT_ACCORDION"),uG="225ms cubic-bezier(0.4,0.0,0.2,1)",dG={indicatorRotate:(0,kt.hZ)("indicatorRotate",[(0,kt.wk)("collapsed, void",(0,kt.iF)({transform:"rotate(0deg)"})),(0,kt.wk)("expanded",(0,kt.iF)({transform:"rotate(180deg)"})),(0,kt.kY)("expanded <=> collapsed, void => collapsed",(0,kt.i0)(uG))]),bodyExpansion:(0,kt.hZ)("bodyExpansion",[(0,kt.wk)("collapsed, void",(0,kt.iF)({height:"0px",visibility:"hidden"})),(0,kt.wk)("expanded",(0,kt.iF)({height:"*",visibility:""})),(0,kt.kY)("expanded <=> collapsed, void => collapsed",(0,kt.i0)(uG))])},hG=new p.nKC("MAT_EXPANSION_PANEL");let H5=(()=>{class n{constructor(t,r){this._template=t,this._expansionPanel=r}static{this.\u0275fac=function(r){return new(r||n)(p.rXU(p.C4Q),p.rXU(hG,8))}}static{this.\u0275dir=p.FsC({type:n,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0})}}return n})(),z5=0;const fG=new p.nKC("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let pG=(()=>{class n extends P5{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=t}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,r,o,c,u,h,g){super(t,r,o),this._viewContainerRef=c,this._animationMode=h,this._hideToggle=!1,this.afterExpand=new p.bkB,this.afterCollapse=new p.bkB,this._inputChanges=new gt.B,this._headerId="mat-expansion-panel-header-"+z5++,this.accordion=t,this._document=u,this._animationsDisabled="NoopAnimations"===h,g&&(this.hideToggle=g.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Ku(null),(0,xn.p)(()=>this.expanded&&!this._portal),(0,Ei.s)(1)).subscribe(()=>{this._portal=new LL(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,r=this._body.nativeElement;return t===r||r.contains(t)}return!1}_animationStarted(t){!gG(t)&&!this._animationsDisabled&&this._body&&this._body?.nativeElement.setAttribute("inert","")}_animationDone(t){gG(t)||("expanded"===t.toState?this.afterExpand.emit():"collapsed"===t.toState&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}static{this.\u0275fac=function(r){return new(r||n)(p.rXU(jL,12),p.rXU(p.gRc),p.rXU(lG),p.rXU(p.c1b),p.rXU(be),p.rXU(p.bc$,8),p.rXU(fG,8))}}static{this.\u0275cmp=p.VBU({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(r,o,c){if(1&r&&p.wni(c,H5,5),2&r){let u;p.mGM(u=p.lsd())&&(o._lazyContent=u.first)}},viewQuery:function(r,o){if(1&r&&p.GBs(F5,5),2&r){let c;p.mGM(c=p.lsd())&&(o._body=c.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(r,o){2&r&&p.AVh("mat-expanded",o.expanded)("_mat-animation-noopable",o._animationsDisabled)("mat-expansion-panel-spacing",o._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",p.L39],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[p.Jv_([{provide:jL,useValue:void 0},{provide:hG,useExisting:n}]),p.GFd,p.Vt3,p.OA$,p.aNF],ngContentSelectors:L5,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(r,o){if(1&r){const c=p.RV6();p.NAR(V5),p.SdG(0),p.j41(1,"div",1,0),p.bIt("@bodyExpansion.start",function(h){return p.eBV(c),p.Njj(o._animationStarted(h))})("@bodyExpansion.done",function(h){return p.eBV(c),p.Njj(o._animationDone(h))}),p.j41(3,"div",2),p.SdG(4,1),p.DNE(5,U5,0,0,"ng-template",3),p.k0s(),p.SdG(6,2),p.k0s()}2&r&&(p.R7$(),p.Y8G("@bodyExpansion",o._getExpandedState())("id",o.id),p.BMQ("aria-labelledby",o._headerId),p.R7$(4),p.Y8G("cdkPortalOutlet",o._portal))},dependencies:[Fx],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color, var(--mat-app-surface));color:var(--mat-expansion-container-text-color, var(--mat-app-on-surface));border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font, var(--mat-app-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-app-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-app-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-app-body-large-tracking))}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-app-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[dG.bodyExpansion]},changeDetection:0})}}return n})();function gG(n){return"void"===n.fromState}let mG=(()=>{class n{constructor(t,r,o,c,u,h,g){this.panel=t,this._element=r,this._focusMonitor=o,this._changeDetectorRef=c,this._animationMode=h,this._parentChangeSubscription=vi.yU.EMPTY,this.tabIndex=0;const _=t.accordion?t.accordion._stateChanges.pipe((0,xn.p)(E=>!(!E.hideToggle&&!E.togglePosition))):qn.w;this.tabIndex=parseInt(g||"")||0,this._parentChangeSubscription=BL(t.opened,t.closed,_,t._inputChanges.pipe((0,xn.p)(E=>!!(E.hideToggle||E.disabled||E.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe((0,xn.p)(()=>t._containsFocus())).subscribe(()=>o.focusVia(r,"program")),u&&(this.expandedHeight=u.expandedHeight,this.collapsedHeight=u.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:Px(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,r){t?this._focusMonitor.focusVia(this._element,t,r):this._element.nativeElement.focus(r)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static{this.\u0275fac=function(r){return new(r||n)(p.rXU(pG,1),p.rXU(p.aKT),p.rXU(ML),p.rXU(p.gRc),p.rXU(fG,8),p.rXU(p.bc$,8),p.kS0("tabindex"))}}static{this.\u0275cmp=p.VBU({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(r,o){1&r&&p.bIt("click",function(){return o._toggle()})("keydown",function(u){return o._keydown(u)}),2&r&&(p.BMQ("id",o.panel._headerId)("tabindex",o.disabled?-1:o.tabIndex)("aria-controls",o._getPanelId())("aria-expanded",o._isExpanded())("aria-disabled",o.panel.disabled),p.xc7("height",o._getHeaderHeight()),p.AVh("mat-expanded",o._isExpanded())("mat-expansion-toggle-indicator-after","after"===o._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===o._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===o._animationMode))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",t=>null==t?0:(0,p.Udg)(t)]},standalone:!0,features:[p.GFd,p.aNF],ngContentSelectors:j5,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(r,o){1&r&&(p.NAR(B5),p.j41(0,"span",0),p.SdG(1),p.SdG(2,1),p.SdG(3,2),p.k0s(),p.DNE(4,$5,3,1,"span",1)),2&r&&(p.AVh("mat-content-hide-toggle",!o._showToggle()),p.R7$(4),p.vxM(o._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font, var(--mat-app-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-app-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-app-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-app-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-app-title-medium-tracking))}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-app-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-app-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-app-on-surface-variant))}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[dG.indicatorRotate]},changeDetection:0})}}return n})(),G5=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=p.FsC({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0})}}return n})(),W5=(()=>{class n extends R5{constructor(){super(...arguments),this._ownHeaders=new p.rOR,this.hideToggle=!1,this.displayMode="default",this.togglePosition="after"}ngAfterContentInit(){this._headers.changes.pipe(Ku(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(r=>r.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new k9(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=p.xGo(n)))(o||n)}})()}static{this.\u0275dir=p.FsC({type:n,selectors:[["mat-accordion"]],contentQueries:function(r,o,c){if(1&r&&p.wni(c,mG,5),2&r){let u;p.mGM(u=p.lsd())&&(o._headers=u)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(r,o){2&r&&p.AVh("mat-accordion-multi",o.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",p.L39],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],standalone:!0,features:[p.Jv_([{provide:jL,useExisting:n}]),p.GFd,p.Vt3]})}}return n})(),q5=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=p.$C({type:n})}static{this.\u0275inj=p.G2t({imports:[ts,O5,Tb]})}}return n})();function K5(){}function $L(n){return null==n?K5:function(){return this.querySelector(n)}}function Y5(){return[]}function _G(n){return null==n?Y5:function(){return this.querySelectorAll(n)}}function yG(n){return function(){return this.matches(n)}}function vG(n){return function(e){return e.matches(n)}}var eK=Array.prototype.find;function nK(){return this.firstElementChild}var iK=Array.prototype.filter;function oK(){return Array.from(this.children)}function EG(n){return new Array(n.length)}function Vx(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}function dK(n,e,t,r,o,c){for(var h,u=0,g=e.length,_=c.length;u<_;++u)(h=e[u])?(h.__data__=c[u],r[u]=h):t[u]=new Vx(n,c[u]);for(;u<g;++u)(h=e[u])&&(o[u]=h)}function hK(n,e,t,r,o,c,u){var h,g,S,_=new Map,E=e.length,I=c.length,A=new Array(E);for(h=0;h<E;++h)(g=e[h])&&(A[h]=S=u.call(g,g.__data__,h,e)+"",_.has(S)?o[h]=g:_.set(S,g));for(h=0;h<I;++h)S=u.call(n,c[h],h,c)+"",(g=_.get(S))?(r[h]=g,g.__data__=c[h],_.delete(S)):t[h]=new Vx(n,c[h]);for(h=0;h<E;++h)(g=e[h])&&_.get(A[h])===g&&(o[h]=g)}function fK(n){return n.__data__}function gK(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function wK(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}Vx.prototype={constructor:Vx,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var HL="http://www.w3.org/1999/xhtml";const wG={svg:"http://www.w3.org/2000/svg",xhtml:HL,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Lx(n){var e=n+="",t=e.indexOf(":");return t>=0&&"xmlns"!==(e=n.slice(0,t))&&(n=n.slice(t+1)),wG.hasOwnProperty(e)?{space:wG[e],local:n}:n}function SK(n){return function(){this.removeAttribute(n)}}function xK(n){return function(){this.removeAttributeNS(n.space,n.local)}}function RK(n,e){return function(){this.setAttribute(n,e)}}function MK(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function PK(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttribute(n):this.setAttribute(n,t)}}function OK(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function IG(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function kK(n){return function(){this.style.removeProperty(n)}}function FK(n,e,t){return function(){this.style.setProperty(n,e,t)}}function VK(n,e,t){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,t)}}function O_(n,e){return n.style.getPropertyValue(e)||IG(n).getComputedStyle(n,null).getPropertyValue(e)}function UK(n){return function(){delete this[n]}}function BK(n,e){return function(){this[n]=e}}function jK(n,e){return function(){var t=e.apply(this,arguments);null==t?delete this[n]:this[n]=t}}function bG(n){return n.trim().split(/^|\s+/)}function zL(n){return n.classList||new CG(n)}function CG(n){this._node=n,this._names=bG(n.getAttribute("class")||"")}function TG(n,e){for(var t=zL(n),r=-1,o=e.length;++r<o;)t.add(e[r])}function DG(n,e){for(var t=zL(n),r=-1,o=e.length;++r<o;)t.remove(e[r])}function HK(n){return function(){TG(this,n)}}function zK(n){return function(){DG(this,n)}}function GK(n,e){return function(){(e.apply(this,arguments)?TG:DG)(this,n)}}function qK(){this.textContent=""}function KK(n){return function(){this.textContent=n}}function XK(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function YK(){this.innerHTML=""}function ZK(n){return function(){this.innerHTML=n}}function JK(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function t7(){this.nextSibling&&this.parentNode.appendChild(this)}function r7(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function o7(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===HL&&e.documentElement.namespaceURI===HL?e.createElement(n):e.createElementNS(t,n)}}function s7(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function AG(n){var e=Lx(n);return(e.local?s7:o7)(e)}function c7(){return null}function u7(){var n=this.parentNode;n&&n.removeChild(this)}function h7(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function f7(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function y7(n){return function(){var e=this.__on;if(e){for(var c,t=0,r=-1,o=e.length;t<o;++t)c=e[t],n.type&&c.type!==n.type||c.name!==n.name?e[++r]=c:this.removeEventListener(c.type,c.listener,c.options);++r?e.length=r:delete this.__on}}}function v7(n,e,t){return function(){var o,r=this.__on,c=function m7(n){return function(e){n.call(this,e,this.__data__)}}(e);if(r)for(var u=0,h=r.length;u<h;++u)if((o=r[u]).type===n.type&&o.name===n.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=c,o.options=t),void(o.value=e);this.addEventListener(n.type,c,t),o={type:n.type,name:n.name,value:e,listener:c,options:t},r?r.push(o):this.__on=[o]}}function SG(n,e,t){var r=IG(n),o=r.CustomEvent;"function"==typeof o?o=new o(e,t):(o=r.document.createEvent("Event"),t?(o.initEvent(e,t.bubbles,t.cancelable),o.detail=t.detail):o.initEvent(e,!1,!1)),n.dispatchEvent(o)}function w7(n,e){return function(){return SG(this,n,e)}}function I7(n,e){return function(){return SG(this,n,e.apply(this,arguments))}}CG.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var xG=[null];function zi(n,e){this._groups=n,this._parents=e}function RG(){return new zi([[document.documentElement]],xG)}zi.prototype=RG.prototype={constructor:zi,select:function X5(n){"function"!=typeof n&&(n=$L(n));for(var e=this._groups,t=e.length,r=new Array(t),o=0;o<t;++o)for(var g,_,c=e[o],u=c.length,h=r[o]=new Array(u),E=0;E<u;++E)(g=c[E])&&(_=n.call(g,g.__data__,E,c))&&("__data__"in g&&(_.__data__=g.__data__),h[E]=_);return new zi(r,this._parents)},selectAll:function J5(n){n="function"==typeof n?function Z5(n){return function(){return function Q5(n){return null==n?[]:Array.isArray(n)?n:Array.from(n)}(n.apply(this,arguments))}}(n):_G(n);for(var e=this._groups,t=e.length,r=[],o=[],c=0;c<t;++c)for(var g,u=e[c],h=u.length,_=0;_<h;++_)(g=u[_])&&(r.push(n.call(g,g.__data__,_,u)),o.push(g));return new zi(r,o)},selectChild:function rK(n){return this.select(null==n?nK:function tK(n){return function(){return eK.call(this.children,n)}}("function"==typeof n?n:vG(n)))},selectChildren:function aK(n){return this.selectAll(null==n?oK:function sK(n){return function(){return iK.call(this.children,n)}}("function"==typeof n?n:vG(n)))},filter:function cK(n){"function"!=typeof n&&(n=yG(n));for(var e=this._groups,t=e.length,r=new Array(t),o=0;o<t;++o)for(var g,c=e[o],u=c.length,h=r[o]=[],_=0;_<u;++_)(g=c[_])&&n.call(g,g.__data__,_,c)&&h.push(g);return new zi(r,this._parents)},data:function pK(n,e){if(!arguments.length)return Array.from(this,fK);var t=e?hK:dK,r=this._parents,o=this._groups;"function"!=typeof n&&(n=function uK(n){return function(){return n}}(n));for(var c=o.length,u=new Array(c),h=new Array(c),g=new Array(c),_=0;_<c;++_){var E=r[_],I=o[_],A=I.length,S=gK(n.call(E,E&&E.__data__,_,r)),O=S.length,B=h[_]=new Array(O),P=u[_]=new Array(O);t(E,I,B,P,g[_]=new Array(A),S,e);for(var ie,fe,K=0,Q=0;K<O;++K)if(ie=B[K]){for(K>=Q&&(Q=K+1);!(fe=P[Q])&&++Q<O;);ie._next=fe||null}}return(u=new zi(u,r))._enter=h,u._exit=g,u},enter:function lK(){return new zi(this._enter||this._groups.map(EG),this._parents)},exit:function mK(){return new zi(this._exit||this._groups.map(EG),this._parents)},join:function _K(n,e,t){var r=this.enter(),o=this,c=this.exit();return"function"==typeof n?(r=n(r))&&(r=r.selection()):r=r.append(n+""),null!=e&&(o=e(o))&&(o=o.selection()),null==t?c.remove():t(c),r&&o?r.merge(o).order():o},merge:function yK(n){for(var e=n.selection?n.selection():n,t=this._groups,r=e._groups,o=t.length,u=Math.min(o,r.length),h=new Array(o),g=0;g<u;++g)for(var S,_=t[g],E=r[g],I=_.length,A=h[g]=new Array(I),O=0;O<I;++O)(S=_[O]||E[O])&&(A[O]=S);for(;g<o;++g)h[g]=t[g];return new zi(h,this._parents)},selection:function T7(){return this},order:function vK(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var u,r=n[e],o=r.length-1,c=r[o];--o>=0;)(u=r[o])&&(c&&4^u.compareDocumentPosition(c)&&c.parentNode.insertBefore(u,c),c=u);return this},sort:function EK(n){function e(I,A){return I&&A?n(I.__data__,A.__data__):!I-!A}n||(n=wK);for(var t=this._groups,r=t.length,o=new Array(r),c=0;c<r;++c){for(var _,u=t[c],h=u.length,g=o[c]=new Array(h),E=0;E<h;++E)(_=u[E])&&(g[E]=_);g.sort(e)}return new zi(o,this._parents).order()},call:function IK(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function bK(){return Array.from(this)},node:function CK(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],o=0,c=r.length;o<c;++o){var u=r[o];if(u)return u}return null},size:function TK(){let n=0;for(const e of this)++n;return n},empty:function DK(){return!this.node()},each:function AK(n){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var h,o=e[t],c=0,u=o.length;c<u;++c)(h=o[c])&&n.call(h,h.__data__,c,o);return this},attr:function NK(n,e){var t=Lx(n);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((null==e?t.local?xK:SK:"function"==typeof e?t.local?OK:PK:t.local?MK:RK)(t,e))},style:function LK(n,e,t){return arguments.length>1?this.each((null==e?kK:"function"==typeof e?VK:FK)(n,e,t??"")):O_(this.node(),n)},property:function $K(n,e){return arguments.length>1?this.each((null==e?UK:"function"==typeof e?jK:BK)(n,e)):this.node()[n]},classed:function WK(n,e){var t=bG(n+"");if(arguments.length<2){for(var r=zL(this.node()),o=-1,c=t.length;++o<c;)if(!r.contains(t[o]))return!1;return!0}return this.each(("function"==typeof e?GK:e?HK:zK)(t,e))},text:function QK(n){return arguments.length?this.each(null==n?qK:("function"==typeof n?XK:KK)(n)):this.node().textContent},html:function e7(n){return arguments.length?this.each(null==n?YK:("function"==typeof n?JK:ZK)(n)):this.node().innerHTML},raise:function n7(){return this.each(t7)},lower:function i7(){return this.each(r7)},append:function a7(n){var e="function"==typeof n?n:AG(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function l7(n,e){var t="function"==typeof n?n:AG(n),r=null==e?c7:"function"==typeof e?e:$L(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function d7(){return this.each(u7)},clone:function p7(n){return this.select(n?f7:h7)},datum:function g7(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function E7(n,e,t){var o,u,r=function _7(n){return n.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}(n+""),c=r.length;if(!(arguments.length<2)){for(h=e?v7:y7,o=0;o<c;++o)this.each(h(r[o],e,t));return this}var h=this.node().__on;if(h)for(var E,g=0,_=h.length;g<_;++g)for(o=0,E=h[g];o<c;++o)if((u=r[o]).type===E.type&&u.name===E.name)return E.value},dispatch:function b7(n,e){return this.each(("function"==typeof e?I7:w7)(n,e))},[Symbol.iterator]:function*C7(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var u,r=n[e],o=0,c=r.length;o<c;++o)(u=r[o])&&(yield u)}};const Db=RG;var D7={value:()=>{}};function MG(){for(var r,n=0,e=arguments.length,t={};n<e;++n){if(!(r=arguments[n]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new Ux(t)}function Ux(n){this._=n}function S7(n,e){for(var o,t=0,r=n.length;t<r;++t)if((o=n[t]).name===e)return o.value}function PG(n,e,t){for(var r=0,o=n.length;r<o;++r)if(n[r].name===e){n[r]=D7,n=n.slice(0,r).concat(n.slice(r+1));break}return null!=t&&n.push({name:e,value:t}),n}Ux.prototype=MG.prototype={constructor:Ux,on:function(n,e){var o,t=this._,r=function A7(n,e){return n.trim().split(/^|\s+/).map(function(t){var r="",o=t.indexOf(".");if(o>=0&&(r=t.slice(o+1),t=t.slice(0,o)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}(n+"",t),c=-1,u=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++c<u;)if(o=(n=r[c]).type)t[o]=PG(t[o],n.name,e);else if(null==e)for(o in t)t[o]=PG(t[o],n.name,null);return this}for(;++c<u;)if((o=(n=r[c]).type)&&(o=S7(t[o],n.name)))return o},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new Ux(n)},call:function(n,e){if((o=arguments.length-2)>0)for(var o,c,t=new Array(o),r=0;r<o;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(r=0,o=(c=this._[n]).length;r<o;++r)c[r].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],o=0,c=r.length;o<c;++o)r[o].value.apply(e,t)}};const OG=MG;var Bx,xb,N_=0,Ab=0,Sb=0,NG=1e3,jx=0,ff=0,$x=0,Rb="object"==typeof performance&&performance.now?performance:Date,kG="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function GL(){return ff||(kG(x7),ff=Rb.now()+$x)}function x7(){ff=0}function Hx(){this._call=this._time=this._next=null}function FG(n,e,t){var r=new Hx;return r.restart(n,e,t),r}function VG(){ff=(jx=Rb.now())+$x,N_=Ab=0;try{!function R7(){GL(),++N_;for(var e,n=Bx;n;)(e=ff-n._time)>=0&&n._call.call(void 0,e),n=n._next;--N_}()}finally{N_=0,function P7(){for(var n,t,e=Bx,r=1/0;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:Bx=t);xb=n,WL(r)}(),ff=0}}function M7(){var n=Rb.now(),e=n-jx;e>NG&&($x-=e,jx=n)}function WL(n){N_||(Ab&&(Ab=clearTimeout(Ab)),n-ff>24?(n<1/0&&(Ab=setTimeout(VG,n-Rb.now()-$x)),Sb&&(Sb=clearInterval(Sb))):(Sb||(jx=Rb.now(),Sb=setInterval(M7,NG)),N_=1,kG(VG)))}function LG(n,e,t){var r=new Hx;return r.restart(o=>{r.stop(),n(o+e)},e=null==e?0:+e,t),r}Hx.prototype=FG.prototype={constructor:Hx,restart:function(n,e,t){if("function"!=typeof n)throw new TypeError("callback is not a function");t=(null==t?GL():+t)+(null==e?0:+e),!this._next&&xb!==this&&(xb?xb._next=this:Bx=this,xb=this),this._call=n,this._time=t,WL()},stop:function(){this._call&&(this._call=null,this._time=1/0,WL())}};var O7=OG("start","end","cancel","interrupt"),N7=[],UG=0,qL=2,zx=3,KL=5,Gx=6;function Wx(n,e,t,r,o,c){var u=n.__transition;if(u){if(t in u)return}else n.__transition={};!function k7(n,e,t){var o,r=n.__transition;function u(_){var E,I,A,S;if(1!==t.state)return g();for(E in r)if((S=r[E]).name===t.name){if(S.state===zx)return LG(u);4===S.state?(S.state=Gx,S.timer.stop(),S.on.call("interrupt",n,n.__data__,S.index,S.group),delete r[E]):+E<e&&(S.state=Gx,S.timer.stop(),S.on.call("cancel",n,n.__data__,S.index,S.group),delete r[E])}if(LG(function(){t.state===zx&&(t.state=4,t.timer.restart(h,t.delay,t.time),h(_))}),t.state=qL,t.on.call("start",n,n.__data__,t.index,t.group),t.state===qL){for(t.state=zx,o=new Array(A=t.tween.length),E=0,I=-1;E<A;++E)(S=t.tween[E].value.call(n,n.__data__,t.index,t.group))&&(o[++I]=S);o.length=I+1}}function h(_){for(var E=_<t.duration?t.ease.call(null,_/t.duration):(t.timer.restart(g),t.state=KL,1),I=-1,A=o.length;++I<A;)o[I].call(n,E);t.state===KL&&(t.on.call("end",n,n.__data__,t.index,t.group),g())}function g(){for(var _ in t.state=Gx,t.timer.stop(),delete r[e],r)return;delete n.__transition}r[e]=t,t.timer=FG(function c(_){t.state=1,t.timer.restart(u,t.delay,t.time),t.delay<=_&&u(_-t.delay)},0,t.time)}(n,t,{name:e,index:r,group:o,on:O7,tween:N7,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:UG})}function XL(n,e){var t=ns(n,e);if(t.state>UG)throw new Error("too late; already scheduled");return t}function oa(n,e){var t=ns(n,e);if(t.state>zx)throw new Error("too late; already running");return t}function ns(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function qx(n,e){var r,o,u,t=n.__transition,c=!0;if(t){for(u in e=null==e?null:e+"",t)(r=t[u]).name===e?(o=r.state>qL&&r.state<KL,r.state=Gx,r.timer.stop(),r.on.call(o?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete t[u]):c=!1;c&&delete n.__transition}}function cu(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}var Kx,$G=180/Math.PI,QL={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function HG(n,e,t,r,o,c){var u,h,g;return(u=Math.sqrt(n*n+e*e))&&(n/=u,e/=u),(g=n*t+e*r)&&(t-=n*g,r-=e*g),(h=Math.sqrt(t*t+r*r))&&(t/=h,r/=h,g/=h),n*r<e*t&&(n=-n,e=-e,g=-g,u=-u),{translateX:o,translateY:c,rotate:Math.atan2(e,n)*$G,skewX:Math.atan(g)*$G,scaleX:u,scaleY:h}}function zG(n,e,t,r){function o(_){return _.length?_.pop()+" ":""}return function(_,E){var I=[],A=[];return _=n(_),E=n(E),function c(_,E,I,A,S,O){if(_!==I||E!==A){var B=S.push("translate(",null,e,null,t);O.push({i:B-4,x:cu(_,I)},{i:B-2,x:cu(E,A)})}else(I||A)&&S.push("translate("+I+e+A+t)}(_.translateX,_.translateY,E.translateX,E.translateY,I,A),function u(_,E,I,A){_!==E?(_-E>180?E+=360:E-_>180&&(_+=360),A.push({i:I.push(o(I)+"rotate(",null,r)-2,x:cu(_,E)})):E&&I.push(o(I)+"rotate("+E+r)}(_.rotate,E.rotate,I,A),function h(_,E,I,A){_!==E?A.push({i:I.push(o(I)+"skewX(",null,r)-2,x:cu(_,E)}):E&&I.push(o(I)+"skewX("+E+r)}(_.skewX,E.skewX,I,A),function g(_,E,I,A,S,O){if(_!==I||E!==A){var B=S.push(o(S)+"scale(",null,",",null,")");O.push({i:B-4,x:cu(_,I)},{i:B-2,x:cu(E,A)})}else(1!==I||1!==A)&&S.push(o(S)+"scale("+I+","+A+")")}(_.scaleX,_.scaleY,E.scaleX,E.scaleY,I,A),_=E=null,function(S){for(var P,O=-1,B=A.length;++O<B;)I[(P=A[O]).i]=P.x(S);return I.join("")}}}var U7=zG(function V7(n){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?QL:HG(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),B7=zG(function L7(n){return null!=n&&(Kx||(Kx=document.createElementNS("http://www.w3.org/2000/svg","g")),Kx.setAttribute("transform",n),n=Kx.transform.baseVal.consolidate())?HG((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):QL},", ",")",")");function j7(n,e){var t,r;return function(){var o=oa(this,n),c=o.tween;if(c!==t)for(var u=0,h=(r=t=c).length;u<h;++u)if(r[u].name===e){(r=r.slice()).splice(u,1);break}o.tween=r}}function $7(n,e,t){var r,o;if("function"!=typeof t)throw new Error;return function(){var c=oa(this,n),u=c.tween;if(u!==r){o=(r=u).slice();for(var h={name:e,value:t},g=0,_=o.length;g<_;++g)if(o[g].name===e){o[g]=h;break}g===_&&o.push(h)}c.tween=o}}function YL(n,e,t){var r=n._id;return n.each(function(){var o=oa(this,r);(o.value||(o.value={}))[e]=t.apply(this,arguments)}),function(o){return ns(o,r).value[e]}}function ZL(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function GG(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function Mb(){}var Xx=1/.7,k_="\\s*([+-]?\\d+)\\s*",Ob="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",z7=/^#([0-9a-f]{3,8})$/,G7=new RegExp(`^rgb\\(${k_},${k_},${k_}\\)$`),W7=new RegExp(`^rgb\\(${sa},${sa},${sa}\\)$`),q7=new RegExp(`^rgba\\(${k_},${k_},${k_},${Ob}\\)$`),K7=new RegExp(`^rgba\\(${sa},${sa},${sa},${Ob}\\)$`),X7=new RegExp(`^hsl\\(${Ob},${sa},${sa}\\)$`),Q7=new RegExp(`^hsla\\(${Ob},${sa},${sa},${Ob}\\)$`),WG={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function qG(){return this.rgb().formatHex()}function KG(){return this.rgb().formatRgb()}function Nb(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=z7.exec(n))?(t=e[1].length,e=parseInt(e[1],16),6===t?XG(e):3===t?new Ri(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===t?Qx(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===t?Qx(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=G7.exec(n))?new Ri(e[1],e[2],e[3],1):(e=W7.exec(n))?new Ri(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=q7.exec(n))?Qx(e[1],e[2],e[3],e[4]):(e=K7.exec(n))?Qx(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=X7.exec(n))?ZG(e[1],e[2]/100,e[3]/100,1):(e=Q7.exec(n))?ZG(e[1],e[2]/100,e[3]/100,e[4]):WG.hasOwnProperty(n)?XG(WG[n]):"transparent"===n?new Ri(NaN,NaN,NaN,0):null}function XG(n){return new Ri(n>>16&255,n>>8&255,255&n,1)}function Qx(n,e,t,r){return r<=0&&(n=e=t=NaN),new Ri(n,e,t,r)}function Yx(n,e,t,r){return 1===arguments.length?function J7(n){return n instanceof Mb||(n=Nb(n)),n?new Ri((n=n.rgb()).r,n.g,n.b,n.opacity):new Ri}(n):new Ri(n,e,t,r??1)}function Ri(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}function QG(){return`#${gf(this.r)}${gf(this.g)}${gf(this.b)}`}function YG(){const n=Zx(this.opacity);return`${1===n?"rgb(":"rgba("}${pf(this.r)}, ${pf(this.g)}, ${pf(this.b)}${1===n?")":`, ${n})`}`}function Zx(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function pf(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function gf(n){return((n=pf(n))<16?"0":"")+n.toString(16)}function ZG(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new rs(n,e,t,r)}function JG(n){if(n instanceof rs)return new rs(n.h,n.s,n.l,n.opacity);if(n instanceof Mb||(n=Nb(n)),!n)return new rs;if(n instanceof rs)return n;var e=(n=n.rgb()).r/255,t=n.g/255,r=n.b/255,o=Math.min(e,t,r),c=Math.max(e,t,r),u=NaN,h=c-o,g=(c+o)/2;return h?(u=e===c?(t-r)/h+6*(t<r):t===c?(r-e)/h+2:(e-t)/h+4,h/=g<.5?c+o:2-c-o,u*=60):h=g>0&&g<1?0:u,new rs(u,h,g,n.opacity)}function rs(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}function e4(n){return(n=(n||0)%360)<0?n+360:n}function Jx(n){return Math.max(0,Math.min(1,n||0))}function JL(n,e,t){return 255*(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)}function t4(n,e,t,r,o){var c=n*n,u=c*n;return((1-3*n+3*c-u)*e+(4-6*c+3*u)*t+(1+3*n+3*c-3*u)*r+u*o)/6}ZL(Mb,Nb,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:qG,formatHex:qG,formatHex8:function Y7(){return this.rgb().formatHex8()},formatHsl:function Z7(){return JG(this).formatHsl()},formatRgb:KG,toString:KG}),ZL(Ri,Yx,GG(Mb,{brighter(n){return n=null==n?Xx:Math.pow(Xx,n),new Ri(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new Ri(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Ri(pf(this.r),pf(this.g),pf(this.b),Zx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:QG,formatHex:QG,formatHex8:function eX(){return`#${gf(this.r)}${gf(this.g)}${gf(this.b)}${gf(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:YG,toString:YG})),ZL(rs,function tX(n,e,t,r){return 1===arguments.length?JG(n):new rs(n,e,t,r??1)},GG(Mb,{brighter(n){return n=null==n?Xx:Math.pow(Xx,n),new rs(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new rs(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+360*(this.h<0),e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,o=2*t-r;return new Ri(JL(n>=240?n-240:n+120,o,r),JL(n,o,r),JL(n<120?n+240:n-120,o,r),this.opacity)},clamp(){return new rs(e4(this.h),Jx(this.s),Jx(this.l),Zx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Zx(this.opacity);return`${1===n?"hsl(":"hsla("}${e4(this.h)}, ${100*Jx(this.s)}%, ${100*Jx(this.l)}%${1===n?")":`, ${n})`}`}}));const n4=n=>()=>n;function i4(n,e){var t=e-n;return t?function r4(n,e){return function(t){return n+t*e}}(n,t):n4(isNaN(n)?e:n)}const o4=function n(e){var t=function oX(n){return 1==(n=+n)?i4:function(e,t){return t-e?function iX(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}(e,t,n):n4(isNaN(e)?t:e)}}(e);function r(o,c){var u=t((o=Yx(o)).r,(c=Yx(c)).r),h=t(o.g,c.g),g=t(o.b,c.b),_=i4(o.opacity,c.opacity);return function(E){return o.r=u(E),o.g=h(E),o.b=g(E),o.opacity=_(E),o+""}}return r.gamma=n,r}(1);function s4(n){return function(e){var u,h,t=e.length,r=new Array(t),o=new Array(t),c=new Array(t);for(u=0;u<t;++u)h=Yx(e[u]),r[u]=h.r||0,o[u]=h.g||0,c[u]=h.b||0;return r=n(r),o=n(o),c=n(c),h.opacity=1,function(g){return h.r=r(g),h.g=o(g),h.b=c(g),h+""}}}s4(function nX(n){var e=n.length-1;return function(t){var r=t<=0?t=0:t>=1?(t=1,e-1):Math.floor(t*e),o=n[r],c=n[r+1];return t4((t-r/e)*e,r>0?n[r-1]:2*o-c,o,c,r<e-1?n[r+2]:2*c-o)}}),s4(function rX(n){var e=n.length;return function(t){var r=Math.floor(((t%=1)<0?++t:t)*e);return t4((t-r/e)*e,n[(r+e-1)%e],n[r%e],n[(r+1)%e],n[(r+2)%e])}});var e2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,t2=new RegExp(e2.source,"g");function cX(n,e){var r,o,c,t=e2.lastIndex=t2.lastIndex=0,u=-1,h=[],g=[];for(n+="",e+="";(r=e2.exec(n))&&(o=t2.exec(e));)(c=o.index)>t&&(c=e.slice(t,c),h[u]?h[u]+=c:h[++u]=c),(r=r[0])===(o=o[0])?h[u]?h[u]+=o:h[++u]=o:(h[++u]=null,g.push({i:u,x:cu(r,o)})),t=t2.lastIndex;return t<e.length&&(c=e.slice(t),h[u]?h[u]+=c:h[++u]=c),h.length<2?g[0]?function aX(n){return function(e){return n(e)+""}}(g[0].x):function sX(n){return function(){return n}}(e):(e=g.length,function(_){for(var I,E=0;E<e;++E)h[(I=g[E]).i]=I.x(_);return h.join("")})}function a4(n,e){var t;return("number"==typeof e?cu:e instanceof Nb?o4:(t=Nb(e))?(e=t,o4):cX)(n,e)}function lX(n){return function(){this.removeAttribute(n)}}function uX(n){return function(){this.removeAttributeNS(n.space,n.local)}}function dX(n,e,t){var r,c,o=t+"";return function(){var u=this.getAttribute(n);return u===o?null:u===r?c:c=e(r=u,t)}}function hX(n,e,t){var r,c,o=t+"";return function(){var u=this.getAttributeNS(n.space,n.local);return u===o?null:u===r?c:c=e(r=u,t)}}function fX(n,e,t){var r,o,c;return function(){var u,g,h=t(this);return null==h?void this.removeAttribute(n):(u=this.getAttribute(n))===(g=h+"")?null:u===r&&g===o?c:(o=g,c=e(r=u,h))}}function pX(n,e,t){var r,o,c;return function(){var u,g,h=t(this);return null==h?void this.removeAttributeNS(n.space,n.local):(u=this.getAttributeNS(n.space,n.local))===(g=h+"")?null:u===r&&g===o?c:(o=g,c=e(r=u,h))}}function yX(n,e){var t,r;function o(){var c=e.apply(this,arguments);return c!==r&&(t=(r=c)&&function _X(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}(n,c)),t}return o._value=e,o}function vX(n,e){var t,r;function o(){var c=e.apply(this,arguments);return c!==r&&(t=(r=c)&&function mX(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}(n,c)),t}return o._value=e,o}function wX(n,e){return function(){XL(this,n).delay=+e.apply(this,arguments)}}function IX(n,e){return e=+e,function(){XL(this,n).delay=e}}function CX(n,e){return function(){oa(this,n).duration=+e.apply(this,arguments)}}function TX(n,e){return e=+e,function(){oa(this,n).duration=e}}var BX=Db.prototype.constructor;function c4(n){return function(){this.style.removeProperty(n)}}var iQ=0;function Sc(n,e,t,r){this._groups=n,this._parents=e,this._name=t,this._id=r}function l4(){return++iQ}var xc=Db.prototype;Sc.prototype=function oQ(n){return Db().transition(n)}.prototype={constructor:Sc,select:function LX(n){var e=this._name,t=this._id;"function"!=typeof n&&(n=$L(n));for(var r=this._groups,o=r.length,c=new Array(o),u=0;u<o;++u)for(var E,I,h=r[u],g=h.length,_=c[u]=new Array(g),A=0;A<g;++A)(E=h[A])&&(I=n.call(E,E.__data__,A,h))&&("__data__"in E&&(I.__data__=E.__data__),_[A]=I,Wx(_[A],e,t,A,_,ns(E,t)));return new Sc(c,this._parents,e,t)},selectAll:function UX(n){var e=this._name,t=this._id;"function"!=typeof n&&(n=_G(n));for(var r=this._groups,o=r.length,c=[],u=[],h=0;h<o;++h)for(var E,g=r[h],_=g.length,I=0;I<_;++I)if(E=g[I]){for(var S,A=n.call(E,E.__data__,I,g),O=ns(E,t),B=0,P=A.length;B<P;++B)(S=A[B])&&Wx(S,e,t,B,A,O);c.push(A),u.push(E)}return new Sc(c,u,e,t)},selectChild:xc.selectChild,selectChildren:xc.selectChildren,filter:function MX(n){"function"!=typeof n&&(n=yG(n));for(var e=this._groups,t=e.length,r=new Array(t),o=0;o<t;++o)for(var g,c=e[o],u=c.length,h=r[o]=[],_=0;_<u;++_)(g=c[_])&&n.call(g,g.__data__,_,c)&&h.push(g);return new Sc(r,this._parents,this._name,this._id)},merge:function PX(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,r=e.length,c=Math.min(r,t.length),u=new Array(r),h=0;h<c;++h)for(var A,g=e[h],_=t[h],E=g.length,I=u[h]=new Array(E),S=0;S<E;++S)(A=g[S]||_[S])&&(I[S]=A);for(;h<r;++h)u[h]=e[h];return new Sc(u,this._parents,this._name,this._id)},selection:function jX(){return new BX(this._groups,this._parents)},transition:function nQ(){for(var n=this._name,e=this._id,t=l4(),r=this._groups,o=r.length,c=0;c<o;++c)for(var g,u=r[c],h=u.length,_=0;_<h;++_)if(g=u[_]){var E=ns(g,e);Wx(g,n,t,_,u,{time:E.time+E.delay+E.duration,delay:0,duration:E.duration,ease:E.ease})}return new Sc(r,this._parents,n,t)},call:xc.call,nodes:xc.nodes,node:xc.node,size:xc.size,empty:xc.empty,each:xc.each,on:function kX(n,e){var t=this._id;return arguments.length<2?ns(this.node(),t).on.on(n):this.each(function NX(n,e,t){var r,o,c=function OX(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(e)?XL:oa;return function(){var u=c(this,n),h=u.on;h!==r&&(o=(r=h).copy()).on(e,t),u.on=o}}(t,n,e))},attr:function gX(n,e){var t=Lx(n),r="transform"===t?B7:a4;return this.attrTween(n,"function"==typeof e?(t.local?pX:fX)(t,r,YL(this,"attr."+n,e)):null==e?(t.local?uX:lX)(t):(t.local?hX:dX)(t,r,e))},attrTween:function EX(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;var r=Lx(n);return this.tween(t,(r.local?yX:vX)(r,e))},style:function WX(n,e,t){var r="transform"==(n+="")?U7:a4;return null==e?this.styleTween(n,function $X(n,e){var t,r,o;return function(){var c=O_(this,n),u=(this.style.removeProperty(n),O_(this,n));return c===u?null:c===t&&u===r?o:o=e(t=c,r=u)}}(n,r)).on("end.style."+n,c4(n)):"function"==typeof e?this.styleTween(n,function zX(n,e,t){var r,o,c;return function(){var u=O_(this,n),h=t(this),g=h+"";return null==h&&(this.style.removeProperty(n),g=h=O_(this,n)),u===g?null:u===r&&g===o?c:(o=g,c=e(r=u,h))}}(n,r,YL(this,"style."+n,e))).each(function GX(n,e){var t,r,o,h,c="style."+e,u="end."+c;return function(){var g=oa(this,n),_=g.on,E=null==g.value[c]?h||(h=c4(e)):void 0;(_!==t||o!==E)&&(r=(t=_).copy()).on(u,o=E),g.on=r}}(this._id,n)):this.styleTween(n,function HX(n,e,t){var r,c,o=t+"";return function(){var u=O_(this,n);return u===o?null:u===r?c:c=e(r=u,t)}}(n,r,e),t).on("end.style."+n,null)},styleTween:function XX(n,e,t){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function KX(n,e,t){var r,o;function c(){var u=e.apply(this,arguments);return u!==o&&(r=(o=u)&&function qX(n,e,t){return function(r){this.style.setProperty(n,e.call(this,r),t)}}(n,u,t)),r}return c._value=e,c}(n,e,t??""))},text:function ZX(n){return this.tween("text","function"==typeof n?function YX(n){return function(){var e=n(this);this.textContent=e??""}}(YL(this,"text",n)):function QX(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function tQ(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;return this.tween(e,function eQ(n){var e,t;function r(){var o=n.apply(this,arguments);return o!==t&&(e=(t=o)&&function JX(n){return function(e){this.textContent=n.call(this,e)}}(o)),e}return r._value=n,r}(n))},remove:function VX(){return this.on("end.remove",function FX(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}(this._id))},tween:function H7(n,e){var t=this._id;if(n+="",arguments.length<2){for(var u,r=ns(this.node(),t).tween,o=0,c=r.length;o<c;++o)if((u=r[o]).name===n)return u.value;return null}return this.each((null==e?j7:$7)(t,n,e))},delay:function bX(n){var e=this._id;return arguments.length?this.each(("function"==typeof n?wX:IX)(e,n)):ns(this.node(),e).delay},duration:function DX(n){var e=this._id;return arguments.length?this.each(("function"==typeof n?CX:TX)(e,n)):ns(this.node(),e).duration},ease:function SX(n){var e=this._id;return arguments.length?this.each(function AX(n,e){if("function"!=typeof e)throw new Error;return function(){oa(this,n).ease=e}}(e,n)):ns(this.node(),e).ease},easeVarying:function RX(n){if("function"!=typeof n)throw new Error;return this.each(function xX(n,e){return function(){var t=e.apply(this,arguments);if("function"!=typeof t)throw new Error;oa(this,n).ease=t}}(this._id,n))},end:function rQ(){var n,e,t=this,r=t._id,o=t.size();return new Promise(function(c,u){var h={value:u},g={value:function(){0==--o&&c()}};t.each(function(){var _=oa(this,r),E=_.on;E!==n&&((e=(n=E).copy())._.cancel.push(h),e._.interrupt.push(h),e._.end.push(g)),_.on=e}),0===o&&c()})},[Symbol.iterator]:xc[Symbol.iterator]};var aQ={time:null,delay:0,duration:250,ease:function sQ(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function cQ(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}Db.prototype.interrupt=function F7(n){return this.each(function(){qx(this,n)})},Db.prototype.transition=function lQ(n){var e,t;n instanceof Sc?(e=n._id,n=n._name):(e=l4(),(t=aQ).time=GL(),n=null==n?null:n+"");for(var r=this._groups,o=r.length,c=0;c<o;++c)for(var g,u=r[c],h=u.length,_=0;_<h;++_)(g=u[_])&&Wx(g,n,e,_,u,t||cQ(g,e));return new Sc(r,this._parents,n,e)};Math;function kb(n){return{type:n}}function _Q(n){var e=0,t=n.children,r=t&&t.length;if(r)for(;--r>=0;)e+=t[r].value;else e=1;n.value=e}function L_(n,e){n instanceof Map?(n=[void 0,n],void 0===e&&(e=NQ)):void 0===e&&(e=OQ);for(var r,c,u,h,g,t=new Fb(n),o=[t];r=o.pop();)if((u=e(r.data))&&(g=(u=Array.from(u)).length))for(r.children=u,h=g-1;h>=0;--h)o.push(c=u[h]=new Fb(u[h])),c.parent=r,c.depth=r.depth+1;return t.eachBefore(FQ)}function OQ(n){return n.children}function NQ(n){return Array.isArray(n)?n[1]:null}function kQ(n){void 0!==n.data.value&&(n.value=n.data.value),n.data=n.data.data}function FQ(n){var e=0;do{n.height=e}while((n=n.parent)&&n.height<++e)}function Fb(n){this.data=n,this.depth=this.height=0,this.parent=null}function VQ(n,e){return n.parent===e.parent?1:2}function a2(n){var e=n.children;return e?e[0]:n.t}function c2(n){var e=n.children;return e?e[e.length-1]:n.t}function LQ(n,e,t){var r=t/(e.i-n.i);e.c-=r,e.s+=t,n.c+=r,e.z+=t,e.m+=t}function BQ(n,e,t){return n.a.parent===e.parent?n.a:t}function nR(n,e){this._=n,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function g4(){var n=VQ,e=1,t=1,r=null;function o(_){var E=function jQ(n){for(var t,o,c,u,h,e=new nR(n,0),r=[e];t=r.pop();)if(c=t._.children)for(t.children=new Array(h=c.length),u=h-1;u>=0;--u)r.push(o=t.children[u]=new nR(c[u],u)),o.parent=t;return(e.parent=new nR(null,0)).children=[e],e}(_);if(E.eachAfter(c),E.parent.m=-E.z,E.eachBefore(u),r)_.eachBefore(g);else{var I=_,A=_,S=_;_.eachBefore(function(K){K.x<I.x&&(I=K),K.x>A.x&&(A=K),K.depth>S.depth&&(S=K)});var O=I===A?1:n(I,A)/2,B=O-I.x,P=e/(A.x+O+B),U=t/(S.depth||1);_.eachBefore(function(K){K.x=(K.x+B)*P,K.y=K.depth*U})}return _}function c(_){var E=_.children,I=_.parent.children,A=_.i?I[_.i-1]:null;if(E){!function UQ(n){for(var c,e=0,t=0,r=n.children,o=r.length;--o>=0;)(c=r[o]).z+=e,c.m+=e,e+=c.s+(t+=c.c)}(_);var S=(E[0].z+E[E.length-1].z)/2;A?(_.z=A.z+n(_._,A._),_.m=_.z-S):_.z=S}else A&&(_.z=A.z+n(_._,A._));_.parent.A=function h(_,E,I){if(E){for(var ie,A=_,S=_,O=E,B=A.parent.children[0],P=A.m,U=S.m,K=O.m,Q=B.m;O=c2(O),A=a2(A),O&&A;)B=a2(B),(S=c2(S)).a=_,(ie=O.z+K-A.z-P+n(O._,A._))>0&&(LQ(BQ(O,_,I),_,ie),P+=ie,U+=ie),K+=O.m,P+=A.m,Q+=B.m,U+=S.m;O&&!c2(S)&&(S.t=O,S.m+=K-U),A&&!a2(B)&&(B.t=A,B.m+=P-Q,I=_)}return I}(_,A,_.parent.A||I[0])}function u(_){_._.x=_.z+_.parent.m,_.m+=_.parent.m}function g(_){_.x*=e,_.y=_.depth*t}return o.separation=function(_){return arguments.length?(n=_,o):n},o.size=function(_){return arguments.length?(r=!1,e=+_[0],t=+_[1],o):r?null:[e,t]},o.nodeSize=function(_){return arguments.length?(r=!0,e=+_[0],t=+_[1],o):r?[e,t]:null},o}function lu(n){return"string"==typeof n?new zi([[document.querySelector(n)]],[document.documentElement]):new zi([[n]],xG)}["w","e"].map(kb),["n","s"].map(kb),["n","w","e","s","nw","ne","sw","se"].map(kb),Fb.prototype=L_.prototype={constructor:Fb,count:function yQ(){return this.eachAfter(_Q)},each:function vQ(n,e){let t=-1;for(const r of this)n.call(e,r,++t,this);return this},eachAfter:function wQ(n,e){for(var c,u,h,t=this,r=[t],o=[],g=-1;t=r.pop();)if(o.push(t),c=t.children)for(u=0,h=c.length;u<h;++u)r.push(c[u]);for(;t=o.pop();)n.call(e,t,++g,this);return this},eachBefore:function EQ(n,e){for(var o,c,t=this,r=[t],u=-1;t=r.pop();)if(n.call(e,t,++u,this),o=t.children)for(c=o.length-1;c>=0;--c)r.push(o[c]);return this},find:function IQ(n,e){let t=-1;for(const r of this)if(n.call(e,r,++t,this))return r},sum:function bQ(n){return this.eachAfter(function(e){for(var t=+n(e.data)||0,r=e.children,o=r&&r.length;--o>=0;)t+=r[o].value;e.value=t})},sort:function CQ(n){return this.eachBefore(function(e){e.children&&e.children.sort(n)})},path:function TQ(n){for(var e=this,t=function DQ(n,e){if(n===e)return n;var t=n.ancestors(),r=e.ancestors(),o=null;for(n=t.pop(),e=r.pop();n===e;)o=n,n=t.pop(),e=r.pop();return o}(e,n),r=[e];e!==t;)r.push(e=e.parent);for(var o=r.length;n!==t;)r.splice(o,0,n),n=n.parent;return r},ancestors:function AQ(){for(var n=this,e=[n];n=n.parent;)e.push(n);return e},descendants:function SQ(){return Array.from(this)},leaves:function xQ(){var n=[];return this.eachBefore(function(e){e.children||n.push(e)}),n},links:function RQ(){var n=this,e=[];return n.each(function(t){t!==n&&e.push({source:t.parent,target:t})}),e},copy:function PQ(){return L_(this).eachBefore(kQ)},[Symbol.iterator]:function*MQ(){var e,r,o,c,n=this,t=[n];do{for(e=t.reverse(),t=[];n=e.pop();)if(yield n,r=n.children)for(o=0,c=r.length;o<c;++o)t.push(r[o])}while(t.length)}},nR.prototype=Object.create(Fb.prototype);var $Q=Array.prototype.slice;function m4(n){return function(){return n}}class _4{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function zQ(n){return new _4(n,!1)}const l2=Math.PI,u2=2*l2,mf=1e-6,GQ=u2-mf;function y4(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}class rR{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?y4:function WQ(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return y4;const t=10**e;return function(r){this._+=r[0];for(let o=1,c=r.length;o<c;++o)this._+=Math.round(arguments[o]*t)/t+r[o]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,o){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+o}`}bezierCurveTo(e,t,r,o,c,u){this._append`C${+e},${+t},${+r},${+o},${this._x1=+c},${this._y1=+u}`}arcTo(e,t,r,o,c){if(e=+e,t=+t,r=+r,o=+o,(c=+c)<0)throw new Error(`negative radius: ${c}`);let u=this._x1,h=this._y1,g=r-e,_=o-t,E=u-e,I=h-t,A=E*E+I*I;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(A>mf)if(Math.abs(I*g-_*E)>mf&&c){let S=r-u,O=o-h,B=g*g+_*_,P=S*S+O*O,U=Math.sqrt(B),K=Math.sqrt(A),Q=c*Math.tan((l2-Math.acos((B+A-P)/(2*U*K)))/2),ie=Q/K,fe=Q/U;Math.abs(ie-1)>mf&&this._append`L${e+ie*E},${t+ie*I}`,this._append`A${c},${c},0,0,${+(I*S>E*O)},${this._x1=e+fe*g},${this._y1=t+fe*_}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,r,o,c,u){if(e=+e,t=+t,u=!!u,(r=+r)<0)throw new Error(`negative radius: ${r}`);let h=r*Math.cos(o),g=r*Math.sin(o),_=e+h,E=t+g,I=1^u,A=u?o-c:c-o;null===this._x1?this._append`M${_},${E}`:(Math.abs(this._x1-_)>mf||Math.abs(this._y1-E)>mf)&&this._append`L${_},${E}`,r&&(A<0&&(A=A%u2+u2),A>GQ?this._append`A${r},${r},0,1,${I},${e-h},${t-g}A${r},${r},0,1,${I},${this._x1=_},${this._y1=E}`:A>mf&&this._append`A${r},${r},0,${+(A>=l2)},${I},${this._x1=e+r*Math.cos(c)},${this._y1=t+r*Math.sin(c)}`)}rect(e,t,r,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+o}h${-r}Z`}toString(){return this._}}function XQ(n){return n[0]}function QQ(n){return n[1]}function YQ(n){return n.source}function ZQ(n){return n.target}function v4(){return function d2(n){let e=YQ,t=ZQ,r=XQ,o=QQ,c=null,u=null,h=function KQ(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(null==t)e=null;else{const r=Math.floor(t);if(!(r>=0))throw new RangeError(`invalid digits: ${t}`);e=r}return n},()=>new rR(e)}(g);function g(){let _;const E=$Q.call(arguments),I=e.apply(this,E),A=t.apply(this,E);if(null==c&&(u=n(_=h())),u.lineStart(),E[0]=I,u.point(+r.apply(this,E),+o.apply(this,E)),E[0]=A,u.point(+r.apply(this,E),+o.apply(this,E)),u.lineEnd(),_)return u=null,_+""||null}return g.source=function(_){return arguments.length?(e=_,g):e},g.target=function(_){return arguments.length?(t=_,g):t},g.x=function(_){return arguments.length?(r="function"==typeof _?_:m4(+_),g):r},g.y=function(_){return arguments.length?(o="function"==typeof _?_:m4(+_),g):o},g.context=function(_){return arguments.length?(null==_?c=u=null:u=n(c=_),g):c},g}(zQ)}const h2={capture:!0,passive:!1};function f2(n){n.preventDefault(),n.stopImmediatePropagation()}function E4(n){return((n=Math.exp(n))+1/n)/2}const iY=function n(e,t,r){function o(c,u){var P,U,h=c[0],g=c[1],_=c[2],A=u[2],S=u[0]-h,O=u[1]-g,B=S*S+O*O;if(B<1e-12)U=Math.log(A/_)/e,P=function(j){return[h+j*S,g+j*O,_*Math.exp(e*j*U)]};else{var K=Math.sqrt(B),Q=(A*A-_*_+r*B)/(2*_*t*K),ie=(A*A-_*_-r*B)/(2*A*t*K),fe=Math.log(Math.sqrt(Q*Q+1)-Q),we=Math.log(Math.sqrt(ie*ie+1)-ie);U=(we-fe)/e,P=function(j){var M=j*U,V=E4(fe),$=_/(t*K)*(V*function rY(n){return((n=Math.exp(2*n))-1)/(n+1)}(e*M+fe)-function nY(n){return((n=Math.exp(n))-1/n)/2}(fe));return[h+$*S,g+$*O,_*V/E4(e*M+fe)]}}return P.duration=1e3*U*e/Math.SQRT2,P}return o.rho=function(c){var u=Math.max(.001,+c),h=u*u;return n(u,h,h*h)},o}(Math.SQRT2,2,4);function _f(n,e){if(n=function oY(n){let e;for(;e=n.sourceEvent;)n=e;return n}(n),void 0===e&&(e=n.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var r=t.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[n.clientX-o.left-e.clientLeft,n.clientY-o.top-e.clientTop]}}return[n.pageX,n.pageY]}const iR=n=>()=>n;function sY(n,{sourceEvent:e,target:t,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Mc(n,e,t){this.k=n,this.x=e,this.y=t}Mc.prototype={constructor:Mc,scale:function(n){return 1===n?this:new Mc(this.k*n,this.x,this.y)},translate:function(n,e){return 0===n&0===e?this:new Mc(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var oR=new Mc(1,0,0);function p2(n){n.stopImmediatePropagation()}function Vb(n){n.preventDefault(),n.stopImmediatePropagation()}function cY(n){return!(n.ctrlKey&&"wheel"!==n.type||n.button)}function lY(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n).hasAttribute("viewBox")?[[(n=n.viewBox.baseVal).x,n.y],[n.x+n.width,n.y+n.height]]:[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]:[[0,0],[n.clientWidth,n.clientHeight]]}function w4(){return this.__zoom||oR}function uY(n){return-n.deltaY*(1===n.deltaMode?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function dY(){return navigator.maxTouchPoints||"ontouchstart"in this}function hY(n,e,t){var r=n.invertX(e[0][0])-t[0][0],o=n.invertX(e[1][0])-t[1][0],c=n.invertY(e[0][1])-t[0][1],u=n.invertY(e[1][1])-t[1][1];return n.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),u>c?(c+u)/2:Math.min(0,c)||Math.max(0,u))}let pY=(()=>{class n{platformId;treeData;treeInfo={nr_people:0,inverted:!1};width=0;height=0;innerWidth=0;innerHeight=0;svg;g;treeLayout;margin={top:0,right:0,bottom:0,left:0};constructor(t){this.platformId=t,gy(this.platformId)&&(this.width=document.body.clientWidth,this.height=document.body.clientHeight,this.innerWidth=this.width-this.margin.left-this.margin.right,this.innerHeight=this.height-this.margin.top-this.margin.bottom)}ngAfterViewInit(){this.svg=lu("svg#tree-svg").attr("width",this.width).attr("height",this.height),this.svg.append("defs").append("pattern").attr("id","grid-pattern").attr("width",20).attr("height",20).attr("patternUnits","userSpaceOnUse").append("path").attr("d","M 20 0 L 0 0 0 20").attr("fill","none").attr("stroke","#ddd").attr("stroke-width",.5),this.svg.append("rect").attr("width",this.width).attr("height",this.height).attr("fill","url(#grid-pattern)"),this.g=this.svg.append("g").attr("transform",`translate(${this.margin.left}, ${this.margin.top})`);const r=function fY(){var E,I,A,n=cY,e=lY,t=hY,r=uY,o=dY,c=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],h=250,g=iY,_=OG("start","zoom","end"),S=500,O=150,B=0,P=10;function U(X){X.property("__zoom",w4).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",V).on("dblclick.zoom",$).filter(o).on("touchstart.zoom",z).on("touchmove.zoom",q).on("touchend.zoom touchcancel.zoom",k).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function K(X,Se){return(Se=Math.max(c[0],Math.min(c[1],Se)))===X.k?X:new Mc(Se,X.x,X.y)}function Q(X,Se,oe){var Te=Se[0]-oe[0]*X.k,$e=Se[1]-oe[1]*X.k;return Te===X.x&&$e===X.y?X:new Mc(X.k,Te,$e)}function ie(X){return[(+X[0][0]+ +X[1][0])/2,(+X[0][1]+ +X[1][1])/2]}function fe(X,Se,oe,Te){X.on("start.zoom",function(){we(this,arguments).event(Te).start()}).on("interrupt.zoom end.zoom",function(){we(this,arguments).event(Te).end()}).tween("zoom",function(){var $e=this,Ve=arguments,Be=we($e,Ve).event(Te),Ze=e.apply($e,Ve),Xe=null==oe?ie(Ze):"function"==typeof oe?oe.apply($e,Ve):oe,Ft=Math.max(Ze[1][0]-Ze[0][0],Ze[1][1]-Ze[0][1]),yn=$e.__zoom,On="function"==typeof Se?Se.apply($e,Ve):Se,Kr=g(yn.invert(Xe).concat(Ft/yn.k),On.invert(Xe).concat(Ft/On.k));return function(xt){if(1===xt)xt=On;else{var Pr=Kr(xt),fu=Ft/Pr[2];xt=new Mc(fu,Xe[0]-Pr[0]*fu,Xe[1]-Pr[1]*fu)}Be.zoom(null,xt)}})}function we(X,Se,oe){return!oe&&X.__zooming||new j(X,Se)}function j(X,Se){this.that=X,this.args=Se,this.active=0,this.sourceEvent=null,this.extent=e.apply(X,Se),this.taps=0}function M(X,...Se){if(n.apply(this,arguments)){var oe=we(this,Se).event(X),Te=this.__zoom,$e=Math.max(c[0],Math.min(c[1],Te.k*Math.pow(2,r.apply(this,arguments)))),Ve=_f(X);if(oe.wheel)(oe.mouse[0][0]!==Ve[0]||oe.mouse[0][1]!==Ve[1])&&(oe.mouse[1]=Te.invert(oe.mouse[0]=Ve)),clearTimeout(oe.wheel);else{if(Te.k===$e)return;oe.mouse=[Ve,Te.invert(Ve)],qx(this),oe.start()}Vb(X),oe.wheel=setTimeout(function Be(){oe.wheel=null,oe.end()},O),oe.zoom("mouse",t(Q(K(Te,$e),oe.mouse[0],oe.mouse[1]),oe.extent,u))}}function V(X,...Se){if(!A&&n.apply(this,arguments)){var oe=X.currentTarget,Te=we(this,Se,!0).event(X),$e=lu(X.view).on("mousemove.zoom",function Xe(yn){if(Vb(yn),!Te.moved){var On=yn.clientX-Be,Kr=yn.clientY-Ze;Te.moved=On*On+Kr*Kr>B}Te.event(yn).zoom("mouse",t(Q(Te.that.__zoom,Te.mouse[0]=_f(yn,oe),Te.mouse[1]),Te.extent,u))},!0).on("mouseup.zoom",function Ft(yn){$e.on("mousemove.zoom mouseup.zoom",null),function eY(n,e){var t=n.document.documentElement,r=lu(n).on("dragstart.drag",null);e&&(r.on("click.drag",f2,h2),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in t?r.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}(yn.view,Te.moved),Vb(yn),Te.event(yn).end()},!0),Ve=_f(X,oe),Be=X.clientX,Ze=X.clientY;(function JQ(n){var e=n.document.documentElement,t=lu(n).on("dragstart.drag",f2,h2);"onselectstart"in e?t.on("selectstart.drag",f2,h2):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")})(X.view),p2(X),Te.mouse=[Ve,this.__zoom.invert(Ve)],qx(this),Te.start()}}function $(X,...Se){if(n.apply(this,arguments)){var oe=this.__zoom,Te=_f(X.changedTouches?X.changedTouches[0]:X,this),$e=oe.invert(Te),Be=t(Q(K(oe,oe.k*(X.shiftKey?.5:2)),Te,$e),e.apply(this,Se),u);Vb(X),h>0?lu(this).transition().duration(h).call(fe,Be,Te,X):lu(this).call(U.transform,Be,Te,X)}}function z(X,...Se){if(n.apply(this,arguments)){var Ve,Be,Ze,Xe,oe=X.touches,Te=oe.length,$e=we(this,Se,X.changedTouches.length===Te).event(X);for(p2(X),Be=0;Be<Te;++Be)Xe=[Xe=_f(Ze=oe[Be],this),this.__zoom.invert(Xe),Ze.identifier],$e.touch0?!$e.touch1&&$e.touch0[2]!==Xe[2]&&($e.touch1=Xe,$e.taps=0):($e.touch0=Xe,Ve=!0,$e.taps=1+!!E);E&&(E=clearTimeout(E)),Ve&&($e.taps<2&&(I=Xe[0],E=setTimeout(function(){E=null},S)),qx(this),$e.start())}}function q(X,...Se){if(this.__zooming){var Ve,Be,Ze,Xe,oe=we(this,Se).event(X),Te=X.changedTouches,$e=Te.length;for(Vb(X),Ve=0;Ve<$e;++Ve)Ze=_f(Be=Te[Ve],this),oe.touch0&&oe.touch0[2]===Be.identifier?oe.touch0[0]=Ze:oe.touch1&&oe.touch1[2]===Be.identifier&&(oe.touch1[0]=Ze);if(Be=oe.that.__zoom,oe.touch1){var Ft=oe.touch0[0],yn=oe.touch0[1],On=oe.touch1[0],Kr=oe.touch1[1],xt=(xt=On[0]-Ft[0])*xt+(xt=On[1]-Ft[1])*xt,Pr=(Pr=Kr[0]-yn[0])*Pr+(Pr=Kr[1]-yn[1])*Pr;Be=K(Be,Math.sqrt(xt/Pr)),Ze=[(Ft[0]+On[0])/2,(Ft[1]+On[1])/2],Xe=[(yn[0]+Kr[0])/2,(yn[1]+Kr[1])/2]}else{if(!oe.touch0)return;Ze=oe.touch0[0],Xe=oe.touch0[1]}oe.zoom("touch",t(Q(Be,Ze,Xe),oe.extent,u))}}function k(X,...Se){if(this.__zooming){var Ve,Be,oe=we(this,Se).event(X),Te=X.changedTouches,$e=Te.length;for(p2(X),A&&clearTimeout(A),A=setTimeout(function(){A=null},S),Ve=0;Ve<$e;++Ve)Be=Te[Ve],oe.touch0&&oe.touch0[2]===Be.identifier?delete oe.touch0:oe.touch1&&oe.touch1[2]===Be.identifier&&delete oe.touch1;if(oe.touch1&&!oe.touch0&&(oe.touch0=oe.touch1,delete oe.touch1),oe.touch0)oe.touch0[1]=this.__zoom.invert(oe.touch0[0]);else if(oe.end(),2===oe.taps&&(Be=_f(Be,this),Math.hypot(I[0]-Be[0],I[1]-Be[1])<P)){var Ze=lu(this).on("dblclick.zoom");Ze&&Ze.apply(this,arguments)}}}return U.transform=function(X,Se,oe,Te){var $e=X.selection?X.selection():X;$e.property("__zoom",w4),X!==$e?fe(X,Se,oe,Te):$e.interrupt().each(function(){we(this,arguments).event(Te).start().zoom(null,"function"==typeof Se?Se.apply(this,arguments):Se).end()})},U.scaleBy=function(X,Se,oe,Te){U.scaleTo(X,function(){return this.__zoom.k*("function"==typeof Se?Se.apply(this,arguments):Se)},oe,Te)},U.scaleTo=function(X,Se,oe,Te){U.transform(X,function(){var $e=e.apply(this,arguments),Ve=this.__zoom,Be=null==oe?ie($e):"function"==typeof oe?oe.apply(this,arguments):oe,Ze=Ve.invert(Be),Xe="function"==typeof Se?Se.apply(this,arguments):Se;return t(Q(K(Ve,Xe),Be,Ze),$e,u)},oe,Te)},U.translateBy=function(X,Se,oe,Te){U.transform(X,function(){return t(this.__zoom.translate("function"==typeof Se?Se.apply(this,arguments):Se,"function"==typeof oe?oe.apply(this,arguments):oe),e.apply(this,arguments),u)},null,Te)},U.translateTo=function(X,Se,oe,Te,$e){U.transform(X,function(){var Ve=e.apply(this,arguments),Be=this.__zoom,Ze=null==Te?ie(Ve):"function"==typeof Te?Te.apply(this,arguments):Te;return t(oR.translate(Ze[0],Ze[1]).scale(Be.k).translate("function"==typeof Se?-Se.apply(this,arguments):-Se,"function"==typeof oe?-oe.apply(this,arguments):-oe),Ve,u)},Te,$e)},j.prototype={event:function(X){return X&&(this.sourceEvent=X),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(X,Se){return this.mouse&&"mouse"!==X&&(this.mouse[1]=Se.invert(this.mouse[0])),this.touch0&&"touch"!==X&&(this.touch0[1]=Se.invert(this.touch0[0])),this.touch1&&"touch"!==X&&(this.touch1[1]=Se.invert(this.touch1[0])),this.that.__zoom=Se,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(X){var Se=lu(this.that).datum();_.call(X,this.that,new sY(X,{sourceEvent:this.sourceEvent,target:U,type:X,transform:this.that.__zoom,dispatch:_}),Se)}},U.wheelDelta=function(X){return arguments.length?(r="function"==typeof X?X:iR(+X),U):r},U.filter=function(X){return arguments.length?(n="function"==typeof X?X:iR(!!X),U):n},U.touchable=function(X){return arguments.length?(o="function"==typeof X?X:iR(!!X),U):o},U.extent=function(X){return arguments.length?(e="function"==typeof X?X:iR([[+X[0][0],+X[0][1]],[+X[1][0],+X[1][1]]]),U):e},U.scaleExtent=function(X){return arguments.length?(c[0]=+X[0],c[1]=+X[1],U):[c[0],c[1]]},U.translateExtent=function(X){return arguments.length?(u[0][0]=+X[0][0],u[1][0]=+X[1][0],u[0][1]=+X[0][1],u[1][1]=+X[1][1],U):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},U.constrain=function(X){return arguments.length?(t=X,U):t},U.duration=function(X){return arguments.length?(h=+X,U):h},U.interpolate=function(X){return arguments.length?(g=X,U):g},U.on=function(){var X=_.on.apply(_,arguments);return X===_?U:X},U.clickDistance=function(X){return arguments.length?(B=(X=+X)*X,U):Math.sqrt(B)},U.tapDistance=function(X){return arguments.length?(P=+X,U):P},U}().on("zoom",h=>{this.g.attr("transform",h.transform)});if(this.svg.call(r),this.svg.call(r.transform,oR.translate(this.width/25,this.height/3).scale(.4)),this.treeData){const g=L_(this.treeData).height,_=Math.max(30*g,200),E=10*this.innerWidth;this.treeLayout=g4().size([_,E]);const I=this.treeData.info;console.log("Info Data:",I),I.inverted?(console.log("rendering inverted tree"),this.renderInvertedTree()):(console.log("rendering not inverted tree"),this.renderTree())}}ngOnChanges(){if(this.treeData){const r=L_(this.treeData).height,o=900*r,c=60*r;this.treeLayout=g4().size([o,c]);const u=this.treeData.info;console.log("Info Data:",u),console.log(u.inverted),console.log(u.nr_people),u.inverted?(console.log("rendering inverted tree"),this.renderInvertedTree()):(console.log("rendering not inverted tree"),this.renderTree())}}renderTree(){console.log("Rendering tree with data:",this.treeData),this.g.selectAll("path").remove(),this.g.selectAll("g.node").remove();const t=L_(this.treeData),r=this.treeLayout(t),o=r.links(),c=r.descendants(),u=v4().x(g=>g.x).y(g=>g.y);console.log("Links:",o),console.log("Nodes:",c),this.g.selectAll("path").data(o).enter().append("path").attr("d",g=>u(g)).attr("stroke","#add8e6").attr("fill","none");const h=this.g.selectAll("g.node").data(t.descendants(),g=>g.data.name).enter().append("g").attr("class","node").attr("transform",g=>`translate(${g.x}, ${g.y})`);h.append("text").attr("dy","0.32em").style("font-size",g=>1-.1*g.depth+"em").text(g=>`${g.data?.data?.name||"missing"} & ${g.data?.data?.pname||""}`),h.append("text").attr("dy","1.5em").style("font-size",g=>1-.1*g.depth+"em").attr("fill","gray").text(g=>`${g.data?.data?.by||""} - ${g.data?.data?.dy||""}, ${g.data?.data?.pby||""} - ${g.data?.data?.pdy||""}`)}renderInvertedTree(){console.log("Rendering inverted tree with data:",this.treeData),this.g.selectAll("path").remove(),this.g.selectAll("g.node").remove();const t=L_(this.treeData),r=this.treeLayout(t),o=r.links(),c=r.descendants(),u=v4().x(g=>g.x).y(g=>-g.y);console.log("Links:",o),console.log("Nodes:",c),this.g.selectAll("path").data(o).enter().append("path").attr("d",g=>u(g)).attr("stroke","#add8e6").attr("fill","none");const h=this.g.selectAll("g.node").data(t.descendants(),g=>g.data.name).enter().append("g").attr("class","node").attr("transform",g=>`translate(${g.x}, ${-(g.y??0)})`);h.append("text").attr("dy","0.32em").style("font-size",g=>1-.1*g.depth+"em").text(g=>`${g.data?.data?.name||"missing"}`),h.append("text").attr("dy","1.5em").style("font-size",g=>1-.1*g.depth+"em").attr("fill","gray").text(g=>`${g.data?.data?.by||""} - ${g.data?.data?.dy||""} `)}static \u0275fac=function(r){return new(r||n)(p.rXU(p.Agw))};static \u0275cmp=p.VBU({type:n,selectors:[["ftapp-tree-area"]],inputs:{treeData:"treeData",treeInfo:"treeInfo"},features:[p.OA$],decls:3,vars:0,consts:[[1,"scrollable-container"],["id","bar"],["id","tree-svg"]],template:function(r,o){1&r&&(p.j41(0,"div",0)(1,"figure",1),p.qSk(),p.nrm(2,"svg",2),p.k0s()())},styles:[".scrollable-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden;position:relative;border:3px solid #ccc;background-color:#fff}svg[_ngcontent-%COMP%]{width:100%;height:100%;overflow:visible}path[_ngcontent-%COMP%]{fill:none;stroke:#57bdc3}text[_ngcontent-%COMP%]{text-shadow:-1px -1px 3px white,-1px 1px 3px white,1px -1px 3px white,1px 1px 3px white}@media screen and (max-width: 768px){.scrollable-container[_ngcontent-%COMP%]{height:auto;max-height:70vh;overflow-y:auto;padding:10px}}"]})}return n})();function gY(n,e){if(1&n){const t=p.RV6();p.j41(0,"mat-grid-tile",8),p.bIt("click",function(){const o=p.eBV(t).$implicit,c=p.XpG();return p.Njj(c.onTileClick(o))}),p.EFF(1),p.k0s()}if(2&n){const t=e.$implicit;p.xc7("background",t.color),p.Y8G("colspan",t.cols)("rowspan",t.rows),p.R7$(),p.SpI(" ",t.text," ")}}let mY=(()=>{class n{parentId=1;jsonData;firestore=(0,p.WQX)(xx);tiletext="Inverted";tiles=[];ngOnInit(){this.fetchAvailableCollections().subscribe(t=>{this.tiles=t.map((r,o)=>({text:r,cols:2,rows:1,color:this.getRandomColor()})),console.log(this.tiles)}),this.fetchPersonWithChildren(this.parentId,"Inverted").subscribe(t=>{this.jsonData=t,console.log("Final JSON Data:",JSON.stringify(this.jsonData,null,2))})}fetchPersonWithChildren(t,r,o=!0){const c=bL(this.firestore,`${r}/${t}`),u=o?bL(this.firestore,`${r}/information`):null;return new Je.c(h=>{const g=()=>new Je.c(_=>{CL(c).then(E=>{if(E.exists()){const I=E.data();I.children&&0!==I.children.length?TL(I.children.map(S=>this.fetchPersonWithChildren(S,r,!1).pipe(ni(O=>(console.error(`Error fetching child ${S}:`,O),Pe(null)))))).subscribe(S=>{const O=S.filter(B=>null!==B);_.next({data:{...I,children:void 0},children:O}),_.complete()}):(_.next({data:I,children:[]}),_.complete())}else console.error(`No such document for person ID: ${t}`),_.next(null),_.complete()}).catch(E=>{console.error(`Error fetching person ${t}:`,E),_.next(null),_.complete()})});o?CL(u).then(_=>{if(!_.exists())return console.error(`No such document for collection info in: ${r}`),h.next(null),void h.complete();const E=_.data();g().subscribe(I=>{h.next({info:E,...I}),h.complete()})}).catch(_=>{console.error(`Error fetching collection info: ${_}`),h.next(null),h.complete()}):g().subscribe(_=>{h.next(_),h.complete()})})}fetchAvailableCollections(){const t=bL(this.firestore,"Collections_metadata","1");return console.log("Fetching available collections..."),new Je.c(r=>{CL(t).then(o=>{if(o.exists()){console.log("Firestore document received:",o.data());const c=o.data().Collections;c&&c.length>0?(console.log("Collections found:",c),r.next(c)):(console.warn("No collections found in the document."),r.next([]))}else console.warn("Document not found."),r.next([]);r.complete()}).catch(o=>{console.error("Error fetching collections metadata:",o),r.next([]),r.complete()})})}getRandomColor(){const t=["#0000FF","#00FFFF","#33FFFF","#66FFFF","#3333FF","#000066","#000088","#000099","#1E90FF","#4682B4","#5F9EA0"];return t[Math.floor(Math.random()*t.length)]}onTileClick(t){this.tiletext=t.text,console.log("Tile clicked:",t.text),this.fetchPersonWithChildren(this.parentId,t.text).subscribe(r=>{this.jsonData=r,console.log("Final JSON Data:",JSON.stringify(this.jsonData,null,2))})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=p.VBU({type:n,selectors:[["ftapp-desktop"]],decls:13,vars:3,consts:[[1,"table-grid"],["hideToggle","",1,"table-expansion-panel"],[1,"exp-panel-title"],["cols","4","rowHeight","100px"],[3,"colspan","rowspan","background"],[1,"scrollable-container"],[3,"treeData"],[1,"tree-info"],[3,"click","colspan","rowspan"]],template:function(r,o){1&r&&(p.j41(0,"div",0)(1,"mat-accordion")(2,"mat-expansion-panel",1)(3,"mat-expansion-panel-header")(4,"mat-panel-title",2),p.EFF(5," See other trees "),p.k0s()(),p.j41(6,"mat-grid-list",3),p.Z7z(7,gY,2,5,"mat-grid-tile",4,p.fX1),p.k0s()()()(),p.j41(9,"div",5),p.nrm(10,"ftapp-tree-area",6),p.k0s(),p.j41(11,"p",7),p.EFF(12),p.k0s()),2&r&&(p.R7$(7),p.Dyx(o.tiles),p.R7$(3),p.Y8G("treeData",o.jsonData),p.R7$(2),p.Lme("",o.tiletext," tree: ",null==o.jsonData||null==o.jsonData.info?null:o.jsonData.info.nr_people," people"))},dependencies:[D5,aG,W5,pG,mG,G5,pY],styles:[".mat-tab-group[_ngcontent-%COMP%], .mat-tab[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]{width:100%}.mat-elevation-z8[_ngcontent-%COMP%]{width:100%;min-width:100%}.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{padding:16px;text-align:left;min-width:120px}.mat-header-row[_ngcontent-%COMP%], .mat-row[_ngcontent-%COMP%]{width:100%}.mat-header-cell[_ngcontent-%COMP%], .mat-cell[_ngcontent-%COMP%]{flex:1 1 auto;word-wrap:break-word}.table-expansion-panel[_ngcontent-%COMP%]{background-color:#fff;color:#fff;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;cursor:pointer}.exp-panel-title[_ngcontent-%COMP%]{color:#000;text-shadow:none}.table-grid[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:20px}.tree-info[_ngcontent-%COMP%]{color:#9b9b9bc2;font-size:12px;margin:10px}.horizontal-layout[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;justify-content:flex-start}.expansion-panel-label[_ngcontent-%COMP%]{margin-right:20px;font-weight:700}.slider-container[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:1}.button-container[_ngcontent-%COMP%], .button-primary[_ngcontent-%COMP%]{margin-left:20px}@media screen and (max-width: 768px){.horizontal-layout[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px;padding:10px;width:100%;max-height:50vh;overflow-y:auto}.button-container[_ngcontent-%COMP%], .button-primary[_ngcontent-%COMP%]{margin-left:0;margin-top:10px;width:100%;box-sizing:border-box}.slider-container[_ngcontent-%COMP%]{width:100%;margin-top:10px}.some-text-class[_ngcontent-%COMP%]{font-size:14px;line-height:1.4}}@media (hover: none){.mat-expansion-panel[_ngcontent-%COMP%]:not(.mat-expanded)   .mat-expansion-panel-header[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important}.mat-expansion-panel-header[_ngcontent-%COMP%]:hover{background-color:#fff!important}}"]})}return n})();const _Y=["addListener","removeListener"],yY=["addEventListener","removeEventListener"],vY=["on","off"];function sR(n,e,t,r){if((0,dn.T)(t)&&(r=t,t=void 0),r)return sR(n,e,t).pipe(lv(r));const[o,c]=function IY(n){return(0,dn.T)(n.addEventListener)&&(0,dn.T)(n.removeEventListener)}(n)?yY.map(u=>h=>n[u](e,h,t)):function EY(n){return(0,dn.T)(n.addListener)&&(0,dn.T)(n.removeListener)}(n)?_Y.map(I4(n,e)):function wY(n){return(0,dn.T)(n.on)&&(0,dn.T)(n.off)}(n)?vY.map(I4(n,e)):[];if(!o&&Gc(n))return Ln(u=>sR(u,e,t))(rr(n));if(!o)throw new TypeError("Invalid event target");return new Je.c(u=>{const h=(...g)=>u.next(1<g.length?g:g[0]);return o(h),()=>c(h)})}function I4(n,e){return t=>r=>n[t](e,r)}const Lb={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Lb;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const o=e(c=>{t=void 0,n(c)});return new vi.yU(()=>t?.(o))},requestAnimationFrame(...n){const{delegate:e}=Lb;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Lb;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class CY extends vg{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let o;e=e||r.shift();do{if(o=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,o){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw o}}}(class bY extends yg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Lb.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var o;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:c}=e;null!=t&&(null===(o=c[c.length-1])||void 0===o?void 0:o.id)!==t&&(Lb.cancelAnimationFrame(t),e._scheduled=void 0)}});let g2,DY=1;const aR={};function b4(n){return n in aR&&(delete aR[n],!0)}const AY={setImmediate(n){const e=DY++;return aR[e]=!0,g2||(g2=Promise.resolve()),g2.then(()=>b4(e)&&n()),e},clearImmediate(n){b4(n)}},{setImmediate:SY,clearImmediate:xY}=AY,cR={setImmediate(...n){const{delegate:e}=cR;return(e?.setImmediate||SY)(...n)},clearImmediate(n){const{delegate:e}=cR;return(e?.clearImmediate||xY)(n)},delegate:void 0};new class MY extends vg{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let o;e=e||r.shift();do{if(o=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,o){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw o}}}(class RY extends yg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=cR.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var o;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:c}=e;null!=t&&(null===(o=c[c.length-1])||void 0===o?void 0:o.id)!==t&&(cR.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function C4(n,e=Eg){return function OY(n){return(0,hr.N)((e,t)=>{let r=!1,o=null,c=null,u=!1;const h=()=>{if(c?.unsubscribe(),c=null,r){r=!1;const _=o;o=null,t.next(_)}u&&t.complete()},g=()=>{c=null,u&&t.complete()};e.subscribe((0,ir._)(t,_=>{r=!0,o=_,c||rr(n(_)).subscribe(c=(0,ir._)(t,h,g))},()=>{u=!0,(!r||!c||c.closed)&&t.complete()}))})}(()=>function kY(n=0,e,t=AN){let r=-1;return null!=e&&(Dn(e)?t=e:r=e),new Je.c(o=>{let c=function NY(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;c<0&&(c=0);let u=0;return t.schedule(function(){o.closed||(o.next(u++),0<=r?this.schedule(void 0,r):o.complete())},c)})}(n,e))}let T4=(()=>{class n{constructor(t,r,o){this._ngZone=t,this._platform=r,this._scrolled=new gt.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Je.c(r=>{this._globalSubscription||this._addGlobalListener();const o=t>0?this._scrolled.pipe(C4(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Pe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const o=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe((0,xn.p)(c=>!c||o.indexOf(c)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((o,c)=>{this._scrollableContainsElement(c,t)&&r.push(c)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let o=M_(r),c=t.getElementRef().nativeElement;do{if(o==c)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>sR(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(p.SKi),p.KVO(yo),p.KVO(be,8))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),VY=(()=>{class n{constructor(t,r,o,c){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=o,this.dir=c,this._destroyed=new gt.B,this._elementScrolled=new Je.c(u=>this.ngZone.runOutsideAngular(()=>sR(this.elementRef.nativeElement,"scroll").pipe(xo(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,o=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=o?t.end:t.start),null==t.right&&(t.right=o?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),o&&Eb()!=ia.NORMAL?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),Eb()==ia.INVERTED?t.left=t.right:Eb()==ia.NEGATED&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;xz()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",o="right",c=this.elementRef.nativeElement;if("top"==t)return c.scrollTop;if("bottom"==t)return c.scrollHeight-c.clientHeight-c.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?o:r:"end"==t&&(t=u?r:o),u&&Eb()==ia.INVERTED?t==r?c.scrollWidth-c.clientWidth-c.scrollLeft:c.scrollLeft:u&&Eb()==ia.NEGATED?t==r?c.scrollLeft+c.scrollWidth-c.clientWidth:-c.scrollLeft:t==r?c.scrollLeft:c.scrollWidth-c.clientWidth-c.scrollLeft}static{this.\u0275fac=function(r){return new(r||n)(p.rXU(p.aKT),p.rXU(T4),p.rXU(p.SKi),p.rXU(Ib,8))}}static{this.\u0275dir=p.FsC({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}}return n})(),D4=(()=>{class n{constructor(t,r,o){this._platform=t,this._change=new gt.B,this._changeListener=c=>{this._change.next(c)},this._document=o,r.runOutsideAngular(()=>{if(t.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+o,right:t.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),o=t.documentElement,c=o.getBoundingClientRect();return{top:-c.top||t.body.scrollTop||r.scrollY||o.scrollTop||0,left:-c.left||t.body.scrollLeft||r.scrollX||o.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(C4(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(yo),p.KVO(p.SKi),p.KVO(be,8))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),A4=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=p.$C({type:n})}static{this.\u0275inj=p.G2t({})}}return n})(),S4=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=p.$C({type:n})}static{this.\u0275inj=p.G2t({imports:[bb,A4,bb,A4]})}}return n})();const x4=xz();class UY{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Yn(-this._previousScrollPosition.left),e.style.top=Yn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,o=this._document.body.style,c=r.scrollBehavior||"",u=o.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),x4&&(r.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),x4&&(r.scrollBehavior=c,o.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class BY{constructor(e,t,r,o){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe((0,xn.p)(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class R4{enable(){}disable(){}attach(){}}function m2(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function M4(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class jY{constructor(e,t,r,o){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=o,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:o}=this._viewportRuler.getViewportSize();m2(t,[{width:r,height:o,bottom:o,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let $Y=(()=>{class n{constructor(t,r,o,c){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new R4,this.close=u=>new BY(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new UY(this._viewportRuler,this._document),this.reposition=u=>new jY(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=c}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(T4),p.KVO(D4),p.KVO(p.SKi),p.KVO(be))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class P4{constructor(e){if(this.scrollStrategy=new R4,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class HY{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let O4=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(be))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),zY=(()=>{class n extends O4{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=o=>{const c=this._attachedOverlays;for(let u=c.length-1;u>-1;u--)if(c[u]._keydownEvents.observers.length>0){const h=c[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(o)):h.next(o);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(be),p.KVO(p.SKi,8))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),GY=(()=>{class n extends O4{constructor(t,r,o){super(t),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=c=>{this._pointerDownEventTarget=su(c)},this._clickListener=c=>{const u=su(c),h="click"===c.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let _=g.length-1;_>-1;_--){const E=g[_];if(E._outsidePointerEvents.observers.length<1||!E.hasAttached())continue;if(N4(E.overlayElement,u)||N4(E.overlayElement,h))break;const I=E._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>I.next(c)):I.next(c)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(be),p.KVO(yo),p.KVO(p.SKi,8))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function N4(n,e){const t=typeof ShadowRoot<"u"&&ShadowRoot;let r=e;for(;r;){if(r===n)return!0;r=t&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}let lR=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||xL()){const o=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let c=0;c<o.length;c++)o[c].remove()}const r=this._document.createElement("div");r.classList.add(t),xL()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(be),p.KVO(yo))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class uR{constructor(e,t,r,o,c,u,h,g,_,E=!1,I){this._portalOutlet=e,this._host=t,this._pane=r,this._config=o,this._ngZone=c,this._keyboardDispatcher=u,this._document=h,this._location=g,this._outsideClickDispatcher=_,this._animationsDisabled=E,this._injector=I,this._backdropElement=null,this._backdropClick=new gt.B,this._attachments=new gt.B,this._detachments=new gt.B,this._locationChanges=vi.yU.EMPTY,this._backdropClickHandler=A=>this._backdropClick.next(A),this._backdropTransitionendHandler=A=>{this._disposeBackdrop(A.target)},this._keydownEvents=new gt.B,this._outsidePointerEvents=new gt.B,this._renders=new gt.B,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy,this._afterRenderRef=(0,p.O8t)(()=>(0,p.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=(0,p.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Yn(this._config.width),e.height=Yn(this._config.height),e.minWidth=Yn(this._config.minWidth),e.minHeight=Yn(this._config.minHeight),e.maxWidth=Yn(this._config.maxWidth),e.maxHeight=Yn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const o=Ox(t||[]).filter(c=>!!c);o.length&&(r?e.classList.add(...o):e.classList.remove(...o))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const e=this._renders.pipe(xo(BL(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const k4="cdk-overlay-connected-position-bounding-box",WY=/([A-Za-z%]+)$/;class qY{get positions(){return this._preferredPositions}constructor(e,t,r,o,c){this._viewportRuler=t,this._document=r,this._platform=o,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new gt.B,this._resizeSubscription=vi.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(k4),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,o=this._containerRect,c=[];let u;for(let h of this._preferredPositions){let g=this._getOriginPoint(e,o,h),_=this._getOverlayPoint(g,t,h),E=this._getOverlayFit(_,t,r,h);if(E.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,g);this._canFitWithFlexibleDimensions(E,_,r)?c.push({position:h,origin:g,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(g,h)}):(!u||u.overlayFit.visibleArea<E.visibleArea)&&(u={overlayFit:E,overlayPoint:_,originPoint:g,position:h,overlayRect:t})}if(c.length){let h=null,g=-1;for(const _ of c){const E=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);E>g&&(g=E,h=_)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&yf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(k4),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let o,c;if("center"==r.originX)o=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;o="start"==r.originX?u:h}return t.left<0&&(o-=t.left),c="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(c-=t.top),{x:o,y:c}}_getOverlayPoint(e,t,r){let o,c;return o="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,c="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+o,y:e.y+c}}_getOverlayFit(e,t,r,o){const c=V4(t);let{x:u,y:h}=e,g=this._getOffset(o,"x"),_=this._getOffset(o,"y");g&&(u+=g),_&&(h+=_);let A=0-h,S=h+c.height-r.height,O=this._subtractOverflows(c.width,0-u,u+c.width-r.width),B=this._subtractOverflows(c.height,A,S),P=O*B;return{visibleArea:P,isCompletelyWithinViewport:c.width*c.height===P,fitsInViewportVertically:B===c.height,fitsInViewportHorizontally:O==c.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const o=r.bottom-t.y,c=r.right-t.x,u=F4(this._overlayRef.getConfig().minHeight),h=F4(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=u&&u<=o)&&(e.fitsInViewportHorizontally||null!=h&&h<=c)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const o=V4(t),c=this._viewportRect,u=Math.max(e.x+o.width-c.width,0),h=Math.max(e.y+o.height-c.height,0),g=Math.max(c.top-r.top-e.y,0),_=Math.max(c.left-r.left-e.x,0);let E=0,I=0;return E=o.width<=c.width?_||-u:e.x<this._viewportMargin?c.left-r.left-e.x:0,I=o.height<=c.height?g||-h:e.y<this._viewportMargin?c.top-r.top-e.y:0,this._previousPushAmount={x:E,y:I},{x:e.x+E,y:e.y+I}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){const r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!function KY(n,e){return n===e||n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}(this._lastScrollVisibility,r)){const o=new HY(e,r);this._positionChanges.next(o)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,o=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let c=0;c<t.length;c++)t[c].style.transformOrigin=`${r} ${o}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,o=this._isRtl();let c,u,h,E,I,A;if("top"===t.overlayY)u=e.y,c=r.height-u+this._viewportMargin;else if("bottom"===t.overlayY)h=r.height-e.y+2*this._viewportMargin,c=r.height-h+this._viewportMargin;else{const S=Math.min(r.bottom-e.y+r.top,e.y),O=this._lastBoundingBoxSize.height;c=2*S,u=e.y-S,c>O&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-O/2)}if("end"===t.overlayX&&!o||"start"===t.overlayX&&o)A=r.width-e.x+2*this._viewportMargin,E=e.x-this._viewportMargin;else if("start"===t.overlayX&&!o||"end"===t.overlayX&&o)I=e.x,E=r.right-e.x;else{const S=Math.min(r.right-e.x+r.left,e.x),O=this._lastBoundingBoxSize.width;E=2*S,I=e.x-S,E>O&&!this._isInitialRender&&!this._growAfterOpen&&(I=e.x-O/2)}return{top:u,left:I,bottom:h,right:A,width:E,height:c}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;o.height=Yn(r.height),o.top=Yn(r.top),o.bottom=Yn(r.bottom),o.width=Yn(r.width),o.left=Yn(r.left),o.right=Yn(r.right),o.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",o.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",c&&(o.maxHeight=Yn(c)),u&&(o.maxWidth=Yn(u))}this._lastBoundingBoxSize=r,yf(this._boundingBox.style,o)}_resetBoundingBoxStyles(){yf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){yf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},o=this._hasExactPosition(),c=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(o){const E=this._viewportRuler.getViewportScrollPosition();yf(r,this._getExactOverlayY(t,e,E)),yf(r,this._getExactOverlayX(t,e,E))}else r.position="static";let h="",g=this._getOffset(t,"x"),_=this._getOffset(t,"y");g&&(h+=`translateX(${g}px) `),_&&(h+=`translateY(${_}px)`),r.transform=h.trim(),u.maxHeight&&(o?r.maxHeight=Yn(u.maxHeight):c&&(r.maxHeight="")),u.maxWidth&&(o?r.maxWidth=Yn(u.maxWidth):c&&(r.maxWidth="")),yf(this._pane.style,r)}_getExactOverlayY(e,t,r){let o={top:"",bottom:""},c=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r)),"bottom"===e.overlayY?o.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":o.top=Yn(c.y),o}_getExactOverlayX(e,t,r){let u,o={left:"",right:""},c=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?o.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":o.left=Yn(c.x),o}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:M4(e,r),isOriginOutsideView:m2(e,r),isOverlayClipped:M4(t,r),isOverlayOutsideView:m2(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,o)=>r-Math.max(o,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Ox(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof p.aKT)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function yf(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function F4(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(WY);return t&&"px"!==t?null:parseFloat(e)}return n||null}function V4(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const L4="cdk-global-overlay-wrapper";class XY{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(L4),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:o,height:c,maxWidth:u,maxHeight:h}=r,g=!("100%"!==o&&"100vw"!==o||u&&"100%"!==u&&"100vw"!==u),_=!("100%"!==c&&"100vh"!==c||h&&"100%"!==h&&"100vh"!==h),E=this._xPosition,I=this._xOffset,A="rtl"===this._overlayRef.getConfig().direction;let S="",O="",B="";g?B="flex-start":"center"===E?(B="center",A?O=I:S=I):A?"left"===E||"end"===E?(B="flex-end",S=I):("right"===E||"start"===E)&&(B="flex-start",O=I):"left"===E||"start"===E?(B="flex-start",S=I):("right"===E||"end"===E)&&(B="flex-end",O=I),e.position=this._cssPosition,e.marginLeft=g?"0":S,e.marginTop=_?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=g?"0":O,t.justifyContent=B,t.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(L4),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let QY=(()=>{class n{constructor(t,r,o,c){this._viewportRuler=t,this._document=r,this._platform=o,this._overlayContainer=c}global(){return new XY}flexibleConnectedTo(t){return new qY(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(D4),p.KVO(be),p.KVO(yo),p.KVO(lR))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),YY=0,Pc=(()=>{class n{constructor(t,r,o,c,u,h,g,_,E,I,A,S){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=c,this._keyboardDispatcher=u,this._injector=h,this._ngZone=g,this._document=_,this._directionality=E,this._location=I,this._outsideClickDispatcher=A,this._animationsModuleType=S}create(t){const r=this._createHostElement(),o=this._createPaneElement(r),c=this._createPortalOutlet(o),u=new P4(t);return u.direction=u.direction||this._directionality.value,new uR(c,r,o,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(p.uvJ))}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+YY++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(p.o8S)),new k5(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(r){return new(r||n)(p.KVO($Y),p.KVO(lR),p.KVO(p.OM3),p.KVO(QY),p.KVO(zY),p.KVO(p.zZn),p.KVO(p.SKi),p.KVO(be),p.KVO(Ib),p.KVO(kn),p.KVO(GY),p.KVO(p.bc$,8))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const eZ={provide:new p.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,p.WQX)(Pc);return()=>n.scrollStrategies.reposition()}}),deps:[Pc],useFactory:function JY(n){return()=>n.scrollStrategies.reposition()}};let U4=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=p.$C({type:n})}static{this.\u0275inj=p.G2t({providers:[Pc,eZ],imports:[bb,Tb,S4,S4]})}}return n})();function tZ(n,e){}class dR{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let B4=(()=>{class n extends UL{constructor(t,r,o,c,u,h,g,_){super(),this._elementRef=t,this._focusTrapFactory=r,this._config=c,this._interactivityChecker=u,this._ngZone=h,this._overlayRef=g,this._focusMonitor=_,this._platform=(0,p.WQX)(yo),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,p.WQX)(p.gRc),this._injector=(0,p.WQX)(p.zZn),this._isDestroyed=!1,this.attachDomPortal=E=>{this._portalOutlet.hasAttached();const I=this._portalOutlet.attachDomPortal(E);return this._contentAttached(),I},this._document=o,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){const r=this._ariaLabelledByQueue.indexOf(t);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{t.removeEventListener("blur",o),t.removeEventListener("mousedown",o),t.removeAttribute("tabindex")};t.addEventListener("blur",o),t.addEventListener("mousedown",o)})),t.focus(r)}_focusByCssSelector(t,r){let o=this._elementRef.nativeElement.querySelector(t);o&&this._forceFocus(o,r)}_trapFocus(){this._isDestroyed||(0,p.mal)(()=>{const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const t=this._config.restoreFocus;let r=null;if("string"==typeof t?r=this._document.querySelector(t):"boolean"==typeof t?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&"function"==typeof r.focus){const o=SL(),c=this._elementRef.nativeElement;(!o||o===this._document.body||o===c||c.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=SL();return t===r||t.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=SL()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(r){return new(r||n)(p.rXU(p.aKT),p.rXU(zz),p.rXU(be,8),p.rXU(dR),p.rXU(RL),p.rXU(p.SKi),p.rXU(uR),p.rXU(ML))}}static{this.\u0275cmp=p.VBU({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(r,o){if(1&r&&p.GBs(Fx,7),2&r){let c;p.mGM(c=p.lsd())&&(o._portalOutlet=c.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,o){2&r&&p.BMQ("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},standalone:!0,features:[p.Vt3,p.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,o){1&r&&p.DNE(0,tZ,0,0,"ng-template",0)},dependencies:[Fx],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return n})();class _2{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new gt.B,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!Px(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const j4=new p.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=(0,p.WQX)(Pc);return()=>n.scrollStrategies.block()}}),nZ=new p.nKC("DialogData"),rZ=new p.nKC("DefaultDialogConfig");let oZ=0,$4=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,r,o,c,u,h){this._overlay=t,this._injector=r,this._defaultOptions=o,this._parentDialog=c,this._overlayContainer=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new gt.B,this._afterOpenedAtThisLevel=new gt.B,this._ariaHiddenElements=new Map,this.afterAllClosed=Sp(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ku(void 0))),this._scrollStrategy=h}open(t,r){(r={...this._defaultOptions||new dR,...r}).id=r.id||"cdk-dialog-"+oZ++,r.id&&this.getDialogById(r.id);const c=this._getOverlayConfig(r),u=this._overlay.create(c),h=new _2(u,r),g=this._attachContainer(u,h,r);return h.containerInstance=g,this._attachDialogContent(t,h,g,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.closed.subscribe(()=>this._removeOpenDialog(h,!0)),this.afterOpened.next(h),h}closeAll(){y2(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){y2(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),y2(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const r=new P4({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,o){const c=o.injector||o.viewContainerRef?.injector,u=[{provide:dR,useValue:o},{provide:_2,useValue:r},{provide:uR,useValue:t}];let h;o.container?"function"==typeof o.container?h=o.container:(h=o.container.type,u.push(...o.container.providers(o))):h=B4;const g=new VL(h,o.viewContainerRef,p.zZn.create({parent:c||this._injector,providers:u}),o.componentFactoryResolver);return t.attach(g).instance}_attachDialogContent(t,r,o,c){if(t instanceof p.C4Q){const u=this._createInjector(c,r,o,void 0);let h={$implicit:c.data,dialogRef:r};c.templateContext&&(h={...h,..."function"==typeof c.templateContext?c.templateContext():c.templateContext}),o.attachTemplatePortal(new LL(t,null,h,u))}else{const u=this._createInjector(c,r,o,this._injector),h=o.attachComponentPortal(new VL(t,c.viewContainerRef,u,c.componentFactoryResolver));r.componentRef=h,r.componentInstance=h.instance}}_createInjector(t,r,o,c){const u=t.injector||t.viewContainerRef?.injector,h=[{provide:nZ,useValue:t.data},{provide:_2,useValue:r}];return t.providers&&("function"==typeof t.providers?h.push(...t.providers(r,t,o)):h.push(...t.providers)),t.direction&&(!u||!u.get(Ib,null,{optional:!0}))&&h.push({provide:Ib,useValue:{value:t.direction,change:Pe()}}),p.zZn.create({parent:u||c,providers:h})}_removeOpenDialog(t,r){const o=this.openDialogs.indexOf(t);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((c,u)=>{c?u.setAttribute("aria-hidden",c):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let o=r.length-1;o>-1;o--){const c=r[o];c!==t&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(Pc),p.KVO(p.zZn),p.KVO(rZ,8),p.KVO(n,12),p.KVO(lR),p.KVO(j4))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function y2(n,e){let t=n.length;for(;t--;)e(n[t])}let sZ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=p.$C({type:n})}static{this.\u0275inj=p.G2t({providers:[$4],imports:[U4,Tb,e5,Tb]})}}return n})();function aZ(n,e){}class v2{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const E2="mdc-dialog--open",H4="mdc-dialog--opening",z4="mdc-dialog--closing";let G4=(()=>{class n extends B4{constructor(t,r,o,c,u,h,g,_,E){super(t,r,o,c,u,h,g,E),this._animationMode=_,this._animationStateChanged=new p.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?q4(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?q4(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(W4,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(H4,E2)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(E2),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(E2),this._animationsEnabled?(this._hostElement.style.setProperty(W4,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(z4)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(H4,z4)}_waitForAnimationToComplete(t,r){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(t){const r=super.attachComponentPortal(t);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}static{this.\u0275fac=function(r){return new(r||n)(p.rXU(p.aKT),p.rXU(zz),p.rXU(be,8),p.rXU(v2),p.rXU(RL),p.rXU(p.SKi),p.rXU(uR),p.rXU(p.bc$,8),p.rXU(ML))}}static{this.\u0275cmp=p.VBU({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,o){2&r&&(p.Mr5("id",o._config.id),p.BMQ("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),p.AVh("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},standalone:!0,features:[p.Vt3,p.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,o){1&r&&(p.j41(0,"div",0)(1,"div",1),p.DNE(2,aZ,0,0,"ng-template",2),p.k0s()())},dependencies:[Fx],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}}return n})();const W4="--mat-dialog-transition-duration";function q4(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?wb(n.substring(0,n.length-2)):n.endsWith("s")?1e3*wb(n.substring(0,n.length-1)):"0"===n?0:null}var hR=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(hR||{});class Ub{constructor(e,t,r){this._ref=e,this._containerInstance=r,this._afterOpened=new gt.B,this._beforeClosed=new gt.B,this._state=hR.OPEN,this.disableClose=t.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),r._animationStateChanged.pipe((0,xn.p)(o=>"opened"===o.state),(0,Ei.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe((0,xn.p)(o=>"closed"===o.state),(0,Ei.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),BL(this.backdropClick(),this.keydownEvents().pipe((0,xn.p)(o=>27===o.keyCode&&!this.disableClose&&!Px(o)))).subscribe(o=>{this.disableClose||(o.preventDefault(),function K4(n,e,t){return n._closeInteractionType=e,n.close(t)}(this,"keydown"===o.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe((0,xn.p)(t=>"closing"===t.state),(0,Ei.s)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=hR.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=hR.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const uZ=new p.nKC("MatMdcDialogData"),dZ=new p.nKC("mat-mdc-dialog-default-options"),X4=new p.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,p.WQX)(Pc);return()=>n.scrollStrategies.block()}});let fZ=0,fR=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,r,o,c,u,h,g,_){this._overlay=t,this._defaultOptions=c,this._scrollStrategy=u,this._parentDialog=h,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new gt.B,this._afterOpenedAtThisLevel=new gt.B,this.dialogConfigClass=v2,this.afterAllClosed=Sp(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ku(void 0))),this._dialog=r.get($4),this._dialogRefConstructor=Ub,this._dialogContainerType=G4,this._dialogDataToken=uZ}open(t,r){let o;(r={...this._defaultOptions||new v2,...r}).id=r.id||"mat-mdc-dialog-"+fZ++,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const c=this._dialog.open(t,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:dR,useValue:r}]},templateContext:()=>({dialogRef:o}),providers:(u,h,g)=>(o=new this._dialogRefConstructor(u,r,g),o.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:g},{provide:this._dialogDataToken,useValue:h.data},{provide:this._dialogRefConstructor,useValue:o}])});return o.componentRef=c.componentRef,o.componentInstance=c.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{const u=this.openDialogs.indexOf(o);u>-1&&(this.openDialogs.splice(u,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(Pc),p.KVO(p.zZn),p.KVO(kn,8),p.KVO(dZ,8),p.KVO(X4),p.KVO(n,12),p.KVO(lR),p.KVO(p.bc$,8))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pZ=0,Q4=(()=>{class n{constructor(t,r,o){this._dialogRef=t,this._elementRef=r,this._dialog=o}ngOnInit(){this._dialogRef||(this._dialogRef=function Y4(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static{this.\u0275fac=function(r){return new(r||n)(p.rXU(Ub,8),p.rXU(p.aKT),p.rXU(fR))}}static{this.\u0275dir=p.FsC({type:n,standalone:!0})}}return n})(),w2=(()=>{class n extends Q4{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+pZ++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=p.xGo(n)))(o||n)}})()}static{this.\u0275dir=p.FsC({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(r,o){2&r&&p.Mr5("id",o.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[p.Vt3]})}}return n})(),I2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=p.FsC({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[p.nM4([VY])]})}}return n})();let _Z=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=p.$C({type:n})}static{this.\u0275inj=p.G2t({providers:[fR],imports:[sZ,U4,Tb,ts,ts]})}}return n})(),J4=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(p.rXU(p.sFG),p.rXU(p.aKT))}}static{this.\u0275dir=p.FsC({type:n})}}return n})(),vf=(()=>{class n extends J4{static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=p.xGo(n)))(o||n)}})()}static{this.\u0275dir=p.FsC({type:n,features:[p.Vt3]})}}return n})();const aa=new p.nKC(""),vZ={provide:aa,useExisting:(0,p.Rfq)(()=>pR),multi:!0},wZ=new p.nKC("");let pR=(()=>{class n extends J4{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function EZ(){const n=Ee()?Ee().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(p.rXU(p.sFG),p.rXU(p.aKT),p.rXU(wZ,8))}}static{this.\u0275dir=p.FsC({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&p.bIt("input",function(u){return o._handleInput(u.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(u){return o._compositionEnd(u.target.value)})},features:[p.Jv_([vZ]),p.Vt3]})}}return n})();const qr=new p.nKC(""),du=new p.nKC("");function iW(n){return function uu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function gR(n){return null}function uW(n){return null!=n}function dW(n){return(0,p.jNT)(n)?Wn(n):n}function hW(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function fW(n,e){return e.map(t=>t(n))}function pW(n){return n.map(e=>function bZ(n){return!n.validate}(e)?e:t=>e.validate(t))}function b2(n){return null!=n?function gW(n){if(!n)return null;const e=n.filter(uW);return 0==e.length?null:function(t){return hW(fW(t,e))}}(pW(n)):null}function C2(n){return null!=n?function mW(n){if(!n)return null;const e=n.filter(uW);return 0==e.length?null:function(t){return TL(fW(t,e).map(dW)).pipe((0,lt.T)(hW))}}(pW(n)):null}function _W(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function T2(n){return n?Array.isArray(n)?n:[n]:[]}function mR(n,e){return Array.isArray(n)?n.includes(e):n===e}function EW(n,e){const t=T2(e);return T2(n).forEach(o=>{mR(t,o)||t.push(o)}),t}function wW(n,e){return T2(e).filter(t=>!mR(n,t))}class IW{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=b2(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=C2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ui extends IW{get formDirective(){return null}get path(){return null}}class hu extends IW{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bW{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let CW=(()=>{class n extends bW{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(p.rXU(hu,2))}}static{this.\u0275dir=p.FsC({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&p.AVh("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[p.Vt3]})}}return n})(),TW=(()=>{class n extends bW{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(p.rXU(ui,10))}}static{this.\u0275dir=p.FsC({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){2&r&&p.AVh("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[p.Vt3]})}}return n})();const Bb="VALID",yR="INVALID",U_="PENDING",jb="DISABLED";class B_{}class AW extends B_{constructor(e,t){super(),this.value=e,this.source=t}}class S2 extends B_{constructor(e,t){super(),this.pristine=e,this.source=t}}class x2 extends B_{constructor(e,t){super(),this.touched=e,this.source=t}}class vR extends B_{constructor(e,t){super(),this.status=e,this.source=t}}function R2(n){return(ER(n)?n.validators:n)||null}function M2(n,e){return(ER(e)?e.asyncValidators:n)||null}function ER(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class P2{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,p.EWP)(()=>this.statusReactive()),this.statusReactive=(0,p.vPA)(void 0),this._pristine=(0,p.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,p.vPA)(!0),this._touched=(0,p.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,p.vPA)(!1),this._events=new gt.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return(0,p.O8t)(this.statusReactive)}set status(e){(0,p.O8t)(()=>this.statusReactive.set(e))}get valid(){return this.status===Bb}get invalid(){return this.status===yR}get pending(){return this.status==U_}get disabled(){return this.status===jb}get enabled(){return this.status!==jb}get pristine(){return(0,p.O8t)(this.pristineReactive)}set pristine(e){(0,p.O8t)(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return(0,p.O8t)(this.touchedReactive)}set touched(e){(0,p.O8t)(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(EW(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(EW(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wW(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wW(e,this._rawAsyncValidators))}hasValidator(e){return mR(this._rawValidators,e)}hasAsyncValidator(e){return mR(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){const t=!1===this.touched;this.touched=!0;const r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched({...e,sourceControl:r}),t&&!1!==e.emitEvent&&this._events.next(new x2(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){const t=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=e.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&!1!==e.emitEvent&&this._events.next(new x2(!1,r))}markAsDirty(e={}){const t=!0===this.pristine;this.pristine=!1;const r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty({...e,sourceControl:r}),t&&!1!==e.emitEvent&&this._events.next(new S2(!1,r))}markAsPristine(e={}){const t=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=e.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&!1!==e.emitEvent&&this._events.next(new S2(!0,r))}markAsPending(e={}){this.status=U_;const t=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new vR(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending({...e,sourceControl:t})}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=jb,this.errors=null,this._forEachChild(o=>{o.disable({...e,onlySelf:!0})}),this._updateValue();const r=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new AW(this.value,r)),this._events.next(new vR(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t},this),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Bb,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bb||this.status===U_)&&this._runAsyncValidator(r,e.emitEvent)}const t=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new AW(this.value,t)),this._events.next(new vR(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity({...e,sourceControl:t})}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jb:Bb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=U_,this._hasOwnPendingAsyncValidator={emitEvent:!1!==t};const r=dW(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent,this,t.shouldHaveEmitted)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new vR(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new p.bkB,this.statusChanges=new p.bkB}_calculateStatus(){return this._allControlsDisabled()?jb:this.errors?yR:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(U_)?U_:this._anyControlsHaveStatus(yR)?yR:Bb}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){const r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),o&&this._events.next(new S2(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new x2(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ER(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function RZ(n){return Array.isArray(n)?b2(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function MZ(n){return Array.isArray(n)?C2(n):n||null}(this._rawAsyncValidators)}}class O2 extends P2{constructor(e,t,r){super(R2(t),M2(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function xW(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new p.wOt(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function SW(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new p.wOt(1e3,"");if(!r[t])throw new p.wOt(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e?e[o]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,c)=>{r=t(r,o,c)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const j_=new p.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>wR}),wR="always";function $b(n,e,t=wR){N2(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function NZ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&RW(n,e)})}(n,e),function FZ(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function kZ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&RW(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function OZ(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function CR(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function N2(n,e){const t=function yW(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(_W(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function vW(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(_W(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();CR(e._rawValidators,o),CR(e._rawAsyncValidators,o)}function RW(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const jZ={provide:ui,useExisting:(0,p.Rfq)(()=>DR)},Hb=Promise.resolve();let DR=(()=>{class n extends ui{get submitted(){return(0,p.O8t)(this.submittedReactive)}constructor(t,r,o){super(),this.callSetDisabledState=o,this._submitted=(0,p.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,p.vPA)(!1),this._directives=new Set,this.ngSubmit=new p.bkB,this.form=new O2({},b2(t),C2(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Hb.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),$b(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Hb.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Hb.then(()=>{const r=this._findContainer(t.path),o=new O2({});(function MW(n,e){N2(n,e)})(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Hb.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Hb.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),function PW(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(p.rXU(qr,10),p.rXU(du,10),p.rXU(j_,8))}}static{this.\u0275dir=p.FsC({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){1&r&&p.bIt("submit",function(u){return o.onSubmit(u)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p.Jv_([jZ]),p.Vt3]})}}return n})();function OW(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function NW(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const kW=class extends P2{constructor(e=null,t,r){super(R2(t),M2(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ER(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=NW(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){OW(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){OW(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){NW(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},zZ={provide:hu,useExisting:(0,p.Rfq)(()=>L2)},LW=Promise.resolve();let L2=(()=>{class n extends hu{constructor(t,r,o,c,u,h){super(),this._changeDetectorRef=u,this.callSetDisabledState=h,this.control=new kW,this._registered=!1,this.name="",this.update=new p.bkB,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function V2(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(c=>{c.constructor===pR?t=c:function UZ(n){return Object.getPrototypeOf(n.constructor)===vf}(c)?r=c:o=c}),o||r||t||null}(0,c)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function F2(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){$b(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){LW.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&(0,p.L39)(r);LW.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function IR(n,e){return[...e.path,n]}(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(p.rXU(ui,9),p.rXU(qr,10),p.rXU(du,10),p.rXU(aa,10),p.rXU(p.gRc,8),p.rXU(j_,8))}}static{this.\u0275dir=p.FsC({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p.Jv_([zZ]),p.Vt3,p.OA$]})}}return n})(),UW=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=p.FsC({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),Ef=(()=>{class n{constructor(){this._validator=gR}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):gR,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=p.FsC({type:n,features:[p.OA$]})}}return n})();const cJ={provide:qr,useExisting:(0,p.Rfq)(()=>AR),multi:!0};let AR=(()=>{class n extends Ef{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=p.L39,this.createValidator=t=>iW}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=p.xGo(n)))(o||n)}})()}static{this.\u0275dir=p.FsC({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){2&r&&p.BMQ("required",o._enabled?"":null)},inputs:{required:"required"},features:[p.Jv_([cJ]),p.Vt3]})}}return n})(),pJ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=p.$C({type:n})}static{this.\u0275inj=p.G2t({})}}return n})(),mJ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:j_,useValue:t.callSetDisabledState??wR}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=p.$C({type:n})}static{this.\u0275inj=p.G2t({imports:[pJ]})}}return n})();var i3=Z(707);function z2(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new i3.Ms({next:()=>{r.unsubscribe(),n()}});return rr(e(...t)).subscribe(r)}const yJ=["*"];let SR;function zb(n){return function vJ(){if(void 0===SR&&(SR=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(SR=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return SR}()?.createHTML(n)||n}function o3(n){return Error(`Unable to find icon with the name "${n}"`)}function s3(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function a3(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class wf{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let xR=(()=>{class n{constructor(t,r,o,c){this._httpClient=t,this._sanitizer=r,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(t,r,o){return this.addSvgIconInNamespace("",t,r,o)}addSvgIconLiteral(t,r,o){return this.addSvgIconLiteralInNamespace("",t,r,o)}addSvgIconInNamespace(t,r,o,c){return this._addSvgIconConfig(t,r,new wf(o,null,c))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,o,c){const u=this._sanitizer.sanitize(p.WPN.HTML,o);if(!u)throw a3(o);const h=zb(u);return this._addSvgIconConfig(t,r,new wf("",h,c))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,o){return this._addSvgIconSetConfig(t,new wf(r,null,o))}addSvgIconSetLiteralInNamespace(t,r,o){const c=this._sanitizer.sanitize(p.WPN.HTML,r);if(!c)throw a3(r);const u=zb(c);return this._addSvgIconSetConfig(t,new wf("",u,o))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(p.WPN.RESOURCE_URL,t);if(!r)throw s3(t);const o=this._cachedIconsByUrl.get(r);return o?Pe(RR(o)):this._loadSvgIconFromConfig(new wf(t,null)).pipe(hn(c=>this._cachedIconsByUrl.set(r,c)),(0,lt.T)(c=>RR(c)))}getNamedSvgIcon(t,r=""){const o=c3(r,t);let c=this._svgIconConfigs.get(o);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(r,t),c)return this._svgIconConfigs.set(o,c),this._getSvgFromConfig(c);const u=this._iconSetConfigs.get(r);return u?this._getSvgFromIconSetConfigs(t,u):qu(o3(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Pe(RR(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,lt.T)(r=>RR(r)))}_getSvgFromIconSetConfigs(t,r){const o=this._extractIconWithNameFromAnySet(t,r);return o?Pe(o):TL(r.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(ni(h=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(p.WPN.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(_)),Pe(null)})))).pipe((0,lt.T)(()=>{const u=this._extractIconWithNameFromAnySet(t,r);if(!u)throw o3(t);return u}))}_extractIconWithNameFromAnySet(t,r){for(let o=r.length-1;o>=0;o--){const c=r[o];if(c.svgText&&c.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(c),h=this._extractSvgIconFromSet(u,t,c.options);if(h)return h}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(hn(r=>t.svgText=r),(0,lt.T)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Pe(null):this._fetchIcon(t).pipe(hn(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,o){const c=t.querySelector(`[id="${r}"]`);if(!c)return null;const u=c.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,o);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),o);const h=this._svgElementFromString(zb("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,o)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(t){const r=this._svgElementFromString(zb("<svg></svg>")),o=t.attributes;for(let c=0;c<o.length;c++){const{name:u,value:h}=o[c];"id"!==u&&r.setAttribute(u,h)}for(let c=0;c<t.childNodes.length;c++)t.childNodes[c].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[c].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:o}=t,c=o?.withCredentials??!1;if(!this._httpClient)throw function EJ(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const u=this._sanitizer.sanitize(p.WPN.RESOURCE_URL,r);if(!u)throw s3(r);const h=this._inProgressUrlFetches.get(u);if(h)return h;const g=this._httpClient.get(u,{responseType:"text",withCredentials:c}).pipe((0,lt.T)(_=>zb(_)),Yu(()=>this._inProgressUrlFetches.delete(u)),function _J(n={}){const{connector:e=()=>new gt.B,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=n;return c=>{let u,h,g,_=0,E=!1,I=!1;const A=()=>{h?.unsubscribe(),h=void 0},S=()=>{A(),u=g=void 0,E=I=!1},O=()=>{const B=u;S(),B?.unsubscribe()};return(0,hr.N)((B,P)=>{_++,!I&&!E&&A();const U=g=g??e();P.add(()=>{_--,0===_&&!I&&!E&&(h=z2(O,o))}),U.subscribe(P),!u&&_>0&&(u=new i3.Ms({next:K=>U.next(K),error:K=>{I=!0,A(),h=z2(S,t,K),U.error(K)},complete:()=>{E=!0,A(),h=z2(S,r),U.complete()}}),rr(B).subscribe(u))})(c)}}());return this._inProgressUrlFetches.set(u,g),g}_addSvgIconConfig(t,r,o){return this._svgIconConfigs.set(c3(t,r),o),this}_addSvgIconSetConfig(t,r){const o=this._iconSetConfigs.get(t);return o?o.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let o=0;o<this._resolvers.length;o++){const c=this._resolvers[o](r,t);if(c)return IJ(c)?new wf(c.url,null,c.options):new wf(c,null)}}static{this.\u0275fac=function(r){return new(r||n)(p.KVO(We,8),p.KVO(av),p.KVO(be,8),p.KVO(p.zcH))}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function RR(n){return n.cloneNode(!0)}function c3(n,e){return n+":"+e}function IJ(n){return!(!n.url||!n.options)}const bJ=new p.nKC("MAT_ICON_DEFAULT_OPTIONS"),CJ=new p.nKC("mat-icon-location",{providedIn:"root",factory:function TJ(){const n=(0,p.WQX)(be),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),l3=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],DJ=l3.map(n=>`[${n}]`).join(", "),AJ=/^url\(['"]?#(.*?)['"]?\)$/;let G2=(()=>{class n{get color(){return this._color||this._defaultColor}set color(t){this._color=t}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(t,r,o,c,u,h){this._elementRef=t,this._iconRegistry=r,this._location=c,this._errorHandler=u,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=vi.yU.EMPTY,h&&(h.color&&(this.color=this._defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),o||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const o=t.childNodes[r];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>t.classList.remove(o)),r.forEach(o=>t.classList.add(o)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((o,c)=>{o.forEach(u=>{c.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(DJ),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<r.length;c++)l3.forEach(u=>{const h=r[c],g=h.getAttribute(u),_=g?g.match(AJ):null;if(_){let E=o.get(h);E||(E=[],o.set(h,E)),E.push({name:u,value:_[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,o]=this._splitIconName(t);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe((0,Ei.s)(1)).subscribe(c=>this._setSvgElement(c),c=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${o}! ${c.message}`))})}}static{this.\u0275fac=function(r){return new(r||n)(p.rXU(p.aKT),p.rXU(xR),p.kS0("aria-hidden"),p.rXU(CJ),p.rXU(p.zcH),p.rXU(bJ,8))}}static{this.\u0275cmp=p.VBU({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,o){2&r&&(p.BMQ("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),p.HbH(o.color?"mat-"+o.color:""),p.AVh("mat-icon-inline",o.inline)("mat-icon-no-color","primary"!==o.color&&"accent"!==o.color&&"warn"!==o.color))},inputs:{color:"color",inline:[2,"inline","inline",p.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[p.GFd,p.aNF],ngContentSelectors:yJ,decls:1,vars:0,template:function(r,o){1&r&&(p.NAR(),p.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return n})(),SJ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=p.$C({type:n})}static{this.\u0275inj=p.G2t({imports:[ts,ts]})}}return n})(),xJ=(()=>{class n{password="test";canEdit=!1;onSubmit(t){const r=t.value.password;console.log(r),r===this.password?(console.log("Privileges granted"),this.canEdit=!0,t.reset(),this.dialogRef.close(this.canEdit)):console.log("Incorrect password"),t.reset()}dialogRef;constructor(t){this.dialogRef=t,this.canEdit=!1}ngOnInit(){}onCloseClick(){this.dialogRef.close()}static \u0275fac=function(r){return new(r||n)(p.rXU(Ub))};static \u0275cmp=p.VBU({type:n,selectors:[["ftapp-logindialog"]],decls:13,vars:0,consts:[["myForm","ngForm"],[1,"dialog-header"],["mat-dialog-title",""],[1,"close-icon",3,"click"],[3,"ngSubmit"],["type","password","id","password","name","password","ngModel","","required",""],["type","submit",1,"btn","btn-primary"]],template:function(r,o){if(1&r){const c=p.RV6();p.j41(0,"div",1)(1,"h2",2),p.EFF(2,"Admin mode required"),p.k0s(),p.j41(3,"mat-icon",3),p.bIt("click",function(){return p.eBV(c),p.Njj(o.onCloseClick())}),p.EFF(4,"close"),p.k0s()(),p.j41(5,"mat-dialog-content")(6,"p"),p.EFF(7,"Please enter the password!"),p.k0s(),p.j41(8,"form",4,0),p.bIt("ngSubmit",function(){p.eBV(c);const h=p.sdS(9);return p.Njj(o.onSubmit(h))}),p.nrm(10,"input",5),p.j41(11,"button",6),p.EFF(12,"Submit"),p.k0s()()()}},dependencies:[UW,pR,CW,TW,AR,L2,DR,G2,w2,I2],styles:[".mat-mdc-dialog-surface{--mdc-dialog-container-color: white;color:#000;border-radius:8px;padding:24px;position:relative}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;position:relative}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#000;font-size:18px;font-weight:400;margin-right:16px}.close-icon[_ngcontent-%COMP%]{cursor:pointer;font-size:24px;color:#000;position:absolute;top:10px;right:10px;width:36px;height:36px;display:flex;justify-content:center;align-items:center;background:#fff;border-radius:50%;box-shadow:0 2px 5px #0003}mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.password-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.password-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;border-radius:4px}.password-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-start}mat-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end}  mat-dialog-content p{color:#333}"]})}return n})(),RJ=(()=>{class n{dialogRef;constructor(t){this.dialogRef=t}ngOnInit(){}onCloseClick(){this.dialogRef.close()}static \u0275fac=function(r){return new(r||n)(p.rXU(Ub))};static \u0275cmp=p.VBU({type:n,selectors:[["ftapp-infodialog"]],decls:10,vars:0,consts:[[1,"dialog-header"],["mat-dialog-title",""],[1,"close-icon",3,"click"],["href","https://helpful-sprite-4ff97a.netlify.app"]],template:function(r,o){1&r&&(p.j41(0,"div",0)(1,"h2",1),p.EFF(2,"Website information"),p.k0s(),p.j41(3,"mat-icon",2),p.bIt("click",function(){return o.onCloseClick()}),p.EFF(4,"close"),p.k0s()(),p.j41(5,"mat-dialog-content")(6,"p"),p.EFF(7,"This website was created by Boros Titusz, 2024.08.07"),p.k0s(),p.j41(8,"a",3),p.EFF(9,"Contact me here"),p.k0s()())},dependencies:[G2,w2,I2],styles:[".mat-mdc-dialog-surface{--mdc-dialog-container-color: white;color:#000;border-radius:8px;padding:24px;position:relative}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;position:relative}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#000;font-size:18px;font-weight:400;margin-right:16px}.close-icon[_ngcontent-%COMP%]{cursor:pointer;font-size:24px;color:#000;position:absolute;top:10px;right:10px;width:36px;height:36px;display:flex;justify-content:center;align-items:center;background:#fff;border-radius:50%;box-shadow:0 2px 5px #0003}mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-dialog-actions[_ngcontent-%COMP%]{display:none}mat-dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000}"]})}return n})(),MJ=(()=>{class n{canEditSubject=new pn.t(!1);canEdit$=this.canEditSubject.asObservable();setCanEdit(t){this.canEditSubject.next(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const PJ=["*",[["mat-toolbar-row"]]],OJ=["*","mat-toolbar-row"];let NJ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=p.FsC({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return n})(),kJ=(()=>{class n{constructor(t,r,o){this._elementRef=t,this._platform=r,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static{this.\u0275fac=function(r){return new(r||n)(p.rXU(p.aKT),p.rXU(yo),p.rXU(be))}}static{this.\u0275cmp=p.VBU({type:n,selectors:[["mat-toolbar"]],contentQueries:function(r,o,c){if(1&r&&p.wni(c,NJ,5),2&r){let u;p.mGM(u=p.lsd())&&(o._toolbarRows=u)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,o){2&r&&(p.HbH(o.color?"mat-"+o.color:""),p.AVh("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",0===o._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[p.aNF],ngContentSelectors:OJ,decls:2,vars:0,template:function(r,o){1&r&&(p.NAR(PJ),p.SdG(0),p.SdG(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-app-surface));color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-app-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-app-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-app-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-app-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-app-title-large-tracking));margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return n})(),FJ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=p.$C({type:n})}static{this.\u0275inj=p.G2t({imports:[ts,ts]})}}return n})();function VJ(n,e){if(1&n){const t=p.RV6();p.j41(0,"button",4),p.bIt("click",function(){p.eBV(t);const o=p.XpG();return p.Njj(o.openLoginDialog())}),p.j41(1,"mat-icon"),p.EFF(2,"edit"),p.k0s()()}}function LJ(n,e){if(1&n){const t=p.RV6();p.j41(0,"button",4),p.bIt("click",function(){p.eBV(t);const o=p.XpG();return p.Njj(o.saveData())}),p.j41(1,"mat-icon"),p.EFF(2,"check"),p.k0s()()}}let UJ=(()=>{class n{dialog;editModeService;canEdit=!1;constructor(t,r){this.dialog=t,this.editModeService=r}ngOnInit(){}saveData(){this.canEdit=!1,this.editModeService.setCanEdit(!1)}openLoginDialog(){this.dialog.open(xJ).afterClosed().subscribe(r=>{this.canEdit=!0===r,this.editModeService.setCanEdit(this.canEdit),console.log("The dialog was closed"),console.log("canEdit:",this.canEdit)})}openInfoDialog(){this.dialog.open(RJ).afterClosed().subscribe(()=>{console.log("The dialog was closed")})}static \u0275fac=function(r){return new(r||n)(p.rXU(fR),p.rXU(MJ))};static \u0275cmp=p.VBU({type:n,selectors:[["ftapp-header"]],decls:9,vars:2,consts:[[1,"top-toolbar"],[1,"example-spacer"],["mat-icon-button","","class","edit-icon","aria-label","Edit icon",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","Info icon",1,"info-icon",3,"click"],["mat-icon-button","","aria-label","Edit icon",1,"edit-icon",3,"click"]],template:function(r,o){1&r&&(p.j41(0,"mat-toolbar",0)(1,"span"),p.EFF(2,"Family Tree App"),p.k0s(),p.nrm(3,"span",1),p.DNE(4,VJ,3,0,"button",2)(5,LJ,3,0,"button",2),p.j41(6,"button",3),p.bIt("click",function(){return o.openInfoDialog()}),p.j41(7,"mat-icon"),p.EFF(8,"info"),p.k0s()()()),2&r&&(p.R7$(4),p.Y8G("ngIf",!o.canEdit),p.R7$(),p.Y8G("ngIf",o.canEdit))},dependencies:[Ff,kJ,G2],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.top-toolbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;background-color:#cfcdcd;color:#000;z-index:1000}"]})}return n})(),BJ=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=p.VBU({type:n,selectors:[["ftapp-footer"]],decls:4,vars:0,consts:[[1,"bottom-card"],[1,"footer-content"]],template:function(r,o){1&r&&(p.j41(0,"footer",0)(1,"div",1)(2,"p"),p.EFF(3,"Boros Titusz - 2024"),p.k0s()()())},styles:[".bottom-card[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;background-color:#333;color:#fff;border-top:1px solid #444;box-shadow:0 -2px 10px #0000001a;display:flex;justify-content:center;align-items:center;padding:10px}.footer-content[_ngcontent-%COMP%]{text-align:center}.footer-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.footer-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:4px;padding:10px 20px;font-size:14px;cursor:pointer;transition:background-color .3s ease}.footer-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return n})(),u3=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=p.VBU({type:n,selectors:[["ftapp-home"]],decls:3,vars:0,template:function(r,o){1&r&&p.nrm(0,"ftapp-header")(1,"ftapp-desktop")(2,"ftapp-footer")},dependencies:[mY,UJ,BJ],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;overflow:hidden}ftapp-top-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;background-color:#fff;color:#fff;z-index:1000;height:64px}ftapp-bottom-card[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;background-color:#333;color:#fff;border-top:1px solid #444;box-shadow:0 -2px 10px #0000001a;display:flex;justify-content:center;align-items:center;padding:10px;height:60px}ftapp-desktop[_ngcontent-%COMP%]{margin-top:400px;margin-bottom:400px;padding:16px;height:calc(100vh - 124px);overflow:auto}"]})}return n})();const jJ=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:u3},{path:"**",component:(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=p.VBU({type:n,selectors:[["ftapp-notfound"]],decls:4,vars:0,consts:[["mat-card-image","","src","assets/404.png","alt","404"]],template:function(r,o){1&r&&(p.j41(0,"div")(1,"h1"),p.EFF(2," The resource you are looking for does not exist! "),p.k0s(),p.nrm(3,"img",0),p.k0s())}})}return n})()}];let $J=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=p.$C({type:n});static \u0275inj=p.G2t({imports:[Ds.forRoot(jJ),Ds]})}return n})(),HJ=(()=>{class n{title="familytreeapp";static \u0275fac=function(r){return new(r||n)};static \u0275cmp=p.VBU({type:n,selectors:[["ftapp-root"]],decls:1,vars:0,template:function(r,o){1&r&&p.nrm(0,"ftapp-home")},dependencies:[u3],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;overflow:hidden}ftapp-top-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;background-color:#fff;color:#fff;z-index:1000;height:64px}ftapp-bottom-card[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;background-color:#333;color:#fff;border-top:1px solid #444;box-shadow:0 -2px 10px #0000001a;display:flex;justify-content:center;align-items:center;padding:10px;height:60px}ftapp-desktop[_ngcontent-%COMP%]{margin-top:400px;margin-bottom:400px;padding:16px;height:calc(100vh - 124px);overflow:auto}"]})}return n})();class zJ{constructor(e,t){this._delegate=e,this.firebase=t,Rd(e,new Ss("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),gg(this._delegate)))}_getService(e,t=Fo){var r;this._delegate.checkDestroyed();const o=this._delegate.container.getProvider(e);return!o.isInitialized()&&"EXPLICIT"===(null===(r=o.getComponent())||void 0===r?void 0:r.instantiationMode)&&o.initialize(),o.getImmediate({identifier:t})}_removeServiceInstance(e,t=Fo){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Rd(this._delegate,e)}_addOrOverwriteComponent(e){wE(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const d3=new Ti("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),qJ=function h3(){const n=function WJ(n){const e={},t={__esModule:!0,initializeApp:function c(_,E={}){const I=IE(_,E);if(LT(e,I.name))return e[I.name];const A=new n(I,t);return e[I.name]=A,A},app:o,registerVersion:Kn,setLogLevel:lD,onLog:yN,apps:null,SDK_VERSION:ii,INTERNAL:{registerComponent:function h(_){const E=_.name,I=E.replace("-compat","");if(Ms(_)&&"PUBLIC"===_.type){const A=(S=o())=>{if("function"!=typeof S[I])throw d3.create("invalid-app-argument",{appName:E});return S[I]()};void 0!==_.serviceProps&&Id(A,_.serviceProps),t[I]=A,n.prototype[I]=function(...S){return this._getService.bind(this,E).apply(this,_.multipleInstances?S:[])}}return"PUBLIC"===_.type?t[I]:null},removeApp:function r(_){delete e[_]},useAsService:function g(_,E){return"serverAuth"===E?null:E},modularAPIs:ge}};function o(_){if(!LT(e,_=_||Fo))throw d3.create("no-app",{appName:_});return e[_]}return t.default=t,Object.defineProperty(t,"apps",{get:function u(){return Object.keys(e).map(_=>e[_])}}),o.App=n,t}(zJ);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:h3,extendNamespace:function e(t){Id(n,t)},createSubscribe:BT,ErrorFactory:Ti,deepExtend:Id}),n}(),f3=new Dd("@firebase/app-compat");try{const n=ST();if(void 0!==n.firebase){f3.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&f3.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const $_=qJ;!function QJ(n){Kn("@firebase/app-compat","0.2.42",n)}(),$_.registerVersion("firebase","10.14.0","app-compat");class p3{constructor(e){return e}}const g3=new p.nKC("angularfire2.app.options"),m3=new p.nKC("angularfire2.app.name"),nee={provide:p3,useFactory:function eee(n,e,t){const o="object"==typeof t&&t||{};o.name=o.name||"string"==typeof t&&t||"[DEFAULT]";const u=$_.apps.filter(h=>h&&h.name===o.name)[0]||e.runOutsideAngular(()=>$_.initializeApp(n,o));try{if(JSON.stringify(n)!==JSON.stringify(u.options)){const h=!!module.hot;((n,...e)=>{(0,p.naY)()&&typeof console<"u"&&console[n](...e)})("error",`${u.name} Firebase App already initialized with different options${h?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new p3(u)},deps:[g3,p.SKi,[new p.Xx1,m3]]};let ree=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:g3,useValue:t},{provide:m3,useValue:r}]}}constructor(t){$_.registerVersion("angularfire",Ya.full,"core"),$_.registerVersion("angularfire",Ya.full,"app-compat"),$_.registerVersion("angular",p.xvI.full,t.toString())}static \u0275fac=function(r){return new(r||n)(p.KVO(p.Agw))};static \u0275mod=p.$C({type:n});static \u0275inj=p.G2t({providers:[nee]})}return n})();typeof module<"u"&&module,globalThis.\u0275AngularfireInstanceCache||=[];const see_firebase={apiKey:"AIzaSyBMJV1Vv0VH0Umvs2-rAqTg2c5ptH__rd8",authDomain:"familytreedatabase-c8bf3.firebaseapp.com",projectId:"familytreedatabase-c8bf3",storageBucket:"familytreedatabase-c8bf3.appspot.com",messagingSenderId:"83738970274",appId:"1:83738970274:web:e0c8a989d6646c6c7daffb",measurementId:"G-5GBNW3TGEB"};let cee=(()=>{class n{constructor(t,r,o,c,u){this.doc=t,this.delegate=r,this.zone=o,this.animationType=c,this.moduleImpl=u,this._rendererFactoryPromise=null,this.scheduler=(0,p.WQX)(p.An2,{optional:!0}),this.loadingSchedulerFn=(0,p.WQX)(uee,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){const t=()=>this.moduleImpl??Z.e(8).then(Z.bind(Z,8)).then(o=>o);let r;return r=this.loadingSchedulerFn?this.loadingSchedulerFn(t):t(),r.catch(o=>{throw new p.wOt(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:c})=>{this._engine=o(this.animationType,this.doc);const u=new c(this.delegate,this._engine,this.zone);return this.delegate=u,u})}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(0===o.\u0275type)return o;"boolean"==typeof o.throwOnSyntheticProps&&(o.throwOnSyntheticProps=!1);const c=new lee(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(u=>{const h=u.createRenderer(t,r);c.use(h),this.scheduler?.notify(10)}).catch(u=>{c.use(o)}),c}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(r){p.QTQ()}}static{this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac})}}return n})();class lee{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,null!==this.replay){for(const t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,r,o){this.delegate.insertBefore(e,t,r,o)}removeChild(e,t,r){this.delegate.removeChild(e,t,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,o){this.delegate.setAttribute(e,t,r,o)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,o){this.delegate.setStyle(e,t,r,o)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){this.shouldReplay(t)&&this.replay.push(o=>o.setProperty(e,t,r)),this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.shouldReplay(t)&&this.replay.push(o=>o.listen(e,t,r)),this.delegate.listen(e,t,r)}shouldReplay(e){return null!==this.replay&&e.startsWith("@")}}const uee=new p.nKC("");function dee(n="animations"){return(0,p.ngT)("NgAsyncAnimations"),(0,p.EmA)([{provide:p._9s,useFactory:(e,t,r)=>new cee(e,t,r,n),deps:[be,Qc,p.SKi]},{provide:p.bc$,useValue:"noop"===n?"NoopAnimations":"BrowserAnimations"}])}let hee=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=p.$C({type:n,bootstrap:[HJ]});static \u0275inj=p.G2t({providers:[Ca(),wD(()=>bD({projectId:"familytreedatabase-c8bf3",appId:"1:83738970274:web:e0c8a989d6646c6c7daffb",storageBucket:"familytreedatabase-c8bf3.appspot.com",apiKey:"AIzaSyBMJV1Vv0VH0Umvs2-rAqTg2c5ptH__rd8",authDomain:"familytreedatabase-c8bf3.firebaseapp.com",messagingSenderId:"83738970274",measurementId:"G-5GBNW3TGEB"})),h1(()=>uI()),Y6(()=>Z6()),dee()],imports:[lP,$J,ree.initializeApp(see_firebase),mJ,FJ,SJ,_Z,A5,q5]})}return n})();iv().bootstrapModule(hee,{ngZoneEventCoalescing:!0}).catch(n=>console.error(n))},412:(Mt,Fe,Z)=>{Z.d(Fe,{t:()=>p});var ge=Z(413);class p extends ge.B{constructor(Ee){super(),this._value=Ee}get value(){return this.getValue()}_subscribe(Ee){const pe=super._subscribe(Ee);return!pe.closed&&Ee.next(this._value),pe}getValue(){const{hasError:Ee,thrownError:pe,_value:he}=this;if(Ee)throw pe;return this._throwIfClosed(),he}next(Ee){super.next(this._value=Ee)}}},985:(Mt,Fe,Z)=>{Z.d(Fe,{c:()=>be});var ge=Z(707),p=Z(359),Ne=Z(494),Ee=Z(203),pe=Z(26),he=Z(71),at=Z(786);let be=(()=>{class Re{constructor(He){He&&(this._subscribe=He)}lift(He){const It=new Re;return It.source=this,It.operator=He,It}subscribe(He,It,Zr){const Zt=function le(Re){return Re&&Re instanceof ge.vU||function De(Re){return Re&&(0,he.T)(Re.next)&&(0,he.T)(Re.error)&&(0,he.T)(Re.complete)}(Re)&&(0,p.Uv)(Re)}(He)?He:new ge.Ms(He,It,Zr);return(0,at.Y)(()=>{const{operator:ur,source:kn}=this;Zt.add(ur?ur.call(Zt,kn):kn?this._subscribe(Zt):this._trySubscribe(Zt))}),Zt}_trySubscribe(He){try{return this._subscribe(He)}catch(It){He.error(It)}}forEach(He,It){return new(It=Qe(It))((Zr,Zt)=>{const ur=new ge.Ms({next:kn=>{try{He(kn)}catch(Eo){Zt(Eo),ur.unsubscribe()}},error:Zt,complete:Zr});this.subscribe(ur)})}_subscribe(He){var It;return null===(It=this.source)||void 0===It?void 0:It.subscribe(He)}[Ne.s](){return this}pipe(...He){return(0,Ee.m)(He)(this)}toPromise(He){return new(He=Qe(He))((It,Zr)=>{let Zt;this.subscribe(ur=>Zt=ur,ur=>Zr(ur),()=>It(Zt))})}}return Re.create=nn=>new Re(nn),Re})();function Qe(Re){var nn;return null!==(nn=Re??pe.$.Promise)&&void 0!==nn?nn:Promise}},413:(Mt,Fe,Z)=>{Z.d(Fe,{B:()=>at});var ge=Z(985),p=Z(359);const Ee=(0,Z(853).L)(Qe=>function(){Qe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pe=Z(908),he=Z(786);let at=(()=>{class Qe extends ge.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const Re=new be(this,this);return Re.operator=le,Re}_throwIfClosed(){if(this.closed)throw new Ee}next(le){(0,he.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Re of this.currentObservers)Re.next(le)}})}error(le){(0,he.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:Re}=this;for(;Re.length;)Re.shift().error(le)}})}complete(){(0,he.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:Re,isStopped:nn,observers:He}=this;return Re||nn?p.Kn:(this.currentObservers=null,He.push(le),new p.yU(()=>{this.currentObservers=null,(0,pe.o)(He,le)}))}_checkFinalizedStatuses(le){const{hasError:Re,thrownError:nn,isStopped:He}=this;Re?le.error(nn):He&&le.complete()}asObservable(){const le=new ge.c;return le.source=this,le}}return Qe.create=(De,le)=>new be(De,le),Qe})();class be extends at{constructor(De,le){super(),this.destination=De,this.source=le}next(De){var le,Re;null===(Re=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===Re||Re.call(le,De)}error(De){var le,Re;null===(Re=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===Re||Re.call(le,De)}complete(){var De,le;null===(le=null===(De=this.destination)||void 0===De?void 0:De.complete)||void 0===le||le.call(De)}_subscribe(De){var le,Re;return null!==(Re=null===(le=this.source)||void 0===le?void 0:le.subscribe(De))&&void 0!==Re?Re:p.Kn}}},707:(Mt,Fe,Z)=>{Z.d(Fe,{Ms:()=>Zr,vU:()=>Re});var ge=Z(71),p=Z(359),Ne=Z(26),Ee=Z(334),pe=Z(343);const he=Qe("C",void 0,void 0);function Qe(ln,Le,Gt){return{kind:ln,value:Le,error:Gt}}var De=Z(270),le=Z(786);class Re extends p.yU{constructor(Le){super(),this.isStopped=!1,Le?(this.destination=Le,(0,p.Uv)(Le)&&Le.add(this)):this.destination=Eo}static create(Le,Gt,Zn){return new Zr(Le,Gt,Zn)}next(Le){this.isStopped?kn(function be(ln){return Qe("N",ln,void 0)}(Le),this):this._next(Le)}error(Le){this.isStopped?kn(function at(ln){return Qe("E",void 0,ln)}(Le),this):(this.isStopped=!0,this._error(Le))}complete(){this.isStopped?kn(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Le){this.destination.next(Le)}_error(Le){try{this.destination.error(Le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const nn=Function.prototype.bind;function He(ln,Le){return nn.call(ln,Le)}class It{constructor(Le){this.partialObserver=Le}next(Le){const{partialObserver:Gt}=this;if(Gt.next)try{Gt.next(Le)}catch(Zn){Zt(Zn)}}error(Le){const{partialObserver:Gt}=this;if(Gt.error)try{Gt.error(Le)}catch(Zn){Zt(Zn)}else Zt(Le)}complete(){const{partialObserver:Le}=this;if(Le.complete)try{Le.complete()}catch(Gt){Zt(Gt)}}}class Zr extends Re{constructor(Le,Gt,Zn){let fi;if(super(),(0,ge.T)(Le)||!Le)fi={next:Le??void 0,error:Gt??void 0,complete:Zn??void 0};else{let Er;this&&Ne.$.useDeprecatedNextContext?(Er=Object.create(Le),Er.unsubscribe=()=>this.unsubscribe(),fi={next:Le.next&&He(Le.next,Er),error:Le.error&&He(Le.error,Er),complete:Le.complete&&He(Le.complete,Er)}):fi=Le}this.destination=new It(fi)}}function Zt(ln){Ne.$.useDeprecatedSynchronousErrorHandling?(0,le.l)(ln):(0,Ee.m)(ln)}function kn(ln,Le){const{onStoppedNotification:Gt}=Ne.$;Gt&&De.f.setTimeout(()=>Gt(ln,Le))}const Eo={closed:!0,next:pe.l,error:function ur(ln){throw ln},complete:pe.l}},359:(Mt,Fe,Z)=>{Z.d(Fe,{Kn:()=>he,yU:()=>pe,Uv:()=>at});var ge=Z(71);const Ne=(0,Z(853).L)(Qe=>function(le){Qe(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((Re,nn)=>`${nn+1}) ${Re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var Ee=Z(908);class pe{constructor(De){this.initialTeardown=De,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let De;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const He of le)He.remove(this);else le.remove(this);const{initialTeardown:Re}=this;if((0,ge.T)(Re))try{Re()}catch(He){De=He instanceof Ne?He.errors:[He]}const{_finalizers:nn}=this;if(nn){this._finalizers=null;for(const He of nn)try{be(He)}catch(It){De=De??[],It instanceof Ne?De=[...De,...It.errors]:De.push(It)}}if(De)throw new Ne(De)}}add(De){var le;if(De&&De!==this)if(this.closed)be(De);else{if(De instanceof pe){if(De.closed||De._hasParent(this))return;De._addParent(this)}(this._finalizers=null!==(le=this._finalizers)&&void 0!==le?le:[]).push(De)}}_hasParent(De){const{_parentage:le}=this;return le===De||Array.isArray(le)&&le.includes(De)}_addParent(De){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(De),le):le?[le,De]:De}_removeParent(De){const{_parentage:le}=this;le===De?this._parentage=null:Array.isArray(le)&&(0,Ee.o)(le,De)}remove(De){const{_finalizers:le}=this;le&&(0,Ee.o)(le,De),De instanceof pe&&De._removeParent(this)}}pe.EMPTY=(()=>{const Qe=new pe;return Qe.closed=!0,Qe})();const he=pe.EMPTY;function at(Qe){return Qe instanceof pe||Qe&&"closed"in Qe&&(0,ge.T)(Qe.remove)&&(0,ge.T)(Qe.add)&&(0,ge.T)(Qe.unsubscribe)}function be(Qe){(0,ge.T)(Qe)?Qe():Qe.unsubscribe()}},26:(Mt,Fe,Z)=>{Z.d(Fe,{$:()=>ge});const ge={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},983:(Mt,Fe,Z)=>{Z.d(Fe,{w:()=>p});const p=new(Z(985).c)(pe=>pe.complete())},360:(Mt,Fe,Z)=>{Z.d(Fe,{_:()=>p});var ge=Z(707);function p(Ee,pe,he,at,be){return new Ne(Ee,pe,he,at,be)}class Ne extends ge.vU{constructor(pe,he,at,be,Qe,De){super(pe),this.onFinalize=Qe,this.shouldUnsubscribe=De,this._next=he?function(le){try{he(le)}catch(Re){pe.error(Re)}}:super._next,this._error=be?function(le){try{be(le)}catch(Re){pe.error(Re)}finally{this.unsubscribe()}}:super._error,this._complete=at?function(){try{at()}catch(le){pe.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(pe=this.onFinalize)||void 0===pe||pe.call(this))}}}},901:(Mt,Fe,Z)=>{Z.d(Fe,{U:()=>Ne});var ge=Z(974),p=Z(360);function Ne(Ee){return(0,ge.N)((pe,he)=>{let at=!1;pe.subscribe((0,p._)(he,be=>{at=!0,he.next(be)},()=>{at||he.next(Ee),he.complete()}))})}},964:(Mt,Fe,Z)=>{Z.d(Fe,{p:()=>Ne});var ge=Z(974),p=Z(360);function Ne(Ee,pe){return(0,ge.N)((he,at)=>{let be=0;he.subscribe((0,p._)(at,Qe=>Ee.call(pe,Qe,be++)&&at.next(Qe)))})}},594:(Mt,Fe,Z)=>{Z.d(Fe,{$:()=>at});var ge=Z(350),p=Z(964),Ne=Z(697),Ee=Z(901),pe=Z(774),he=Z(669);function at(be,Qe){const De=arguments.length>=2;return le=>le.pipe(be?(0,p.p)((Re,nn)=>be(Re,nn,le)):he.D,(0,Ne.s)(1),De?(0,Ee.U)(Qe):(0,pe.v)(()=>new ge.G))}},354:(Mt,Fe,Z)=>{Z.d(Fe,{T:()=>Ne});var ge=Z(974),p=Z(360);function Ne(Ee,pe){return(0,ge.N)((he,at)=>{let be=0;he.subscribe((0,p._)(at,Qe=>{at.next(Ee.call(pe,Qe,be++))}))})}},697:(Mt,Fe,Z)=>{Z.d(Fe,{s:()=>Ee});var ge=Z(983),p=Z(974),Ne=Z(360);function Ee(pe){return pe<=0?()=>ge.w:(0,p.N)((he,at)=>{let be=0;he.subscribe((0,Ne._)(at,Qe=>{++be<=pe&&(at.next(Qe),pe<=be&&at.complete())}))})}},774:(Mt,Fe,Z)=>{Z.d(Fe,{v:()=>Ee});var ge=Z(350),p=Z(974),Ne=Z(360);function Ee(he=pe){return(0,p.N)((at,be)=>{let Qe=!1;at.subscribe((0,Ne._)(be,De=>{Qe=!0,be.next(De)},()=>Qe?be.complete():be.error(he())))})}function pe(){return new ge.G}},270:(Mt,Fe,Z)=>{Z.d(Fe,{f:()=>ge});const ge={setTimeout(p,Ne,...Ee){const{delegate:pe}=ge;return pe?.setTimeout?pe.setTimeout(p,Ne,...Ee):setTimeout(p,Ne,...Ee)},clearTimeout(p){const{delegate:Ne}=ge;return(Ne?.clearTimeout||clearTimeout)(p)},delegate:void 0}},494:(Mt,Fe,Z)=>{Z.d(Fe,{s:()=>ge});const ge="function"==typeof Symbol&&Symbol.observable||"@@observable"},350:(Mt,Fe,Z)=>{Z.d(Fe,{G:()=>p});const p=(0,Z(853).L)(Ne=>function(){Ne(this),this.name="EmptyError",this.message="no elements in sequence"})},908:(Mt,Fe,Z)=>{function ge(p,Ne){if(p){const Ee=p.indexOf(Ne);0<=Ee&&p.splice(Ee,1)}}Z.d(Fe,{o:()=>ge})},853:(Mt,Fe,Z)=>{function ge(p){const Ee=p(pe=>{Error.call(pe),pe.stack=(new Error).stack});return Ee.prototype=Object.create(Error.prototype),Ee.prototype.constructor=Ee,Ee}Z.d(Fe,{L:()=>ge})},786:(Mt,Fe,Z)=>{Z.d(Fe,{Y:()=>Ne,l:()=>Ee});var ge=Z(26);let p=null;function Ne(pe){if(ge.$.useDeprecatedSynchronousErrorHandling){const he=!p;if(he&&(p={errorThrown:!1,error:null}),pe(),he){const{errorThrown:at,error:be}=p;if(p=null,at)throw be}}else pe()}function Ee(pe){ge.$.useDeprecatedSynchronousErrorHandling&&p&&(p.errorThrown=!0,p.error=pe)}},669:(Mt,Fe,Z)=>{function ge(p){return p}Z.d(Fe,{D:()=>ge})},71:(Mt,Fe,Z)=>{function ge(p){return"function"==typeof p}Z.d(Fe,{T:()=>ge})},974:(Mt,Fe,Z)=>{Z.d(Fe,{N:()=>Ne,S:()=>p});var ge=Z(71);function p(Ee){return(0,ge.T)(Ee?.lift)}function Ne(Ee){return pe=>{if(p(pe))return pe.lift(function(he){try{return Ee(he,this)}catch(at){this.error(at)}});throw new TypeError("Unable to lift unknown Observable type")}}},343:(Mt,Fe,Z)=>{function ge(){}Z.d(Fe,{l:()=>ge})},203:(Mt,Fe,Z)=>{Z.d(Fe,{F:()=>p,m:()=>Ne});var ge=Z(669);function p(...Ee){return Ne(Ee)}function Ne(Ee){return 0===Ee.length?ge.D:1===Ee.length?Ee[0]:function(he){return Ee.reduce((at,be)=>be(at),he)}}},334:(Mt,Fe,Z)=>{Z.d(Fe,{m:()=>Ne});var ge=Z(26),p=Z(270);function Ne(Ee){p.f.setTimeout(()=>{const{onUnhandledError:pe}=ge.$;if(!pe)throw Ee;pe(Ee)})}},969:(Mt,Fe,Z)=>{Z.d(Fe,{FX:()=>Er,If:()=>ge,K2:()=>he,MA:()=>Re,Os:()=>pe,P:()=>He,hZ:()=>Ne,i0:()=>Ee,iF:()=>at,kY:()=>De,kp:()=>p,sf:()=>Zn,ui:()=>fi,wk:()=>be});var ge=function(me){return me[me.State=0]="State",me[me.Transition=1]="Transition",me[me.Sequence=2]="Sequence",me[me.Group=3]="Group",me[me.Animate=4]="Animate",me[me.Keyframes=5]="Keyframes",me[me.Style=6]="Style",me[me.Trigger=7]="Trigger",me[me.Reference=8]="Reference",me[me.AnimateChild=9]="AnimateChild",me[me.AnimateRef=10]="AnimateRef",me[me.Query=11]="Query",me[me.Stagger=12]="Stagger",me}(ge||{});const p="*";function Ne(me,ee){return{type:ge.Trigger,name:me,definitions:ee,options:{}}}function Ee(me,ee=null){return{type:ge.Animate,styles:ee,timings:me}}function pe(me,ee=null){return{type:ge.Group,steps:me,options:ee}}function he(me,ee=null){return{type:ge.Sequence,steps:me,options:ee}}function at(me){return{type:ge.Style,styles:me,offset:null}}function be(me,ee,je){return{type:ge.State,name:me,styles:ee,options:je}}function De(me,ee,je=null){return{type:ge.Transition,expr:me,animation:ee,options:je}}function Re(me=null){return{type:ge.AnimateChild,options:me}}function He(me,ee,je=null){return{type:ge.Query,selector:me,animation:ee,options:je}}class Zn{constructor(ee=0,je=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ee+je}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ee=>ee()),this._onDoneFns=[])}onStart(ee){this._originalOnStartFns.push(ee),this._onStartFns.push(ee)}onDone(ee){this._originalOnDoneFns.push(ee),this._onDoneFns.push(ee)}onDestroy(ee){this._onDestroyFns.push(ee)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ee=>ee()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ee=>ee()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ee){this._position=this.totalTime?ee*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ee){const je="start"==ee?this._onStartFns:this._onDoneFns;je.forEach(et=>et()),je.length=0}}class fi{constructor(ee){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ee;let je=0,et=0,pi=0;const kc=this.players.length;0==kc?queueMicrotask(()=>this._onFinish()):this.players.forEach(as=>{as.onDone(()=>{++je==kc&&this._onFinish()}),as.onDestroy(()=>{++et==kc&&this._onDestroy()}),as.onStart(()=>{++pi==kc&&this._onStart()})}),this.totalTime=this.players.reduce((as,Af)=>Math.max(as,Af.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ee=>ee()),this._onDoneFns=[])}init(){this.players.forEach(ee=>ee.init())}onStart(ee){this._onStartFns.push(ee)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ee=>ee()),this._onStartFns=[])}onDone(ee){this._onDoneFns.push(ee)}onDestroy(ee){this._onDestroyFns.push(ee)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ee=>ee.play())}pause(){this.players.forEach(ee=>ee.pause())}restart(){this.players.forEach(ee=>ee.restart())}finish(){this._onFinish(),this.players.forEach(ee=>ee.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ee=>ee.destroy()),this._onDestroyFns.forEach(ee=>ee()),this._onDestroyFns=[])}reset(){this.players.forEach(ee=>ee.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ee){const je=ee*this.totalTime;this.players.forEach(et=>{const pi=et.totalTime?Math.min(1,je/et.totalTime):1;et.setPosition(pi)})}getPosition(){const ee=this.players.reduce((je,et)=>null===je||et.totalTime>je.totalTime?et:je,null);return null!=ee?ee.getPosition():0}beforeDestroy(){this.players.forEach(ee=>{ee.beforeDestroy&&ee.beforeDestroy()})}triggerCallback(ee){const je="start"==ee?this._onStartFns:this._onDoneFns;je.forEach(et=>et()),je.length=0}}const Er="!"},438:(Mt,Fe,Z)=>{function ge(i,s){return Object.is(i,s)}Z.d(Fe,{bc$:()=>kp,iLQ:()=>Fm,sZ2:()=>Np,hnV:()=>xS,Hbi:()=>Ym,o8S:()=>go,BIS:()=>sd,gRc:()=>RI,Ql9:()=>CI,OM3:()=>Md,Ocv:()=>Qo,Z63:()=>Io,aKT:()=>Xu,uvJ:()=>Pi,zcH:()=>qn,bkB:()=>pn,$GK:()=>pt,nKC:()=>rt,zZn:()=>Ir,_q3:()=>Qm,MKu:()=>Bh,xe9:()=>zt,Co$:()=>VD,Vns:()=>jo,SKi:()=>en,Xx1:()=>jf,Agw:()=>od,PLl:()=>MC,rOR:()=>Zc,sFG:()=>Pd,_9s:()=>TE,czy:()=>Qp,WPN:()=>Ua,kdw:()=>$f,C4Q:()=>lg,NYb:()=>L1,giA:()=>AS,pJN:()=>Es,xvI:()=>mI,RxE:()=>mc,c1b:()=>RE,gXe:()=>ha,mal:()=>Kd,Tzd:()=>GD,L39:()=>ZI,EWP:()=>AF,Ol2:()=>QE,w6W:()=>KN,oH4:()=>Zs,QZP:()=>nb,Rfq:()=>ua,WQX:()=>ke,naY:()=>Q1,Hps:()=>CD,QuC:()=>fa,EmA:()=>Xi,zw6:()=>OC,Udg:()=>JI,fpN:()=>FI,HJs:()=>RF,N4e:()=>eB,vPA:()=>NN,O8t:()=>Qh,An2:()=>Qa,H3F:()=>yS,H8p:()=>Cy,KH2:()=>Fl,TgB:()=>Ca,wOt:()=>Ce,WHO:()=>Rh,e01:()=>EI,lNU:()=>J_,PpM:()=>ii,h9k:()=>eT,$MX:()=>ud,ZF7:()=>La,Kcf:()=>Mv,e5t:()=>ld,UyX:()=>GC,cWb:()=>Hp,osQ:()=>HP,H5H:()=>fh,Zy3:()=>la,mq5:()=>gm,JZv:()=>Vn,LfX:()=>ry,plB:()=>co,jNT:()=>II,zjR:()=>SS,ngT:()=>Ar,TL$:()=>RC,Tbb:()=>un,zUL:()=>u0,rcV:()=>Vi,zuW:()=>Oh,M8M:()=>Zl,nM4:()=>qN,Vt3:()=>Bd,GFd:()=>lo,OA$:()=>Ln,Jv_:()=>_1,aNF:()=>y1,R7$:()=>CO,BMQ:()=>rA,HbH:()=>rm,AVh:()=>aA,vxM:()=>uA,wni:()=>zA,VBU:()=>wy,FsC:()=>CM,jDH:()=>Vt,G2t:()=>Pf,$C:()=>xu,EJ8:()=>TM,rXU:()=>ul,nrm:()=>Pw,k0s:()=>dm,j41:()=>dh,RV6:()=>gA,xGo:()=>rv,Mr5:()=>kl,KVO:()=>Gn,kS0:()=>Wu,QTQ:()=>vT,bIt:()=>_h,lsd:()=>WA,qSk:()=>J0,XpG:()=>Zw,SdG:()=>kA,NAR:()=>yh,Y8G:()=>oA,mGM:()=>eI,sdS:()=>nI,Dyx:()=>Rw,Z7z:()=>cm,fX1:()=>dA,Njj:()=>Wy,eBV:()=>jM,n$t:()=>Wp,xc7:()=>sA,DNE:()=>Sg,EFF:()=>JA,SpI:()=>Eh,Lme:()=>wh,GBs:()=>GA});let p=null,Ne=!1,Ee=1;const pe=Symbol("SIGNAL");function he(i){const s=p;return p=i,s}const De={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function le(i){if(Ne)throw new Error("");if(null===p)return;p.consumerOnSignalRead(i);const s=p.nextProducerIndex++;Zn(p),s<p.producerNode.length&&p.producerNode[s]!==i&&Gt(p)&&Le(p.producerNode[s],p.producerIndexOfThis[s]),p.producerNode[s]!==i&&(p.producerNode[s]=i,p.producerIndexOfThis[s]=Gt(p)?ln(i,p,s):0),p.producerLastReadVersion[s]=i.version}function nn(i){if((!Gt(i)||i.dirty)&&(i.dirty||i.lastCleanEpoch!==Ee)){if(!i.producerMustRecompute(i)&&!kn(i))return i.dirty=!1,void(i.lastCleanEpoch=Ee);i.producerRecomputeValue(i),i.dirty=!1,i.lastCleanEpoch=Ee}}function He(i){if(void 0===i.liveConsumerNode)return;const s=Ne;Ne=!0;try{for(const a of i.liveConsumerNode)a.dirty||Zr(a)}finally{Ne=s}}function It(){return!1!==p?.consumerAllowSignalWrites}function Zr(i){i.dirty=!0,He(i),i.consumerMarkedDirty?.(i)}function Zt(i){return i&&(i.nextProducerIndex=0),he(i)}function ur(i,s){if(he(s),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(Gt(i))for(let a=i.nextProducerIndex;a<i.producerNode.length;a++)Le(i.producerNode[a],i.producerIndexOfThis[a]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function kn(i){Zn(i);for(let s=0;s<i.producerNode.length;s++){const a=i.producerNode[s],l=i.producerLastReadVersion[s];if(l!==a.version||(nn(a),l!==a.version))return!0}return!1}function Eo(i){if(Zn(i),Gt(i))for(let s=0;s<i.producerNode.length;s++)Le(i.producerNode[s],i.producerIndexOfThis[s]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function ln(i,s,a){if(fi(i),0===i.liveConsumerNode.length&&Er(i))for(let l=0;l<i.producerNode.length;l++)i.producerIndexOfThis[l]=ln(i.producerNode[l],i,l);return i.liveConsumerIndexOfThis.push(a),i.liveConsumerNode.push(s)-1}function Le(i,s){if(fi(i),1===i.liveConsumerNode.length&&Er(i))for(let l=0;l<i.producerNode.length;l++)Le(i.producerNode[l],i.producerIndexOfThis[l]);const a=i.liveConsumerNode.length-1;if(i.liveConsumerNode[s]=i.liveConsumerNode[a],i.liveConsumerIndexOfThis[s]=i.liveConsumerIndexOfThis[a],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,s<i.liveConsumerNode.length){const l=i.liveConsumerIndexOfThis[s],d=i.liveConsumerNode[s];Zn(d),d.producerIndexOfThis[l]=s}}function Gt(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function Zn(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}function fi(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}function Er(i){return void 0!==i.producerNode}const ee=Symbol("UNSET"),je=Symbol("COMPUTING"),et=Symbol("ERRORED"),pi={...De,value:ee,dirty:!0,error:null,equal:ge,producerMustRecompute:i=>i.value===ee||i.value===je,producerRecomputeValue(i){if(i.value===je)throw new Error("Detected cycle in computations.");const s=i.value;i.value=je;const a=Zt(i);let l;try{l=i.computation()}catch(d){l=et,i.error=d}finally{ur(i,a)}s!==ee&&s!==et&&l!==et&&i.equal(s,l)?i.value=s:(i.value=l,i.version++)}};let as=function kc(){throw new Error};function Af(){as()}let Sf=null;function yu(i,s){It()||Af(),i.equal(i.value,s)||(i.value=s,function fU(i){i.version++,function Re(){Ee++}(),He(i),Sf?.()}(i))}const Q_={...De,equal:ge,value:void 0};const a0=()=>{},KR={...De,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{null!==i.schedule&&i.schedule(i.ref)},hasRun:!1,cleanupFn:a0};var c0=Z(412),Y_=Z(413),Z_=Z(359),mU=Z(354),gi=Z(594);const J_="https://g.co/ng/security#xss";class Ce extends Error{constructor(s,a){super(la(s,a)),this.code=s}}function la(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}function ht(i){return{toString:i}.toString()}const wo="__parameters__";function Vc(i,s,a){return ht(()=>{const l=function Jr(i){return function(...a){if(i){const l=i(...a);for(const d in l)this[d]=l[d]}}}(s);function d(...f){if(this instanceof d)return l.apply(this,f),this;const m=new d(...f);return v.annotation=m,v;function v(w,C,T){const x=w.hasOwnProperty(wo)?w[wo]:Object.defineProperty(w,wo,{value:[]})[wo];for(;x.length<=T;)x.push(null);return(x[T]=x[T]||[]).push(m),w}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}const Vn=globalThis;function Tt(i){for(let s in i)if(i[s]===Tt)return s;throw Error("Could not find renamed property on target object.")}function XR(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function un(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(un).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ey(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}function u0(i,s=100){if(!i||s<1||i.length<=s)return i;if(1==s)return i.substring(0,1)+"...";const a=Math.round(s/2);return i.substring(0,a)+"..."+i.substring(i.length-a)}const ty=Tt({__forward_ref__:Tt});function ua(i){return i.__forward_ref__=ua,i.toString=function(){return un(this())},i}function ze(i){return Mf(i)?i():i}function Mf(i){return"function"==typeof i&&i.hasOwnProperty(ty)&&i.__forward_ref__===ua}function Vt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Pf(i){return{providers:i.providers||[],imports:i.imports||[]}}function Lc(i){return iy(i,Of)||iy(i,sy)}function ry(i){return null!==Lc(i)}function iy(i,s){return i.hasOwnProperty(s)?i[s]:null}function oy(i){return i&&(i.hasOwnProperty(Iu)||i.hasOwnProperty(tM))?i[Iu]:null}const Of=Tt({\u0275prov:Tt}),Iu=Tt({\u0275inj:Tt}),sy=Tt({ngInjectableDef:Tt}),tM=Tt({ngInjectorDef:Tt});class rt{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Vt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function cy(i){return i&&!!i.\u0275providers}const bu=Tt({\u0275cmp:Tt}),_0=Tt({\u0275dir:Tt}),y0=Tt({\u0275pipe:Tt}),ly=Tt({\u0275mod:Tt}),us=Tt({\u0275fac:Tt}),Vf=Tt({__NG_ELEMENT_ID__:Tt}),rM=Tt({__NG_ENV_ID__:Tt});function tt(i){return"string"==typeof i?i:null==i?"":String(i)}function uy(i,s){throw new Ce(-201,!1)}var pt=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(pt||{});let dy;function v0(){return dy}function Vr(i){const s=dy;return dy=i,s}function E0(i,s,a){const l=Lc(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&pt.Optional?null:void 0!==s?s:void uy()}const Cu={},hy="__NG_DI_FLAG__",Lf="ngTempTokenPath",cM=/\n/gm,fy="__source";let Uc;function ds(i){const s=Uc;return Uc=i,s}function py(i,s=pt.Default){if(void 0===Uc)throw new Ce(-203,!1);return null===Uc?E0(i,void 0,s):Uc.get(i,s&pt.Optional?null:void 0,s)}function Gn(i,s=pt.Default){return(v0()||py)(ze(i),s)}function ke(i,s=pt.Default){return Gn(i,Uf(s))}function Uf(i){return typeof i>"u"||"number"==typeof i?i:(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Bf(i){const s=[];for(let a=0;a<i.length;a++){const l=ze(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Ce(900,!1);let d,f=pt.Default;for(let m=0;m<l.length;m++){const v=l[m],w=gy(v);"number"==typeof w?-1===w?d=v.token:f|=w:d=v}s.push(Gn(d,f))}else s.push(Gn(l))}return s}function Tu(i,s){return i[hy]=s,i.prototype[hy]=s,i}function gy(i){return i[hy]}const jf=Tu(Vc("Optional"),8),$f=Tu(Vc("SkipSelf"),4);function Wi(i,s){return i.hasOwnProperty(us)?i[us]:null}function Du(i,s){i.forEach(a=>Array.isArray(a)?Du(a,s):s(a))}function _y(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Hf(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function ei(i,s,a){let l=Au(i,s);return l>=0?i[1|l]=a:(l=~l,function mM(i,s,a,l){let d=i.length;if(d==s)i.push(a,l);else if(1===d)i.push(l,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function w0(i,s){const a=Au(i,s);if(a>=0)return i[1|a]}function Au(i,s){return function I0(i,s,a){let l=0,d=i.length>>a;for(;d!==l;){const f=l+(d-l>>1),m=i[f<<a];if(s===m)return f<<a;m>s?d=f:l=f+1}return~(d<<a)}(i,s,1)}const qi={},Dt=[],Io=new rt(""),b0=new rt("",-1),yy=new rt("");class Gf{get(s,a=Cu){if(a===Cu){const l=new Error(`NullInjectorError: No provider for ${un(s)}!`);throw l.name="NullInjectorError",l}return a}}var vy=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(vy||{}),ha=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(ha||{}),hs=function(i){return i[i.None=0]="None",i[i.SignalBased=1]="SignalBased",i[i.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",i}(hs||{});function _M(i,s,a){let l=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===l||i.charCodeAt(d+f)<=32)return d}a=d+1}}function Ey(i,s,a){let l=0;for(;l<a.length;){const d=a[l];if("number"==typeof d){if(0!==d)break;l++;const f=a[l++],m=a[l++],v=a[l++];i.setAttribute(s,m,v,f)}else{const f=d,m=a[++l];vM(f)?i.setProperty(s,f,m):i.setAttribute(s,f,m),l++}}return l}function yM(i){return 3===i||4===i||6===i}function vM(i){return 64===i.charCodeAt(0)}function Su(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?a=d:0===a||C0(i,a,d,null,-1===a||2===a?s[++l]:null)}}return i}function C0(i,s,a,l,d){let f=0,m=i.length;if(-1===s)m=-1;else for(;f<i.length;){const v=i[f++];if("number"==typeof v){if(v===s){m=-1;break}if(v>s){m=f-1;break}}}for(;f<i.length;){const v=i[f];if("number"==typeof v)break;if(v===a){if(null===l)return void(null!==d&&(i[f+1]=d));if(l===i[f+1])return void(i[f+2]=d)}f++,null!==l&&f++,null!==d&&f++}-1!==m&&(i.splice(m,0,s),f=m+1),i.splice(f++,0,a),null!==l&&i.splice(f++,0,l),null!==d&&i.splice(f++,0,d)}const T0="ng-template";function VU(i,s,a,l){let d=0;if(l){for(;d<s.length&&"string"==typeof s[d];d+=2)if("class"===s[d]&&-1!==_M(s[d+1].toLowerCase(),a,0))return!0}else if(Wf(i))return!1;if(d=s.indexOf(1,d),d>-1){let f;for(;++d<s.length&&"string"==typeof(f=s[d]);)if(f.toLowerCase()===a)return!0}return!1}function Wf(i){return 4===i.type&&i.value!==T0}function EM(i,s,a){return s===(4!==i.type||a?i.value:T0)}function Bt(i,s,a){let l=4;const d=i.attrs,f=null!==d?function BU(i){for(let s=0;s<i.length;s++)if(yM(i[s]))return s;return i.length}(d):0;let m=!1;for(let v=0;v<s.length;v++){const w=s[v];if("number"!=typeof w){if(!m)if(4&l){if(l=2|1&l,""!==w&&!EM(i,w,a)||""===w&&1===s.length){if(Ki(l))return!1;m=!0}}else if(8&l){if(null===d||!VU(i,d,w,a)){if(Ki(l))return!1;m=!0}}else{const C=s[++v],T=LU(w,d,Wf(i),a);if(-1===T){if(Ki(l))return!1;m=!0;continue}if(""!==C){let x;if(x=T>f?"":d[T+1].toLowerCase(),2&l&&C!==x){if(Ki(l))return!1;m=!0}}}}else{if(!m&&!Ki(l)&&!Ki(w))return!1;if(m&&Ki(w))continue;m=!1,l=w|1&l}}return Ki(l)||m}function Ki(i){return!(1&i)}function LU(i,s,a,l){if(null===s)return-1;let d=0;if(l||!a){let f=!1;for(;d<s.length;){const m=s[d];if(m===i)return d;if(3===m||6===m)f=!0;else{if(1===m||2===m){let v=s[++d];for(;"string"==typeof v;)v=s[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=f?1:2}return-1}return function jU(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function wM(i,s,a=!1){for(let l=0;l<s.length;l++)if(Bt(i,s[l],a))return!0;return!1}function $U(i,s){e:for(let a=0;a<s.length;a++){const l=s[a];if(i.length===l.length){for(let d=0;d<i.length;d++)if(i[d]!==l[d])continue e;return!0}}return!1}function D0(i,s){return i?":not("+s.trim()+")":s}function HU(i){let s=i[0],a=1,l=2,d="",f=!1;for(;a<i.length;){let m=i[a];if("string"==typeof m)if(2&l){const v=i[++a];d+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&l?d+="."+m:4&l&&(d+=" "+m);else""!==d&&!Ki(m)&&(s+=D0(f,d),d=""),l=m,f=f||!Ki(l);a++}return""!==d&&(s+=D0(f,d)),s}function wy(i){return ht(()=>{const s=qf(i),a={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===vy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||ha.Emulated,styles:i.styles||Dt,_:null,schemas:i.schemas||null,tView:null,id:""};Iy(a);const l=i.dependencies;return a.directiveDefs=Ru(l,!1),a.pipeDefs=Ru(l,!0),a.id=function A0(i){let s=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const d of a)s=Math.imul(31,s)+d.charCodeAt(0)|0;return s+=2147483648,"c"+s}(a),a})}function IM(i){return ut(i)||Tn(i)}function bM(i){return null!==i}function xu(i){return ht(()=>({type:i.type,bootstrap:i.bootstrap||Dt,declarations:i.declarations||Dt,imports:i.imports||Dt,exports:i.exports||Dt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Bc(i,s){if(null==i)return qi;const a={};for(const l in i)if(i.hasOwnProperty(l)){const d=i[l];let f,m,v=hs.None;Array.isArray(d)?(v=d[0],f=d[1],m=d[2]??f):(f=d,m=d),s?(a[f]=v!==hs.None?[l,v]:l,s[f]=m):a[f]=l}return a}function CM(i){return ht(()=>{const s=qf(i);return Iy(s),s})}function TM(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function ut(i){return i[bu]||null}function Tn(i){return i[_0]||null}function dr(i){return i[y0]||null}function fa(i){const s=ut(i)||Tn(i)||dr(i);return null!==s&&s.standalone}function wr(i,s){const a=i[ly]||null;if(!a&&!0===s)throw new Error(`Type ${un(i)} does not have '\u0275mod' property.`);return a}function qf(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:i.inputs||qi,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||Dt,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Bc(i.inputs,s),outputs:Bc(i.outputs),debugInfo:null}}function Iy(i){i.features?.forEach(s=>s(i))}function Ru(i,s){if(!i)return null;const a=s?dr:IM;return()=>("function"==typeof i?i():i).map(l=>a(l)).filter(bM)}function Xi(i){return{\u0275providers:i}}function WU(...i){return{\u0275providers:S0(0,i),\u0275fromNgModule:!0}}function S0(i,...s){const a=[],l=new Set;let d;const f=m=>{a.push(m)};return Du(s,m=>{const v=m;by(v,f,[],l)&&(d||=[],d.push(v))}),void 0!==d&&AM(d,f),a}function AM(i,s){for(let a=0;a<i.length;a++){const{ngModule:l,providers:d}=i[a];x0(d,f=>{s(f,l)})}}function by(i,s,a,l){if(!(i=ze(i)))return!1;let d=null,f=oy(i);const m=!f&&ut(i);if(f||m){if(m&&!m.standalone)return!1;d=i}else{const w=i.ngModule;if(f=oy(w),!f)return!1;d=w}const v=l.has(d);if(m){if(v)return!1;if(l.add(d),m.dependencies){const w="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const C of w)by(C,s,a,l)}}else{if(!f)return!1;{if(null!=f.imports&&!v){let C;l.add(d);try{Du(f.imports,T=>{by(T,s,a,l)&&(C||=[],C.push(T))})}finally{}void 0!==C&&AM(C,s)}if(!v){const C=Wi(d)||(()=>new d);s({provide:d,useFactory:C,deps:Dt},d),s({provide:yy,useValue:d,multi:!0},d),s({provide:Io,useValue:()=>Gn(d),multi:!0},d)}const w=f.providers;if(null!=w&&!v){const C=i;x0(w,T=>{s(T,C)})}}}return d!==i&&void 0!==i.providers}function x0(i,s){for(let a of i)cy(a)&&(a=a.\u0275providers),Array.isArray(a)?x0(a,s):s(a)}const qU=Tt({provide:String,useValue:Tt});function R0(i){return null!==i&&"object"==typeof i&&qU in i}function pa(i){return"function"==typeof i}const Cy=new rt(""),Ty={},SM={};let Dy;function Ay(){return void 0===Dy&&(Dy=new Gf),Dy}class Pi{}class Mu extends Pi{get destroyed(){return this._destroyed}constructor(s,a,l,d){super(),this.parent=a,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ou(s,m=>this.processProvider(m)),this.records.set(b0,Pu(void 0,this)),d.has("environment")&&this.records.set(Pi,Pu(void 0,this));const f=this.records.get(Cy);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(yy,Dt,pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const s=he(null);try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const l of a)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(s)}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=ds(this),l=Vr(void 0);try{return s()}finally{ds(a),Vr(l)}}get(s,a=Cu,l=pt.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(rM))return s[rM](this);l=Uf(l);const f=ds(this),m=Vr(void 0);try{if(!(l&pt.SkipSelf)){let w=this.records.get(s);if(void 0===w){const C=function JU(i){return"function"==typeof i||"object"==typeof i&&i instanceof rt}(s)&&Lc(s);w=C&&this.injectableDefInScope(C)?Pu(O0(s),Ty):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(l&pt.Self?Ay():this.parent).get(s,a=l&pt.Optional&&a===Cu?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[Lf]=v[Lf]||[]).unshift(un(s)),f)throw v;return function my(i,s,a,l){const d=i[Lf];throw s[fy]&&d.unshift(s[fy]),i.message=function OU(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=un(s);if(Array.isArray(s))d=s.map(un).join(" -> ");else if("object"==typeof s){let f=[];for(let m in s)if(s.hasOwnProperty(m)){let v=s[m];f.push(m+":"+("string"==typeof v?JSON.stringify(v):un(v)))}d=`{${f.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${i.replace(cM,"\n  ")}`}("\n"+i.message,d,a,l),i.ngTokenPath=d,i[Lf]=null,i}(v,s,"R3InjectorError",this.source)}throw v}finally{Vr(m),ds(f)}}resolveInjectorInitializers(){const s=he(null),a=ds(this),l=Vr(void 0);try{const f=this.get(Io,Dt,pt.Self);for(const m of f)m()}finally{ds(a),Vr(l),he(s)}}toString(){const s=[],a=this.records;for(const l of a.keys())s.push(un(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(s){let a=pa(s=ze(s))?s:ze(s&&s.provide);const l=function QU(i){return R0(i)?Pu(void 0,i.useValue):Pu(xM(i),Ty)}(s);if(!pa(s)&&!0===s.multi){let d=this.records.get(a);d||(d=Pu(void 0,Ty,!0),d.factory=()=>Bf(d.multi),this.records.set(a,d)),a=s,d.multi.push(s)}this.records.set(a,l)}hydrate(s,a){const l=he(null);try{return a.value===Ty&&(a.value=SM,a.value=a.factory()),"object"==typeof a.value&&a.value&&function ZU(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}finally{he(l)}}injectableDefInScope(s){if(!s.providedIn)return!1;const a=ze(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function O0(i){const s=Lc(i),a=null!==s?s.factory:Wi(i);if(null!==a)return a;if(i instanceof rt)throw new Ce(204,!1);if(i instanceof Function)return function XU(i){if(i.length>0)throw new Ce(204,!1);const a=function eM(i){return i&&(i[Of]||i[sy])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Ce(204,!1)}function xM(i,s,a){let l;if(pa(i)){const d=ze(i);return Wi(d)||O0(d)}if(R0(i))l=()=>ze(i.useValue);else if(function P0(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...Bf(i.deps||[]));else if(function M0(i){return!(!i||!i.useExisting)}(i))l=()=>Gn(ze(i.useExisting));else{const d=ze(i&&(i.useClass||i.provide));if(!function YU(i){return!!i.deps}(i))return Wi(d)||O0(d);l=()=>new d(...Bf(i.deps))}return l}function Pu(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Ou(i,s){for(const a of i)Array.isArray(a)?Ou(a,s):a&&cy(a)?Ou(a.\u0275providers,s):s(a)}function eB(i,s){i instanceof Mu&&i.assertNotDestroyed();const l=ds(i),d=Vr(void 0);try{return s()}finally{ds(l),Vr(d)}}function Sy(){return void 0!==v0()||null!=function uM(){return Uc}()}function jc(i){if(!Sy())throw new Ce(-203,!1)}const rn=0,ue=1,Ue=2,An=3,mi=4,er=5,tr=6,$c=7,Lt=8,vn=9,Qi=10,Ke=11,ku=12,Co=13,ga=14,Jt=15,fs=16,Hc=17,To=18,zc=19,k0=20,ps=21,Qf=22,_i=23,Me=25,Oy=1,Fu=6,Do=7,ma=9,Je=10;var Vu=function(i){return i[i.None=0]="None",i[i.HasTransplantedViews=2]="HasTransplantedViews",i}(Vu||{});function Sn(i){return Array.isArray(i)&&"object"==typeof i[Oy]}function nr(i){return Array.isArray(i)&&!0===i[Oy]}function Yf(i){return!!(4&i.flags)}function _a(i){return i.componentOffset>-1}function Lu(i){return!(1&~i.flags)}function yi(i){return!!i.template}function Wc(i){return!!(512&i[Ue])}class lt{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function L0(i,s,a,l){null!==s?s.applyValueToInputSignal(s,l):i[a]=l}function Ln(){return ya}function ya(i){return i.type.prototype.ngOnChanges&&(i.setInput=qc),xn}function xn(){const i=Zf(this),s=i?.current;if(s){const a=i.previous;if(a===qi)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function qc(i,s,a,l,d){const f=this.declaredInputs[l],m=Zf(i)||function Uy(i,s){return i[hn]=s}(i,{previous:qi,current:null}),v=m.current||(m.current={}),w=m.previous,C=w[f];v[f]=new lt(C&&C.currentValue,a,w===qi),L0(i,s,d,a)}Ln.ngInherit=!0;const hn="__ngSimpleChanges__";function Zf(i){return i[hn]||null}const Yi=function(i,s,a){},U0="svg";function bt(i){for(;Array.isArray(i);)i=i[rn];return i}function ms(i,s){return bt(s[i])}function fn(i,s){return bt(s[i.index])}function Uu(i,s){return i.data[s]}function Lr(i,s){const a=s[i];return Sn(a)?a:a[rn]}function ep(i){return!(128&~i[Ue])}function fr(i,s){return null==s?null:i[s]}function tp(i){i[Hc]=0}function np(i){1024&i[Ue]||(i[Ue]|=1024,ep(i)&&jy(i))}function _s(i){return!!(9216&i[Ue]||i[_i]?.dirty)}function $0(i){i[Qi].changeDetectionScheduler?.notify(8),64&i[Ue]&&(i[Ue]|=1024),_s(i)&&jy(i)}function jy(i){i[Qi].changeDetectionScheduler?.notify(0);let s=Ni(i);for(;null!==s&&!(8192&s[Ue])&&(s[Ue]|=8192,ep(s));)s=Ni(s)}function $y(i,s){if(!(256&~i[Ue]))throw new Ce(911,!1);null===i[ps]&&(i[ps]=[]),i[ps].push(s)}function Ni(i){const s=i[An];return nr(s)?s[An]:s}const We={lFrame:QM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let VM=!1;function G0(){return We.bindingsEnabled}function Ea(){return null!==We.skipHydrationRootTNode}function te(){return We.lFrame.lView}function dt(){return We.lFrame.tView}function jM(i){return We.lFrame.contextLView=i,i[Lt]}function Wy(i){return We.lFrame.contextLView=null,i}function Ut(){let i=$M();for(;null!==i&&64===i.type;)i=i.parent;return i}function $M(){return We.lFrame.currentTNode}function Zi(i,s){const a=We.lFrame;a.currentTNode=i,a.isParent=s}function W0(){return We.lFrame.isParent}function q0(){We.lFrame.isParent=!1}function zM(){return VM}function GM(i){VM=i}function ki(){return We.lFrame.bindingIndex++}function Ao(i){const s=We.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function Q0(i,s){const a=We.lFrame;a.bindingIndex=a.bindingRootIndex=i,Ky(s)}function Ky(i){We.lFrame.currentDirectiveIndex=i}function eo(){return We.lFrame.currentQueryIndex}function to(i){We.lFrame.currentQueryIndex=i}function mB(i){const s=i[ue];return 2===s.type?s.declTNode:1===s.type?i[er]:null}function KM(i,s,a){if(a&pt.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||a&pt.Host||(d=mB(f),null===d||(f=f[ga],10&d.type))););if(null===d)return!1;s=d,i=f}const l=We.lFrame=XM();return l.currentTNode=s,l.lView=i,!0}function sp(i){const s=XM(),a=i[ue];We.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function XM(){const i=We.lFrame,s=null===i?null:i.child;return null===s?QM(i):s}function QM(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function YM(){const i=We.lFrame;return We.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const ZM=YM;function Z0(){const i=YM();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function pr(){return We.lFrame.selectedIndex}function Kc(i){We.lFrame.selectedIndex=i}function qt(){const i=We.lFrame;return Uu(i.tView,i.selectedIndex)}function J0(){We.lFrame.currentNamespace=U0}function Xy(){return We.lFrame.currentNamespace}let Qy=!0;function Xc(){return Qy}function ti(i){Qy=i}function ap(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:w,ngAfterViewChecked:C,ngOnDestroy:T}=f;m&&(i.contentHooks??=[]).push(-a,m),v&&((i.contentHooks??=[]).push(a,v),(i.contentCheckHooks??=[]).push(a,v)),w&&(i.viewHooks??=[]).push(-a,w),C&&((i.viewHooks??=[]).push(a,C),(i.viewCheckHooks??=[]).push(a,C)),null!=T&&(i.destroyHooks??=[]).push(a,T)}}function cp(i,s,a){rC(i,s,3,a)}function lp(i,s,a,l){(3&i[Ue])===a&&rC(i,s,a,l)}function up(i,s){let a=i[Ue];(3&a)===s&&(a&=16383,a+=1,i[Ue]=a)}function rC(i,s,a,l){const f=l??-1,m=s.length-1;let v=0;for(let w=void 0!==l?65535&i[Hc]:0;w<m;w++)if("number"==typeof s[w+1]){if(v=s[w],null!=l&&v>=l)break}else s[w]<0&&(i[Hc]+=65536),(v<f||-1==f)&&(eP(i,a,s,w),i[Hc]=(4294901760&i[Hc])+w+2),w++}function iC(i,s){Yi(4,i,s);const a=he(null);try{s.call(i)}finally{he(a),Yi(5,i,s)}}function eP(i,s,a,l){const d=a[l]<0,f=a[l+1],v=i[d?-a[l]:a[l]];d?i[Ue]>>14<i[Hc]>>16&&(3&i[Ue])===s&&(i[Ue]+=16384,iC(v,f)):iC(v,f)}const Bu=-1;class ju{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}const Hu={};class ys{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,l){l=Uf(l);const d=this.injector.get(s,Hu,l);return d!==Hu||a===Hu?d:this.parentInjector.get(s,a,l)}}function hp(i){return i!==Bu}function wa(i){return 32767&i}function Ia(i,s){let a=function oC(i){return i>>16}(i),l=s;for(;a>0;)l=l[ga],a--;return l}let fp=!0;function pp(i){const s=fp;return fp=i,s}const sC=255,aC=5;let rP=0;const no={};function Qc(i,s){const a=lC(i,s);if(-1!==a)return a;const l=s[ue];l.firstCreatePass&&(i.injectorIndex=s.length,zu(l.data,i),zu(s,null),zu(l.blueprint,null));const d=Jy(i,s),f=i.injectorIndex;if(hp(d)){const m=wa(d),v=Ia(d,s),w=v[ue].data;for(let C=0;C<8;C++)s[f+C]=v[m+C]|w[m+C]}return s[f+8]=d,f}function zu(i,s){i.push(0,0,0,0,0,0,0,0,s)}function lC(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Jy(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,d=s;for(;null!==d;){if(l=ov(d),null===l)return Bu;if(a++,d=d[ga],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return Bu}function gp(i,s,a){!function cC(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Vf)&&(l=a[Vf]),null==l&&(l=a[Vf]=rP++);const d=l&sC;s.data[i+(d>>aC)]|=1<<d}(i,s,a)}function mp(i,s,a){if(a&pt.Optional||void 0!==i)return i;uy()}function ev(i,s,a,l){if(a&pt.Optional&&void 0===l&&(l=null),!(a&(pt.Self|pt.Host))){const d=i[vn],f=Vr(void 0);try{return d?d.get(s,l,a&pt.Optional):E0(s,l,a&pt.Optional)}finally{Vr(f)}}return mp(l,0,a)}function uC(i,s,a,l=pt.Default,d){if(null!==i){if(2048&s[Ue]&&!(l&pt.Self)){const m=function cP(i,s,a,l,d){let f=i,m=s;for(;null!==f&&null!==m&&2048&m[Ue]&&!(512&m[Ue]);){const v=tv(f,m,a,l|pt.Self,no);if(v!==no)return v;let w=f.parent;if(!w){const C=m[k0];if(C){const T=C.get(a,no,l);if(T!==no)return T}w=ov(m),m=m[ga]}f=w}return d}(i,s,a,l,no);if(m!==no)return m}const f=tv(i,s,a,l,no);if(f!==no)return f}return ev(s,a,l,d)}function tv(i,s,a,l,d){const f=function IB(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Vf)?i[Vf]:void 0;return"number"==typeof s?s>=0?s&sC:aP:s}(a);if("function"==typeof f){if(!KM(s,i,l))return l&pt.Host?mp(d,0,l):ev(s,a,l,d);try{let m;if(m=f(l),null!=m||l&pt.Optional)return m;uy()}finally{ZM()}}else if("number"==typeof f){let m=null,v=lC(i,s),w=Bu,C=l&pt.Host?s[Jt][er]:null;for((-1===v||l&pt.SkipSelf)&&(w=-1===v?Jy(i,s):s[v+8],w!==Bu&&nv(l,!1)?(m=s[ue],v=wa(w),s=Ia(w,s)):v=-1);-1!==v;){const T=s[ue];if(sP(f,v,T.data)){const x=oP(v,s,a,m,l,C);if(x!==no)return x}w=s[v+8],w!==Bu&&nv(l,s[ue].data[v+8]===C)&&sP(f,v,s)?(m=T,v=wa(w),s=Ia(w,s)):v=-1}}return d}function oP(i,s,a,l,d,f){const m=s[ue],v=m.data[i+8],T=_p(v,m,a,null==l?_a(v)&&fp:l!=m&&!!(3&v.type),d&pt.Host&&f===v);return null!==T?ba(s,m,T,v):no}function _p(i,s,a,l,d){const f=i.providerIndexes,m=s.data,v=1048575&f,w=i.directiveStart,T=f>>20,N=d?v+T:i.directiveEnd;for(let F=l?v:v+T;F<N;F++){const H=m[F];if(F<w&&a===H||F>=w&&H.type===a)return F}if(d){const F=m[w];if(F&&yi(F)&&F.type===a)return w}return null}function ba(i,s,a,l){let d=i[a];const f=s.data;if(function yB(i){return i instanceof ju}(d)){const m=d;m.resolving&&function oM(i,s){throw s&&s.join(" > "),new Ce(-200,i)}(function ct(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():tt(i)}(f[a]));const v=pp(m.canSeeViewProviders);m.resolving=!0;const C=m.injectImpl?Vr(m.injectImpl):null;KM(i,l,pt.Default);try{d=i[a]=m.factory(void 0,f,i,l),s.firstCreatePass&&a>=l.directiveStart&&function JM(i,s,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(l){const m=ya(s);(a.preOrderHooks??=[]).push(i,m),(a.preOrderCheckHooks??=[]).push(i,m)}d&&(a.preOrderHooks??=[]).push(0-i,d),f&&((a.preOrderHooks??=[]).push(i,f),(a.preOrderCheckHooks??=[]).push(i,f))}(a,f[a],s)}finally{null!==C&&Vr(C),pp(v),m.resolving=!1,ZM()}}return d}function sP(i,s,a){return!!(a[s+(i>>aC)]&1<<i)}function nv(i,s){return!(i&pt.Self||i&pt.Host&&s)}class Un{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return uC(this._tNode,this._lView,s,Uf(l),a)}}function aP(){return new Un(Ut(),te())}function rv(i){return ht(()=>{const s=i.prototype.constructor,a=s[us]||iv(s),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const f=d[us]||iv(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function iv(i){return Mf(i)?()=>{const s=iv(ze(i));return s&&s()}:Wi(i)}function ov(i){const s=i[ue],a=s.type;return 2===a?s.declTNode:1===a?i[er]:null}function Wu(i){return function iP(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const f=a[d];if(yM(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(f===s)return a[d+1];d+=2}}}return null}(Ut(),i)}function mP(i,s=null,a=null,l){const d=_P(i,s,a,l);return d.resolveInjectorInitializers(),d}function _P(i,s=null,a=null,l,d=new Set){const f=[a||Dt,WU(i)];return l=l||("object"==typeof i?void 0:un(i)),new Mu(f,s||Ay(),l||null,d)}class Ir{static{this.THROW_IF_NOT_FOUND=Cu}static{this.NULL=new Gf}static create(s,a){if(Array.isArray(s))return mP({name:""},a,s,"");{const l=s.name??"";return mP({name:l},s.parent,s.providers,l)}}static{this.\u0275prov=Vt({token:Ir,providedIn:"any",factory:()=>Gn(b0)})}static{this.__NG_ELEMENT_ID__=-1}}new rt("").__NG_ELEMENT_ID__=i=>{const s=Ut();if(null===s)throw new Ce(204,!1);if(2&s.type)return s.value;if(i&pt.Optional)return null;throw new Ce(204,!1)};function fC(i){return i.ngOriginalError}const yP=!0;let vp=(()=>{class i{static{this.__NG_ELEMENT_ID__=AB}static{this.__NG_ENV_ID__=a=>a}}return i})();class DB extends vp{constructor(s){super(),this._lView=s}onDestroy(s){return $y(this._lView,s),()=>function Hy(i,s){if(null===i[ps])return;const a=i[ps].indexOf(s);-1!==a&&i[ps].splice(a,1)}(this._lView,s)}}function AB(){return new DB(te())}let Ca=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new c0.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Vt({token:i,providedIn:"root",factory:()=>new i})}}return i})();const pn=class Ep extends Y_.B{constructor(s=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=s,Sy()&&(this.destroyRef=ke(vp,{optional:!0})??void 0,this.pendingTasks=ke(Ca,{optional:!0})??void 0)}emit(s){const a=he(null);try{super.next(s)}finally{he(a)}}subscribe(s,a,l){let d=s,f=a||(()=>null),m=l;if(s&&"object"==typeof s){const w=s;d=w.next?.bind(w),f=w.error?.bind(w),m=w.complete?.bind(w)}this.__isAsync&&(f=this.wrapInTimeout(f),d&&(d=this.wrapInTimeout(d)),m&&(m=this.wrapInTimeout(m)));const v=super.subscribe({next:d,error:f,complete:m});return s instanceof Z_.yU&&s.add(v),v}wrapInTimeout(s){return a=>{const l=this.pendingTasks?.add();setTimeout(()=>{s(a),void 0!==l&&this.pendingTasks?.remove(l)})}}};function wp(...i){}function pC(i){let s,a;function l(){i=wp;try{void 0!==a&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(a),void 0!==s&&clearTimeout(s)}catch{}}return s=setTimeout(()=>{i(),l()}),"function"==typeof requestAnimationFrame&&(a=requestAnimationFrame(()=>{i(),l()})),()=>l()}function gC(i){return queueMicrotask(()=>i()),()=>{i=wp}}const Ip="isAngularZone",bp=Ip+"_ID";let vP=0;class en{constructor(s){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pn(!1),this.onMicrotaskEmpty=new pn(!1),this.onStable=new pn(!1),this.onError=new pn(!1);const{enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1,scheduleInRootZone:f=yP}=s;if(typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!d&&l,m.shouldCoalesceRunChangeDetection=d,m.callbackScheduled=!1,m.scheduleInRootZone=f,function EP(i){const s=()=>{!function Tp(i){function s(){pC(()=>{i.callbackScheduled=!1,Dp(i),i.isCheckStableRunning=!0,Cp(i),i.isCheckStableRunning=!1})}i.isCheckStableRunning||i.callbackScheduled||(i.callbackScheduled=!0,i.scheduleInRootZone?Zone.root.run(()=>{s()}):i._outer.run(()=>{s()}),Dp(i))}(i)},a=vP++;i._inner=i._inner.fork({name:"angular",properties:{[Ip]:!0,[bp]:a,[bp+a]:!0},onInvokeTask:(l,d,f,m,v,w)=>{if(function Ap(i){return mC(i,"__ignore_ng_zone__")}(w))return l.invokeTask(f,m,v,w);try{return uv(i),l.invokeTask(f,m,v,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||i.shouldCoalesceRunChangeDetection)&&s(),Ta(i)}},onInvoke:(l,d,f,m,v,w,C)=>{try{return uv(i),l.invoke(f,m,v,w,C)}finally{i.shouldCoalesceRunChangeDetection&&!i.callbackScheduled&&!function Sp(i){return mC(i,"__scheduler_tick__")}(w)&&s(),Ta(i)}},onHasTask:(l,d,f,m)=>{l.hasTask(f,m),d===f&&("microTask"==m.change?(i._hasPendingMicrotasks=m.microTask,Dp(i),Cp(i)):"macroTask"==m.change&&(i.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,d,f,m)=>(l.handleError(f,m),i.runOutsideAngular(()=>i.onError.emit(m)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Ip)}static assertInAngularZone(){if(!en.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(en.isInAngularZone())throw new Ce(909,!1)}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,d){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+d,s,lv,wp,wp);try{return f.runTask(m,a,l)}finally{f.cancelTask(m)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const lv={};function Cp(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Dp(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&!0===i.callbackScheduled)}function uv(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Ta(i){i._nesting--,Cp(i)}class dv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pn,this.onMicrotaskEmpty=new pn,this.onStable=new pn,this.onError=new pn}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,d){return s.apply(a,l)}}function mC(i,s){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0]?.data?.[s]}class qn{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&fC(s);for(;a&&fC(a);)a=fC(a);return a||null}}const vi=new rt("",{providedIn:"root",factory:()=>{const i=ke(en),s=ke(qn);return a=>i.runOutsideAngular(()=>s.handleError(a))}});function Da(){return ni(Ut(),te())}function ni(i,s){return new Xu(fn(i,s))}let Xu=(()=>{class i{constructor(a){this.nativeElement=a}static{this.__NG_ELEMENT_ID__=Da}}return i})();function _C(i){return i instanceof Xu?i.nativeElement:i}function hv(){return this._results[Symbol.iterator]()}class Zc{get changes(){return this._changes??=new pn}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const a=Zc.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=hv)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){this.dirty=!1;const l=function Jn(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function NU(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],f=s[l];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(this._results,l,a))&&(this._results=l,this.length=l.length,this.last=l[this.length-1],this.first=l[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(s){this._onDirty=s}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}const Qu="ngSkipHydration",IP="ngskiphydration";function fv(i){const s=i.mergedAttrs;if(null===s)return!1;for(let a=0;a<s.length;a+=2){const l=s[a];if("number"==typeof l)return!1;if("string"==typeof l&&l.toLowerCase()===IP)return!0}return!1}function Yu(i){return i.hasAttribute(Qu)}function Zu(i){return!(128&~i.flags)}const Aa=new Map;let bP=0;function wi(i){Aa.delete(i[zc])}const Mp="__ngContext__";function gr(i,s){Sn(s)?(i[Mp]=s[zc],function CP(i){Aa.set(i[zc],i)}(s)):i[Mp]=s}function IC(i){return tl(i[ku])}function td(i){return tl(i[mi])}function tl(i){for(;null!==i&&!nr(i);)i=i[mi];return i}let mv;function RC(i){mv=i}function Mo(){if(void 0!==mv)return mv;if(typeof document<"u")return document;throw new Ce(210,!1)}const Np=new rt("",{providedIn:"root",factory:()=>Ma}),Ma="ng",MC=new rt(""),od=new rt("",{providedIn:"platform",factory:()=>"unknown"}),kp=new rt(""),sd=new rt("",{providedIn:"root",factory:()=>Mo().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function OC(i){return i}function NP(){const i=new Es;return"browser"===ke(od)&&(i.store=function kP(i,s){const a=i.getElementById(s+"-state");if(a?.textContent)try{return JSON.parse(a.textContent)}catch(l){console.warn("Exception while restoring TransferState for app "+s,l)}return{}}(Mo(),ke(Np))),i}let Es=(()=>{class i{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=Vt({token:i,providedIn:"root",factory:NP})}get(a,l){return void 0!==this.store[a]?this.store[a]:l}set(a,l){this.store[a]=l}remove(a){delete this.store[a]}hasKey(a){return this.store.hasOwnProperty(a)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(a,l){this.onSerializeCallbacks[a]=l}toJson(){for(const a in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(a))try{this.store[a]=this.onSerializeCallbacks[a]()}catch(l){console.warn("Exception in onSerialize callback: ",l)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return i})();const yv="h",vv="b";var Pa=function(i){return i.FirstChild="f",i.NextSibling="n",i}(Pa||{});const ws="e",Ev="t",Oa="c",Fp="x",Na="r",Vp="i",Is="n",ft="d",Fi="__nghData__",or="ngh",Lp="nghm";let bs=()=>null;function nl(i,s,a=!1){let l=i.getAttribute(or);if(null==l)return null;const[d,f]=l.split("|");if(l=a?f:d,!l)return null;const v=a?d:f?`|${f}`:"";let w={};if(""!==l){const T=s.get(Es,null,{optional:!0});null!==T&&(w=T.get(Fi,[])[Number(l)])}const C={data:w,firstChild:i.firstChild??null};return a&&(C.firstChild=i,rl(C,0,i.nextSibling)),v?i.setAttribute(or,v):i.removeAttribute(or),C}function Up(i,s,a=!1){return bs(i,s,a)}function NC(i){let s=i._lView;return 2===s[ue].type?null:(Wc(s)&&(s=s[Me]),s)}function rl(i,s,a){i.segmentHeads??={},i.segmentHeads[s]=a}function il(i,s){return i.segmentHeads?.[s]??null}function jP(i,s){return i.data[Oa]?.[s]??null}function VC(i,s){const a=jP(i,s)??[];let l=0;for(let d of a)l+=d[Na]*(d[Fp]??1);return l}function ol(i,s){if(typeof i.disconnectedNodes>"u"){const a=i.data[ft];i.disconnectedNodes=a?new Set(a):null}return!!function $P(i){if(typeof i.disconnectedNodes>"u"){const s=i.data[ft];i.disconnectedNodes=s?new Set(s):null}return i.disconnectedNodes}(i)?.has(s)}const Cv=new rt(""),BC=new rt("",{providedIn:"root",factory:()=>!1});let Bp,Po;function Fa(i){return function ka(){if(void 0===Bp&&(Bp=null,Vn.trustedTypes))try{Bp=Vn.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Bp}()?.createHTML(i)||i}function Va(i){return function jp(){if(void 0===Po&&(Po=null,Vn.trustedTypes))try{Po=Vn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Po}()?.createScriptURL(i)||i}class io{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${J_})`}}class $p extends io{getTypeName(){return"HTML"}}class $C extends io{getTypeName(){return"Style"}}class xv extends io{getTypeName(){return"Script"}}class HC extends io{getTypeName(){return"URL"}}class Rv extends io{getTypeName(){return"ResourceURL"}}function Vi(i){return i instanceof io?i.changingThisBreaksApplicationSecurity:i}function La(i,s){const a=function zC(i){return i instanceof io&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${J_})`)}return a===s}function Mv(i){return new $p(i)}function Hp(i){return new $C(i)}function GC(i){return new xv(i)}function HP(i){return new HC(i)}function ld(i){return new Rv(i)}class zP{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Fa(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.firstChild?.remove(),a)}catch{return null}}}class Pv{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=Fa(s),a}}const zp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ud(i){return(i=String(i)).match(zp)?i:"unsafe:"+i}function Oo(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function al(...i){const s={};for(const a of i)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const GP=Oo("area,br,col,hr,img,wbr"),KC=Oo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),XC=Oo("rp,rt"),Nv=al(GP,al(KC,Oo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),al(XC,Oo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),al(XC,KC)),Cs=Oo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),QC=al(Cs,Oo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Oo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),dd=Oo("script,style,template");class hd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,l=!0,d=[];for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)d.push(a),a=XP(a);else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let f=KP(a);if(f){a=f;break}a=d.pop()}return this.buf.join("")}startElement(s){const a=YC(s).toLowerCase();if(!Nv.hasOwnProperty(a))return this.sanitizedSomething=!0,!dd.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=s.attributes;for(let d=0;d<l.length;d++){const f=l.item(d),m=f.name,v=m.toLowerCase();if(!QC.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let w=f.value;Cs[v]&&(w=ud(w)),this.buf.push(" ",m,'="',fd(w),'"')}return this.buf.push(">"),!0}endElement(s){const a=YC(s).toLowerCase();Nv.hasOwnProperty(a)&&!GP.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(fd(s))}}function KP(i){const s=i.nextSibling;if(s&&i!==s.previousSibling)throw ZC(s);return s}function XP(i){const s=i.firstChild;if(s&&function qP(i,s){return(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(i,s))throw ZC(s);return s}function YC(i){const s=i.nodeName;return"string"==typeof s?s:"FORM"}function ZC(i){return new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`)}const QP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,JC=/([^\#-~ |!])/g;function fd(i){return i.replace(/&/g,"&amp;").replace(QP,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(JC,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let No;function eT(i,s){let a=null;try{No=No||function WC(i){const s=new Pv(i);return function qC(){try{return!!(new window.DOMParser).parseFromString(Fa(""),"text/html")}catch{return!1}}()?new zP(s):s}(i);let l=s?String(s):"";a=No.getInertBodyElement(l);let d=5,f=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=f,f=a.innerHTML,a=No.getInertBodyElement(l)}while(l!==f);return Fa((new hd).sanitizeChildren(kv(a)||a))}finally{if(a){const l=kv(a)||a;for(;l.firstChild;)l.firstChild.remove()}}}function kv(i){return"content"in i&&function YP(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Ua=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(Ua||{});function tT(i){const s=qp();return s?s.sanitize(Ua.URL,i)||"":La(i,"URL")?Vi(i):ud(tt(i))}function nT(i){const s=qp();if(s)return Va(s.sanitize(Ua.RESOURCE_URL,i)||"");if(La(i,"ResourceURL"))return Va(Vi(i));throw new Ce(904,!1)}function Wp(i,s,a){return function nO(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?nT:tT}(s,a)(i)}function qp(){const i=te();return i&&i[Qi].sanitizer}const rO=/^>|^->|<!--|-->|--!>|<!-$/g,iO=/(<|>)/g,oO="\u200b$1\u200b";function ri(i){return i instanceof Function?i():i}function Cr(i){return"browser"===(i??ke(Ir)).get(od)}var Qp=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(Qp||{});let Yp;function md(i,s){return Yp(i,s)}function ja(i,s,a,l,d){if(null!=l){let f,m=!1;nr(l)?f=l:Sn(l)&&(m=!0,l=l[rn]);const v=bt(l);0===i&&null!==a?null==d?eg(s,a,v):$a(s,a,v,d||null,!0):1===i&&null!==a?$a(s,a,v,d||null,!0):2===i?tg(s,v,m):3===i&&s.destroyNode(v),null!=f&&function IO(i,s,a,l,d){const f=a[Do];f!==bt(a)&&ja(s,i,l,f,d);for(let v=Je;v<a.length;v++){const w=a[v];Ed(w[ue],w,i,s,l,f)}}(s,i,f,a,d)}}function Zp(i,s){return i.createText(s)}function zv(i,s){return i.createComment(function Kp(i){return i.replace(rO,s=>s.replace(iO,oO))}(s))}function _d(i,s,a){return i.createElement(s,a)}function dT(i,s){s[Qi].changeDetectionScheduler?.notify(9),Ed(i,s,s[Ke],2,null,null)}function Gv(i,s){const a=i[ma],l=s[An];(Sn(l)||s[Jt]!==l[An][Jt])&&(i[Ue]|=Vu.HasTransplantedViews),null===a?i[ma]=[s]:a.push(s)}function Wv(i,s){const a=i[ma],l=a.indexOf(s);a.splice(l,1)}function ko(i,s){if(i.length<=Je)return;const a=Je+s,l=i[a];if(l){const d=l[fs];null!==d&&d!==i&&Wv(d,l),s>0&&(i[a-1][mi]=l[mi]);const f=Hf(i,Je+s);!function Jp(i,s){dT(i,s),s[rn]=null,s[er]=null}(l[ue],l);const m=f[To];null!==m&&m.detachView(f[ue]),l[An]=null,l[mi]=null,l[Ue]&=-129}return l}function yd(i,s){if(!(256&s[Ue])){const a=s[Ke];a.destroyNode&&Ed(i,s,a,3,null,null),function gO(i){let s=i[ku];if(!s)return qv(i[ue],i);for(;s;){let a=null;if(Sn(s))a=s[ku];else{const l=s[Je];l&&(a=l)}if(!a){for(;s&&!s[mi]&&s!==i;)Sn(s)&&qv(s[ue],s),s=s[An];null===s&&(s=i),Sn(s)&&qv(s[ue],s),a=s&&s[mi]}s=a}}(s)}}function qv(i,s){if(256&s[Ue])return;const a=he(null);try{s[Ue]&=-129,s[Ue]|=256,s[_i]&&Eo(s[_i]),function yO(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const d=s[a[l]];if(!(d instanceof ju)){const f=a[l+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const v=d[f[m]],w=f[m+1];Yi(4,v,w);try{w.call(v)}finally{Yi(5,v,w)}}else{Yi(4,d,f);try{f.call(d)}finally{Yi(5,d,f)}}}}}(i,s),function _O(i,s){const a=i.cleanup,l=s[$c];if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const m=a[f+3];m>=0?l[m]():l[-m].unsubscribe(),f+=2}else a[f].call(l[a[f+1]]);null!==l&&(s[$c]=null);const d=s[ps];if(null!==d){s[ps]=null;for(let f=0;f<d.length;f++)(0,d[f])()}}(i,s),1===s[ue].type&&s[Ke].destroy();const l=s[fs];if(null!==l&&nr(s[An])){l!==s[An]&&Wv(l,s);const d=s[To];null!==d&&d.detachView(i)}wi(s)}finally{he(a)}}function Ci(i,s,a){return function hT(i,s,a){let l=s;for(;null!==l&&168&l.type;)l=(s=l).parent;if(null===l)return a[rn];{const{componentOffset:d}=l;if(d>-1){const{encapsulation:f}=i.data[l.directiveStart+d];if(f===ha.None||f===ha.Emulated)return null}return fn(l,a)}}(i,s.parent,a)}function $a(i,s,a,l,d){i.insertBefore(s,a,l,d)}function eg(i,s,a){i.appendChild(s,a)}function fT(i,s,a,l,d){null!==l?$a(i,s,a,l,d):eg(i,s,a)}function Kv(i,s){return i.parentNode(s)}function vO(i,s,a){return gT(i,s,a)}let vd,gT=function EO(i,s,a){return 40&i.type?fn(i,a):null};function Qv(i,s,a,l){const d=Ci(i,l,s),f=s[Ke],v=vO(l.parent||s[er],l,s);if(null!=d)if(Array.isArray(a))for(let w=0;w<a.length;w++)fT(f,d,a[w],v,!1);else fT(f,d,a,v,!1);void 0!==vd&&vd(f,l,s,a,d)}function Ts(i,s){if(null!==s){const a=s.type;if(3&a)return fn(s,i);if(4&a)return Yv(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return Ts(i,l);{const d=i[s.index];return nr(d)?Yv(-1,d):bt(d)}}if(128&a)return Ts(i,s.next);if(32&a)return md(s,i)()||bt(i[s.index]);{const l=Li(i,s);return null!==l?Array.isArray(l)?l[0]:Ts(Ni(i[Jt]),l):Ts(i,s.next)}}return null}function Li(i,s){return null!==s?i[Jt][er].projection[s.projection]:null}function Yv(i,s){const a=Je+i+1;if(a<s.length){const l=s[a],d=l[ue].firstChild;if(null!==d)return Ts(l,d)}return s[Do]}function tg(i,s,a){i.removeChild(null,s,a)}function wO(i){i.textContent=""}function mT(i,s,a,l,d,f,m){for(;null!=a;){if(128===a.type){a=a.next;continue}const v=l[a.index],w=a.type;if(m&&0===s&&(v&&gr(bt(v),l),a.flags|=2),32&~a.flags)if(8&w)mT(i,s,a.child,l,d,f,!1),ja(s,i,d,v,f);else if(32&w){const C=md(a,l);let T;for(;T=C();)ja(s,i,d,T,f);ja(s,i,d,v,f)}else 16&w?ng(i,s,l,a,d,f):ja(s,i,d,v,f);a=m?a.projectionNext:a.next}}function Ed(i,s,a,l,d,f){mT(a,l,i.firstChild,s,d,f,!1)}function ng(i,s,a,l,d,f){const m=a[Jt],w=m[er].projection[l.projection];if(Array.isArray(w))for(let C=0;C<w.length;C++)ja(s,i,d,w[C],f);else{let C=w;const T=m[An];Zu(l)&&(C.flags|=128),mT(i,s,C,T,d,f,!0)}}function Zv(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function yT(i,s,a){const{mergedAttrs:l,classes:d,styles:f}=a;null!==l&&Ey(i,s,l),null!==d&&Zv(i,s,d),null!==f&&function $B(i,s,a){i.setAttribute(s,"style",a)}(i,s,f)}const nt={};function CO(i=1){TO(dt(),te(),pr()+i,!1)}function TO(i,s,a,l){if(!l)if(3&~s[Ue]){const f=i.preOrderHooks;null!==f&&lp(s,f,0,a)}else{const f=i.preOrderCheckHooks;null!==f&&cp(s,f,a)}Kc(a)}function ul(i,s=pt.Default){const a=te();return null===a?Gn(i,s):uC(Ut(),a,ze(i),s)}function vT(){throw new Error("invalid")}function DO(i,s,a,l,d,f){const m=he(null);try{let v=null;d&hs.SignalBased&&(v=s[l][pe]),null!==v&&void 0!==v.transformFn&&(f=v.transformFn(f)),d&hs.HasDecoratorInputTransform&&(f=i.inputTransforms[l].call(s,f)),null!==i.setInput?i.setInput(s,v,f,a,l):L0(s,v,l,f)}finally{he(m)}}function rg(i,s,a,l,d,f,m,v,w,C,T){const x=s.blueprint.slice();return x[rn]=d,x[Ue]=204|l,(null!==C||i&&2048&i[Ue])&&(x[Ue]|=2048),tp(x),x[An]=x[ga]=i,x[Lt]=a,x[Qi]=m||i&&i[Qi],x[Ke]=v||i&&i[Ke],x[vn]=w||i&&i[vn]||null,x[er]=f,x[zc]=function Jc(){return bP++}(),x[tr]=T,x[k0]=C,x[Jt]=2==s.type?i[Jt]:x,x}function Ds(i,s,a,l,d){let f=i.data[s];if(null===f)f=function Jv(i,s,a,l,d){const f=$M(),m=W0(),w=i.data[s]=function nE(i,s,a,l,d,f){let m=s?s.injectorIndex:-1,v=0;return Ea()&&(v|=128),{type:a,index:l,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,a,s,l,d);return null===i.firstChild&&(i.firstChild=w),null!==f&&(m?null==f.child&&null!==w.parent&&(f.child=w):null===f.next&&(f.next=w,w.prev=f)),w}(i,s,a,l,d),function WM(){return We.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=a,f.value=l,f.attrs=d;const m=function ip(){const i=We.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===m?-1:m.injectorIndex}return Zi(f,!0),f}function wd(i,s,a,l){if(0===a)return-1;const d=s.length;for(let f=0;f<a;f++)s.push(l),i.blueprint.push(l),i.data.push(null);return d}function wT(i,s,a,l,d){const f=pr(),m=2&l;try{Kc(-1),m&&s.length>Me&&TO(i,s,Me,!1),Yi(m?2:0,d),a(l,d)}finally{Kc(f),Yi(m?3:1,d)}}function eE(i,s,a){if(Yf(s)){const l=he(null);try{const f=s.directiveEnd;for(let m=s.directiveStart;m<f;m++){const v=i.data[m];v.contentQueries&&v.contentQueries(1,a[m],m)}}finally{he(l)}}}function tE(i,s,a){G0()&&(function ST(i,s,a,l){const d=a.directiveStart,f=a.directiveEnd;_a(a)&&function OT(i,s,a){const l=fn(s,i),d=IT(a);let m=16;a.signals?m=4096:a.onPush&&(m=64);const v=og(i,rg(i,d,null,m,l,s,null,i[Qi].rendererFactory.createRenderer(l,a),null,null,null));i[s.index]=v}(s,a,i.data[d+a.componentOffset]),i.firstCreatePass||Qc(a,s),gr(l,s);const m=a.initialInputs;for(let v=d;v<f;v++){const w=i.data[v],C=ba(s,i,v,a);gr(C,s),null!==m&&FO(0,v-d,C,w,0,m),yi(w)&&(Lr(a.index,s)[Lt]=ba(s,i,v,a))}}(i,s,a,fn(a,s)),!(64&~a.flags)&&xT(i,s,a))}function ig(i,s,a=fn){const l=s.localNames;if(null!==l){let d=s.index+1;for(let f=0;f<l.length;f+=2){const m=l[f+1],v=-1===m?a(s,i):i[m];i[d++]=v}}}function IT(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=bT(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):s}function bT(i,s,a,l,d,f,m,v,w,C,T){const x=Me+l,N=x+d,F=function HB(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:nt);return a}(x,N),H="function"==typeof C?C():C;return F[ue]={type:i,blueprint:F,template:a,queries:null,viewQuery:v,declTNode:s,data:F.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:w,consts:H,incompleteFirstPass:!1,ssrId:T}}let AO=()=>null;function WB(i){Yu(i)?wO(i):function VP(i){const s=Mo(),a=s.createNodeIterator(i,NodeFilter.SHOW_COMMENT,{acceptNode(f){const m=function FP(i){return i.textContent?.replace(/\s/gm,"")}(f);return"ngetn"===m||"ngtns"===m?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let l;const d=[];for(;l=a.nextNode();)d.push(l);for(const f of d)"ngetn"===f.textContent?f.replaceWith(s.createTextNode("")):f.remove()}(i)}function TT(i,s,a,l,d){for(let f in s){if(!s.hasOwnProperty(f))continue;const m=s[f];if(void 0===m)continue;l??={};let v,w=hs.None;Array.isArray(m)?(v=m[0],w=m[1]):v=m;let C=f;if(null!==d){if(!d.hasOwnProperty(f))continue;C=d[f]}0===i?DT(l,a,C,v,w):DT(l,a,C,v)}return l}function DT(i,s,a,l,d){let f;i.hasOwnProperty(a)?(f=i[a]).push(s,l):f=i[a]=[s,l],void 0!==d&&f.push(d)}function Tr(i,s,a,l,d,f,m,v){const w=fn(s,a);let T,C=s.inputs;!v&&null!=C&&(T=C[l])?(sg(i,a,T,l,d),_a(s)&&function xO(i,s){const a=Lr(s,i);16&a[Ue]||(a[Ue]|=64)}(a,s.index)):3&s.type&&(l=function SO(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=m?m(d,s.value||"",l):d,f.setProperty(w,l,d))}function dl(i,s,a,l){if(G0()){const d=null===l?null:{"":-1},f=function NO(i,s){const a=i.directiveRegistry;let l=null,d=null;if(a)for(let f=0;f<a.length;f++){const m=a[f];if(wM(s,m.selectors,!1))if(l||(l=[]),yi(m))if(null!==m.findHostDirectiveDefs){const v=[];d=d||new Map,m.findHostDirectiveDefs(m,v,d),l.unshift(...v,m),hl(i,s,v.length)}else l.unshift(m),hl(i,s,0);else d=d||new Map,m.findHostDirectiveDefs?.(m,l,d),l.push(m)}return null===l?null:[l,d]}(i,a);let m,v;null===f?m=v=null:[m,v]=f,null!==m&&MO(i,s,a,m,d,v),d&&function RT(i,s,a){if(s){const l=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=a[s[d+1]];if(null==f)throw new Ce(-301,!1);l.push(s[d],f)}}}(a,l,d)}a.mergedAttrs=Su(a.mergedAttrs,a.attrs)}function MO(i,s,a,l,d,f){for(let C=0;C<l.length;C++)gp(Qc(a,s),i,l[C].type);!function MT(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}(a,i.data.length,l.length);for(let C=0;C<l.length;C++){const T=l[C];T.providersResolver&&T.providersResolver(T)}let m=!1,v=!1,w=wd(i,s,l.length,null);for(let C=0;C<l.length;C++){const T=l[C];a.mergedAttrs=Su(a.mergedAttrs,T.hostAttrs),PT(i,a,s,w,T),kO(w,T,d),null!==T.contentQueries&&(a.flags|=4),(null!==T.hostBindings||null!==T.hostAttrs||0!==T.hostVars)&&(a.flags|=64);const x=T.type.prototype;!m&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),m=!0),!v&&(x.ngOnChanges||x.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),v=!0),w++}!function AT(i,s,a){const d=s.directiveEnd,f=i.data,m=s.attrs,v=[];let w=null,C=null;for(let T=s.directiveStart;T<d;T++){const x=f[T],N=a?a.get(x):null,H=N?N.outputs:null;w=TT(0,x.inputs,T,w,N?N.inputs:null),C=TT(1,x.outputs,T,C,H);const ne=null===w||null===m||Wf(s)?null:VO(w,T,m);v.push(ne)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=8),w.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=v,s.inputs=w,s.outputs=C}(i,a,f)}function xT(i,s,a){const l=a.directiveStart,d=a.directiveEnd,f=a.index,m=function qM(){return We.lFrame.currentDirectiveIndex}();try{Kc(f);for(let v=l;v<d;v++){const w=i.data[v],C=s[v];Ky(v),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&OO(w,C)}}finally{Kc(-1),Ky(m)}}function OO(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function hl(i,s,a){s.componentOffset=a,(i.components??=[]).push(s.index)}function kO(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;yi(s)&&(a[""]=i)}}function PT(i,s,a,l,d){i.data[l]=d;const f=d.factory||(d.factory=Wi(d.type)),m=new ju(f,yi(d),ul);i.blueprint[l]=m,a[l]=m,function Id(i,s,a,l,d){const f=d.hostBindings;if(f){let m=i.hostBindingOpCodes;null===m&&(m=i.hostBindingOpCodes=[]);const v=~s.index;(function PO(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(m)!=v&&m.push(v),m.push(a,l,f)}}(i,s,l,wd(i,a,d.hostVars,nt),d)}function oo(i,s,a,l,d,f){const m=fn(i,s);!function on(i,s,a,l,d,f,m){if(null==f)i.removeAttribute(s,d,a);else{const v=null==m?tt(f):m(f,l||"",d);i.setAttribute(s,d,v,a)}}(s[Ke],m,f,i.value,a,l,d)}function FO(i,s,a,l,d,f){const m=f[s];if(null!==m)for(let v=0;v<m.length;)DO(l,a,m[v++],m[v++],m[v++],m[v++])}function VO(i,s,a){let l=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(i.hasOwnProperty(f)){null===l&&(l=[]);const m=i[f];for(let v=0;v<m.length;v+=3)if(m[v]===s){l.push(f,m[v+1],m[v+2],a[d+1]);break}}d+=2}else d+=2;else d+=4}return l}function NT(i,s,a,l){return[i,!0,0,s,null,l,null,a,null,null]}function iE(i,s){const a=i.contentQueries;if(null!==a){const l=he(null);try{for(let d=0;d<a.length;d+=2){const m=a[d+1];if(-1!==m){const v=i.data[m];to(a[d]),v.contentQueries(2,s[m],m)}}}finally{he(l)}}}function og(i,s){return i[ku]?i[Co][mi]=s:i[ku]=s,i[Co]=s,s}function oE(i,s,a){to(0);const l=he(null);try{s(i,a)}finally{he(l)}}function LO(i){return i[$c]??=[]}function kT(i){return i.cleanup??=[]}function sE(i,s){const a=i[vn],l=a?a.get(qn,null):null;l&&l.handleError(s)}function sg(i,s,a,l,d){for(let f=0;f<a.length;){const m=a[f++],v=a[f++],w=a[f++];DO(i.data[m],s[m],l,v,w,d)}}function so(i,s,a){const l=ms(s,i);!function uT(i,s,a){i.setValue(s,a)}(i[Ke],l,a)}function BO(i,s){const a=Lr(s,i),l=a[ue];!function KB(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])}(l,a);const d=a[rn];null!==d&&null===a[tr]&&(a[tr]=Up(d,a[vn])),aE(l,a,a[Lt])}function aE(i,s,a){sp(s);try{const l=i.viewQuery;null!==l&&oE(1,l,a);const d=i.template;null!==d&&wT(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),s[To]?.finishViewCreation(i),i.staticContentQueries&&iE(i,s),i.staticViewQueries&&oE(2,i.viewQuery,a);const f=i.components;null!==f&&function ao(i,s){for(let a=0;a<s.length;a++)BO(i,s[a])}(s,f)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[Ue]&=-5,Z0()}}function Ti(i,s,a,l){const d=he(null);try{const f=s.tView,w=rg(i,f,a,4096&i[Ue]?4096:16,null,s,null,null,l?.injector??null,l?.embeddedViewInjector??null,l?.dehydratedView??null);w[fs]=i[s.index];const T=i[To];return null!==T&&(w[To]=T.createEmbeddedView(f)),aE(f,w,a),w}finally{he(d)}}function FT(i,s){const a=Je+s;if(a<i.length)return i[a]}function Ha(i,s){return!s||null===s.firstChild||Zu(i)}function za(i,s,a,l=!0){const d=s[ue];if(function mO(i,s,a,l){const d=Je+l,f=a.length;l>0&&(a[d-1][mi]=s),l<f-Je?(s[mi]=a[d],_y(a,Je+l,s)):(a.push(s),s[mi]=null),s[An]=a;const m=s[fs];null!==m&&a!==m&&Gv(m,s);const v=s[To];null!==v&&v.insertView(i),$0(s),s[Ue]|=128}(d,s,i,a),l){const m=Yv(a,i),v=s[Ke],w=Kv(v,i[Do]);null!==w&&function pO(i,s,a,l,d,f){l[rn]=d,l[er]=s,Ed(i,l,a,1,d,f)}(d,i[er],v,s,w,m)}const f=s[tr];null!==f&&null!==f.firstChild&&(f.firstChild=null)}function VT(i,s){const a=ko(i,s);return void 0!==a&&yd(a[ue],a),a}function As(i,s,a,l,d=!1){for(;null!==a;){if(128===a.type){a=d?a.projectionNext:a.next;continue}const f=s[a.index];null!==f&&l.push(bt(f)),nr(f)&&jO(f,l);const m=a.type;if(8&m)As(i,s,a.child,l);else if(32&m){const v=md(a,s);let w;for(;w=v();)l.push(w)}else if(16&m){const v=Li(s,a);if(Array.isArray(v))l.push(...v);else{const w=Ni(s[Jt]);As(w[ue],w,v,l,!0)}}a=d?a.projectionNext:a.next}return l}function jO(i,s){for(let a=Je;a<i.length;a++){const l=i[a],d=l[ue].firstChild;null!==d&&As(l[ue],l,d,s)}i[Do]!==i[rn]&&s.push(i[Do])}let $O=[];const YB={...De,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{jy(i.lView)},consumerOnSignalRead(){this.lView[_i]=this}},ZB={...De,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{let s=Ni(i.lView);for(;s&&!Ga(s[ue]);)s=Ni(s);s&&np(s)},consumerOnSignalRead(){this.lView[_i]=this}};function Ga(i){return 2!==i.type}const UT=100;function cE(i,s=!0,a=0){const l=i[Qi],d=l.rendererFactory;d.begin?.();try{!function bd(i,s){const a=zM();try{GM(!0),lE(i,s);let l=0;for(;_s(i);){if(l===UT)throw new Ce(103,!1);l++,lE(i,1)}}finally{GM(a)}}(i,a)}catch(m){throw s&&sE(i,m),m}finally{d.end?.(),l.inlineEffectRunner?.flush()}}function JB(i,s,a,l){const d=s[Ue];if(!(256&~d))return;s[Qi].inlineEffectRunner?.flush(),sp(s);let v=!0,w=null,C=null;Ga(i)?(C=function XB(i){return i[_i]??function QB(i){const s=$O.pop()??Object.create(YB);return s.lView=i,s}(i)}(s),w=Zt(C)):null===function at(){return p}()?(v=!1,C=function HO(i){const s=i[_i]??Object.create(ZB);return s.lView=i,s}(s),w=Zt(C)):s[_i]&&(Eo(s[_i]),s[_i]=null);try{tp(s),function op(i){return We.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&wT(i,s,a,2,l);const T=!(3&~d);if(T){const F=i.preOrderCheckHooks;null!==F&&cp(s,F,null)}else{const F=i.preOrderHooks;null!==F&&lp(s,F,0,null),up(s,0)}if(function BT(i){for(let s=IC(i);null!==s;s=td(s)){if(!(s[Ue]&Vu.HasTransplantedViews))continue;const a=s[ma];for(let l=0;l<a.length;l++)np(a[l])}}(s),GO(s,0),null!==i.contentQueries&&iE(i,s),T){const F=i.contentCheckHooks;null!==F&&cp(s,F)}else{const F=i.contentHooks;null!==F&&lp(s,F,1),up(s,1)}!function ET(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)Kc(~d);else{const f=d,m=a[++l],v=a[++l];Q0(m,f),v(2,s[f])}}}finally{Kc(-1)}}(i,s);const x=i.components;null!==x&&ag(s,x,0);const N=i.viewQuery;if(null!==N&&oE(2,N,l),T){const F=i.viewCheckHooks;null!==F&&cp(s,F)}else{const F=i.viewHooks;null!==F&&lp(s,F,2),up(s,2)}if(!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[Qf]){for(const F of s[Qf])F();s[Qf]=null}s[Ue]&=-73}catch(T){throw jy(s),T}finally{null!==C&&(ur(C,w),v&&function LT(i){i.lView[_i]!==i&&(i.lView=null,$O.push(i))}(C)),Z0()}}function GO(i,s){for(let a=IC(i);null!==a;a=td(a))for(let l=Je;l<a.length;l++)qO(a[l],s)}function WO(i,s,a){qO(Lr(s,i),a)}function qO(i,s){ep(i)&&lE(i,s)}function lE(i,s){const l=i[ue],d=i[Ue],f=i[_i];let m=!!(0===s&&16&d);if(m||=!!(64&d&&0===s),m||=!!(1024&d),m||=!(!f?.dirty||!kn(f)),m||=!1,f&&(f.dirty=!1),i[Ue]&=-9217,m)JB(l,i,l.template,i[Lt]);else if(8192&d){GO(i,1);const v=l.components;null!==v&&ag(i,v,1)}}function ag(i,s,a){for(let l=0;l<s.length;l++)WO(i,s[l],a)}function cg(i,s){const a=zM()?64:1088;for(i[Qi].changeDetectionScheduler?.notify(s);i;){i[Ue]|=a;const l=Ni(i);if(Wc(i)&&!l)return i;i=l}return null}class Wa{get rootNodes(){const s=this._lView,a=s[ue];return As(a,s,a.firstChild,[])}constructor(s,a,l=!0){this._lView=s,this._cdRefInjectingView=a,this.notifyErrorHandler=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Lt]}set context(s){this._lView[Lt]=s}get destroyed(){return!(256&~this._lView[Ue])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[An];if(nr(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(ko(s,l),Hf(a,l))}this._attachedToViewContainer=!1}yd(this._lView[ue],this._lView)}onDestroy(s){$y(this._lView,s)}markForCheck(){cg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ue]&=-129}reattach(){$0(this._lView),this._lView[Ue]|=128}detectChanges(){this._lView[Ue]|=1024,cE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const s=Wc(this._lView),a=this._lView[fs];null!==a&&!s&&Wv(a,this._lView),dT(this._lView[ue],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=s;const a=Wc(this._lView),l=this._lView[fs];null!==l&&!a&&Gv(l,this._lView),$0(this._lView)}}let lg=(()=>{class i{static{this.__NG_ELEMENT_ID__=nj}}return i})();const ej=lg,tj=class extends ej{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,l){const d=Ti(this._declarationLView,this._declarationTContainer,s,{embeddedViewInjector:a,dehydratedView:l});return new Wa(d)}};function nj(){return uE(Ut(),te())}function uE(i,s){return 4&i.type?new tj(s,i,ni(i,s)):null}const eN=new RegExp(`^(\\d+)*(${vv}|${yv})*(.*)`);function Sd(i){return i.index-Me}function Ka(i,s,a,l){const d=Sd(l);let f=function eD(i,s){const a=i.i18nNodes;if(a)return a.get(s)}(i,d);if(void 0===f){const m=i.data[Is];if(m?.[d])f=function tD(i,s){const[a,...l]=function tN(i){const s=i.match(eN),[a,l,d,f]=s,m=l?parseInt(l,10):d,v=[];for(const[w,C,T]of f.matchAll(/(f|n)(\d*)/g)){const x=parseInt(T,10)||1;v.push(C,x)}return[m,...v]}(i);let d;d=a===yv?s[Jt][rn]:a===vv?function cT(i){return i.ownerDocument.body}(s[Jt][rn]):bt(s[Number(a)+Me]);return function rN(i,s){let a=i;for(let l=0;l<s.length;l+=2){const d=s[l],f=s[l+1];for(let m=0;m<f;m++)switch(d){case Pa.FirstChild:a=a.firstChild;break;case Pa.NextSibling:a=a.nextSibling}}return a}(d,l)}(m[d],a);else if(s.firstChild===l)f=i.firstChild;else{const v=null===l.prev,w=l.prev??l.parent;if(function nN(i){return!i.prev&&8===i.parent?.type}(l))f=il(i,Sd(l.parent));else{let C=fn(w,a);if(v)f=C.firstChild;else{const T=Sd(w),x=il(i,T);f=2===w.type&&x?Di(VC(i,T)+1,x):C.nextSibling}}}}return f}function Di(i,s){let a=s;for(let l=0;l<i;l++)a=a.nextSibling;return a}let rD=!1;function Rd(i,s,a){for(const l of a.node.cases[a.case]){const d=s.get(l.index-Me);d&&tg(i,d,!1)}}function wE(i){const s=i[Fu]??[],l=i[An][Ke];for(const d of s)Ms(d,l);i[Fu]=Dt}function Ms(i,s){let a=0,l=i.firstChild;if(l){const d=i.data[Na];for(;a<d;){const f=l.nextSibling;tg(s,l,!1),l=f,a++}}}function El(i){wE(i);const s=i[rn];Sn(s)&&pg(s);for(let a=Je;a<i.length;a++)pg(i[a])}function pg(i){!function vl(i){const s=i[tr];if(s){const{i18nNodes:a,dehydratedIcuData:l}=s;if(a&&l){const d=i[Ke];for(const f of l.values())Rd(d,a,f)}s.i18nNodes=void 0,s.dehydratedIcuData=void 0}}(i);const s=i[ue];for(let a=Me;a<s.bindingStartIndex;a++)nr(i[a])?El(i[a]):Sn(i[a])&&pg(i[a])}let aD=()=>null;function _N(i,s){const a=i[Fu];return s&&null!==a&&0!==a.length?a[0].data[Vp]===s?a.shift():(wE(i),null):null}function Ps(i,s){return aD(i,s)}class Qa{}const ii=new rt("",{providedIn:"root",factory:()=>!1}),cD=new rt(""),wl=new rt("");class bE{}class gg{}class lD{resolveComponentFactory(s){throw function CE(i){const s=Error(`No component factory found for ${un(i)}.`);return s.ngComponent=i,s}(s)}}class Md{static{this.NULL=new lD}}class TE{}let Pd=(()=>{class i{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function DE(){const i=te(),a=Lr(Ut().index,i);return(Sn(a)?a:i)[Ke]}()}}return i})(),uD=(()=>{class i{static{this.\u0275prov=Vt({token:i,providedIn:"root",factory:()=>null})}}return i})();function co(i){return!!wr(i)}function _g(i,s,a){let l=a?i.styles:null,d=a?i.classes:null,f=0;if(null!==s)for(let m=0;m<s.length;m++){const v=s[m];"number"==typeof v?f=v:1==f?d=ey(d,v):2==f&&(l=ey(l,v+": "+s[++m]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=d:i.classesWithoutHost=d}class dD extends Md{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=ut(s);return new Ns(a,this.ngModule)}}function hD(i,s){const a=[];for(const l in i){if(!i.hasOwnProperty(l))continue;const d=i[l];if(void 0===d)continue;const f=Array.isArray(d),m=f?d[0]:d;a.push(s?{propName:m,templateName:l,isSignal:!!((f?d[1]:hs.None)&hs.SignalBased)}:{propName:m,templateName:l})}return a}class Ns extends gg{get inputs(){const s=this.componentDef,a=s.inputTransforms,l=hD(s.inputs,!0);if(null!==a)for(const d of l)a.hasOwnProperty(d.propName)&&(d.transform=a[d.propName]);return l}get outputs(){return hD(this.componentDef.outputs,!1)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function zU(i){return i.map(HU).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,l,d){const f=he(null);try{let m=(d=d||this.ngModule)instanceof Pi?d:d?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new ys(s,m):s,w=v.get(TE,null);if(null===w)throw new Ce(407,!1);const x={rendererFactory:w,sanitizer:v.get(uD,null),inlineEffectRunner:null,changeDetectionScheduler:v.get(Qa,null)},N=w.createRenderer(null,this.componentDef),F=this.componentDef.selectors[0][0]||"div",H=l?function zB(i,s,a,l){const f=l.get(BC,!1)||a===ha.ShadowDom,m=i.selectRootElement(s,f);return function GB(i){AO(i)}(m),m}(N,l,this.componentDef.encapsulation,v):_d(N,F,function IN(i){const s=i.toLowerCase();return"svg"===s?U0:"math"===s?"math":null}(F));let ne=512;this.componentDef.signals?ne|=4096:this.componentDef.onPush||(ne|=16);let ce=null;null!==H&&(ce=Up(H,v,!0));const de=bT(0,null,null,1,0,null,null,null,null,null,null),re=rg(null,de,null,ne,null,null,x,N,v,null,ce);sp(re);let qe,yt,Nt=null;try{const bn=this.componentDef;let Rr,Dc=null;bn.findHostDirectiveDefs?(Rr=[],Dc=new Map,bn.findHostDirectiveDefs(bn,Rr,Dc),Rr.push(bn)):Rr=[bn];const Yh=function yg(i,s){const a=i[ue],l=Me;return i[l]=s,Ds(a,l,2,"#host",null)}(re,H);Nt=function CN(i,s,a,l,d,f,m){const v=d[ue];!function fD(i,s,a,l){for(const d of i)s.mergedAttrs=Su(s.mergedAttrs,d.hostAttrs);null!==s.mergedAttrs&&(_g(s,s.mergedAttrs,!0),null!==a&&yT(l,a,s))}(l,i,s,m);let w=null;null!==s&&(w=Up(s,d[vn]));const C=f.rendererFactory.createRenderer(s,a);let T=16;a.signals?T=4096:a.onPush&&(T=64);const x=rg(d,IT(a),null,T,d[i.index],i,f,C,null,null,w);return v.firstCreatePass&&hl(v,i,l.length-1),og(d,x),d[i.index]=x}(Yh,H,bn,Rr,re,x,N),yt=Uu(de,Me),H&&function vg(i,s,a,l){if(l)Ey(i,a,["ng-version","18.2.7"]);else{const{attrs:d,classes:f}=function GU(i){const s=[],a=[];let l=1,d=2;for(;l<i.length;){let f=i[l];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++l]):8===d&&a.push(f);else{if(!Ki(d))break;d=f}l++}return{attrs:s,classes:a}}(s.selectors[0]);d&&Ey(i,a,d),f&&f.length>0&&Zv(i,a,f.join(" "))}}(N,bn,H,l),void 0!==a&&function TN(i,s,a){const l=i.projection=[];for(let d=0;d<s.length;d++){const f=a[d];l.push(null!=f?Array.from(f):null)}}(yt,this.ngContentSelectors,a),qe=function kd(i,s,a,l,d,f){const m=Ut(),v=d[ue],w=fn(m,d);MO(v,d,m,a,null,l);for(let T=0;T<a.length;T++)gr(ba(d,v,m.directiveStart+T,m),d);xT(v,d,m),w&&gr(w,d);const C=ba(d,v,m.directiveStart+m.componentOffset,m);if(i[Lt]=d[Lt]=C,null!==f)for(const T of f)T(C,s);return eE(v,m,d),C}(Nt,bn,Rr,Dc,re,[DN]),aE(de,re,null)}catch(bn){throw null!==Nt&&wi(Nt),wi(re),bn}finally{Z0()}return new bN(this.componentType,qe,ni(yt,re),re,yt)}finally{he(f)}}}class bN extends bE{constructor(s,a,l,d,f){super(),this.location=l,this._rootLView=d,this._tNode=f,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new Wa(d,void 0,!1),this.componentType=s}setInput(s,a){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const f=this._rootLView;sg(f[ue],f,d,s,a),this.previousInputValues.set(s,a),cg(Lr(this._tNode.index,f),1)}}get injector(){return new Un(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function DN(){const i=Ut();ap(te()[ue],i)}let RE=(()=>{class i{static{this.__NG_ELEMENT_ID__=Eg}}return i})();function Eg(){return Ig(Ut(),te())}const AN=RE,Ya=class extends AN{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return ni(this._hostTNode,this._hostLView)}get injector(){return new Un(this._hostTNode,this._hostLView)}get parentInjector(){const s=Jy(this._hostTNode,this._hostLView);if(hp(s)){const a=Ia(s,this._hostLView),l=wa(s);return new Un(a[ue].data[l+8],a)}return new Un(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=SN(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-Je}createEmbeddedView(s,a,l){let d,f;"number"==typeof l?d=l:null!=l&&(d=l.index,f=l.injector);const m=Ps(this._lContainer,s.ssrId),v=s.createEmbeddedViewImpl(a||{},f,m);return this.insertImpl(v,d,Ha(this._hostTNode,m)),v}createComponent(s,a,l,d,f){const m=s&&!function bo(i){return"function"==typeof i}(s);let v;if(m)v=a;else{const H=a||{};v=H.index,l=H.injector,d=H.projectableNodes,f=H.environmentInjector||H.ngModuleRef}const w=m?s:new Ns(ut(s)),C=l||this.parentInjector;if(!f&&null==w.ngModule){const ne=(m?C:this.parentInjector).get(Pi,null);ne&&(f=ne)}const T=ut(w.componentType??{}),x=Ps(this._lContainer,T?.id??null),F=w.create(C,d,x?.firstChild??null,f);return this.insertImpl(F.hostView,v,Ha(this._hostTNode,x)),F}insert(s,a){return this.insertImpl(s,a,!0)}insertImpl(s,a,l){const d=s._lView;if(function FM(i){return nr(i[An])}(d)){const v=this.indexOf(s);if(-1!==v)this.detach(v);else{const w=d[An],C=new Ya(w,w[er],w[An]);C.detach(C.indexOf(s))}}const f=this._adjustIndex(a),m=this._lContainer;return za(m,d,f,l),s.attachToViewContainerRef(),_y(wg(m),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=SN(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=ko(this._lContainer,a);l&&(Hf(wg(this._lContainer),a),yd(l[ue],l))}detach(s){const a=this._adjustIndex(s,-1),l=ko(this._lContainer,a);return l&&null!=Hf(wg(this._lContainer),a)?new Wa(l):null}_adjustIndex(s,a=0){return s??this.length+a}};function SN(i){return i[8]}function wg(i){return i[8]||(i[8]=[])}function Ig(i,s){let a;const l=s[i.index];return nr(l)?a=l:(a=NT(l,s,null,i),s[i.index]=a,og(s,a)),gD(a,s,i,l),new Ya(a,i,s)}let gD=mD,ks=()=>!1;function mD(i,s,a,l){if(i[Do])return;let d;d=8&a.type?bt(l):function pD(i,s){const a=i[Ke],l=a.createComment(""),d=fn(s,i);return $a(a,Kv(a,d),l,function pT(i,s){return i.nextSibling(s)}(a,d),!1),l}(s,a),i[Do]=d}function PE(i,s,a){if(i[Do]&&i[Fu])return!0;const l=a[tr],d=s.index-Me;if(!l||function xo(i){if(Zu(i))return!0;let s=i.parent;for(;s;){if(Zu(i)||fv(s))return!0;s=s.parent}return!1}(s)||ol(l,d))return!1;const m=il(l,d),v=l.data[Oa]?.[d],[w,C]=function Vo(i,s){const a=[];for(const l of s)for(let d=0;d<(l[Fp]??1);d++){const f={data:l,firstChild:null};l[Na]>0&&(f.firstChild=i,i=Di(l[Na],i)),a.push(f)}return[i,a]}(m,v);return i[Do]=w,i[Fu]=C,!0}function bl(i,s,a,l){ks(i,a,s)||mD(i,s,a,l)}class Lo{constructor(s){this.queryList=s,this.matches=null}clone(){return new Lo(this.queryList)}setDirty(){this.queryList.setDirty()}}class _D{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let f=0;f<l;f++){const m=a.getByIndex(f);d.push(this.queries[m.indexInDeclarationView].clone())}return new _D(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}finishViewCreation(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==ID(s,a).matches&&this.queries[a].setDirty()}}class RN{constructor(s,a,l=null){this.flags=a,this.read=l,this.predicate="string"==typeof s?function cj(i){return i.split(",").map(s=>s.trim())}(s):s}}class OE{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,f=this.getByIndex(l).embeddedTView(s,d);f&&(f.indexInDeclarationView=l,null!==a?a.push(f):a=[f])}return null!==a?new OE(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class NE{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new NE(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1&~this.metadata.flags){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const f=l[d];this.matchTNodeWithReadOption(s,a,MN(a,f)),this.matchTNodeWithReadOption(s,a,_p(a,s,f,!1,!1))}else l===lg?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,_p(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Xu||d===RE||d===lg&&4&a.type)this.addMatch(a.index,-2);else{const f=_p(a,s,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function MN(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function Vd(i,s,a,l){return-1===a?function Fd(i,s){return 11&i.type?ni(i,s):4&i.type?uE(i,s):null}(s,i):-2===a?function kE(i,s,a){return a===Xu?ni(s,i):a===lg?uE(s,i):a===RE?Ig(s,i):void 0}(i,s,l):ba(i,i[ue],a,s)}function PN(i,s,a,l){const d=s[To].queries[l];if(null===d.matches){const f=i.data,m=a.matches,v=[];for(let w=0;null!==m&&w<m.length;w+=2){const C=m[w];v.push(C<0?null:Vd(s,f[C],m[w+1],a.metadata.read))}d.matches=v}return d.matches}function FE(i,s,a,l){const d=i.queries.getByIndex(a),f=d.matches;if(null!==f){const m=PN(i,s,d,a);for(let v=0;v<f.length;v+=2){const w=f[v];if(w>0)l.push(m[v/2]);else{const C=f[v+1],T=s[-w];for(let x=Je;x<T.length;x++){const N=T[x];N[fs]===N[An]&&FE(N[ue],N,C,l)}if(null!==T[ma]){const x=T[ma];for(let N=0;N<x.length;N++){const F=x[N];FE(F[ue],F,C,l)}}}}}return l}function yD(i,s,a){const l=new Zc(!(4&~a));return function L(i,s,a,l){const d=LO(s);d.push(a),i.firstCreatePass&&kT(i).push(l,d.length-1)}(i,s,l,l.destroy),(s[To]??=new _D).queries.push(new Lo(l))-1}function wD(i,s,a){null===i.queries&&(i.queries=new OE),i.queries.track(new NE(s,a))}function ID(i,s){return i.queries.getByIndex(s)}function ON(i,s){const a=i[ue],l=ID(a,s);return l.crossesNgTemplate?FE(a,i,s,[]):PN(a,i,l,s)}const bD=new Set;function Ar(i){bD.has(i)||(bD.add(i),performance?.mark?.("mark_feature_usage",{detail:{feature:i}}))}function CD(i){return"function"==typeof i&&void 0!==i[pe]}function NN(i,s){Ar("NgSignals");const a=function hU(i){const s=Object.create(Q_);s.value=i;const a=()=>(le(s),s.value);return a[pe]=s,a}(i),l=a[pe];return s?.equal&&(l.equal=s.equal),a.set=d=>yu(l,d),a.update=d=>function xf(i,s){It()||Af(),yu(i,s(i.value))}(l,d),a.asReadonly=kN.bind(a),a}function kN(){const i=this[pe];if(void 0===i.readonlyFn){const s=()=>this();s[pe]=i,i.readonlyFn=s}return i.readonlyFn}function Bd(i){let s=function OD(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let d;if(yi(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ce(903,!1);d=s.\u0275dir}if(d){if(a){l.push(d);const m=i;m.inputs=Tg(i.inputs),m.inputTransforms=Tg(i.inputTransforms),m.declaredInputs=Tg(i.declaredInputs),m.outputs=Tg(i.outputs);const v=d.hostBindings;v&&GE(i,v);const w=d.viewQuery,C=d.contentQueries;if(w&&zE(i,w),C&&WN(i,C),ND(i,d),XR(i.outputs,d.outputs),yi(d)&&d.data.animation){const T=i.data;T.animation=(T.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let m=0;m<f.length;m++){const v=f[m];v&&v.ngInherit&&v(i),v===Bd&&(a=!1)}}s=Object.getPrototypeOf(s)}!function HE(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=s+=d.hostVars,d.hostAttrs=Su(d.hostAttrs,a=Su(a,d.hostAttrs))}}(l)}function ND(i,s){for(const a in s.inputs){if(!s.inputs.hasOwnProperty(a)||i.inputs.hasOwnProperty(a))continue;const l=s.inputs[a];if(void 0!==l&&(i.inputs[a]=l,i.declaredInputs[a]=s.declaredInputs[a],null!==s.inputTransforms)){const d=Array.isArray(l)?l[0]:l;if(!s.inputTransforms.hasOwnProperty(d))continue;i.inputTransforms??={},i.inputTransforms[d]=s.inputTransforms[d]}}}function Tg(i){return i===qi?{}:i===Dt?[]:i}function zE(i,s){const a=i.viewQuery;i.viewQuery=a?(l,d)=>{s(l,d),a(l,d)}:s}function WN(i,s){const a=i.contentQueries;i.contentQueries=a?(l,d,f)=>{s(l,d,f),a(l,d,f)}:s}function GE(i,s){const a=i.hostBindings;i.hostBindings=a?(l,d)=>{s(l,d),a(l,d)}:s}function qN(i){const s=a=>{const l=(Array.isArray(i)?i:i()).map(d=>"function"==typeof d?{directive:ze(d),inputs:qi,outputs:qi}:{directive:ze(d.directive),inputs:Dg(d.inputs),outputs:Dg(d.outputs)});null===a.hostDirectives?(a.findHostDirectiveDefs=FD,a.hostDirectives=l):a.hostDirectives.unshift(...l)};return s.ngInherit=!0,s}function FD(i,s,a){if(null!==i.hostDirectives)for(const l of i.hostDirectives){const d=Tn(l.directive);qE(d.declaredInputs,l.inputs),FD(d,s,a),a.set(d,l),s.push(d)}}function Dg(i){if(void 0===i||0===i.length)return qi;const s={};for(let a=0;a<i.length;a+=2)s[i[a]]=i[a+1];return s}function qE(i,s){for(const a in s)s.hasOwnProperty(a)&&(i[s[a]]=i[a])}function lo(i){const s=i.inputConfig,a={};for(const l in s)if(s.hasOwnProperty(l)){const d=s[l];Array.isArray(d)&&d[3]&&(a[l]=d[3])}i.inputTransforms=a}class jo{}class VD{}function KN(i,s){return new ec(i,s??null,[])}class ec extends jo{constructor(s,a,l,d=!0){super(),this.ngModuleType=s,this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dD(this);const f=wr(s);this._bootstrapComponents=ri(f.bootstrap),this._r3Injector=_P(s,a,[{provide:jo,useValue:this},{provide:Md,useValue:this.componentFactoryResolver},...l],un(s),new Set(["environment"])),d&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class $d extends VD{constructor(s){super(),this.moduleType=s}create(s){return new ec(this.moduleType,s,[])}}class Ag extends jo{constructor(s){super(),this.componentFactoryResolver=new dD(this),this.instance=null;const a=new Mu([...s.providers,{provide:jo,useValue:this},{provide:Md,useValue:this.componentFactoryResolver}],s.parent||Ay(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function QE(i,s,a=null){return new Ag({providers:i,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}function Dl(i){return!!Vs(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function Vs(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ot(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Bi(i){return!(32&~i.flags)}function xl(i,s,a,l,d,f,m,v,w,C){const T=a+Me,x=s.firstCreatePass?function BD(i,s,a,l,d,f,m,v,w){const C=s.consts,T=Ds(s,i,4,m||null,v||null);dl(s,a,T,fr(C,w)),ap(s,T);const x=T.tView=bT(2,T,l,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,C,null);return null!==s.queries&&(s.queries.template(s,T),x.queries=s.queries.embeddedTView(T)),T}(T,s,i,l,d,f,m,v,w):s.data[T];Zi(x,!1);const N=ZE(s,i,x,a);Xc()&&Qv(s,i,N,x),gr(N,i);const F=NT(N,i,N,x);return i[T]=F,og(i,F),function ME(i,s,a){return ks(i,s,a)}(F,x,i),Lu(x)&&tE(s,i,x),null!=w&&ig(i,x,C),x}function Sg(i,s,a,l,d,f,m,v){const w=te(),C=dt();return xl(w,C,i,s,a,l,d,fr(C.consts,f),m,v),Sg}let ZE=JE;function JE(i,s,a,l){return ti(!0),s[Ke].createComment("")}function jD(i,s,a,l){const d=s[tr],f=!d||Ea()||Bi(a)||ol(d,l);if(ti(f),f)return JE(0,s);const m=d.data[Ev]?.[l]??null;null!==m&&null!==a.tView&&null===a.tView.ssrId&&(a.tView.ssrId=m);const v=Ka(d,i,s,a);return rl(d,l,v),Di(VC(d,l),v)}var Rl=function(i){return i[i.EarlyRead=0]="EarlyRead",i[i.Write=1]="Write",i[i.MixedReadWrite=2]="MixedReadWrite",i[i.Read=3]="Read",i}(Rl||{});let Ng=(()=>{class i{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Vt({token:i,providedIn:"root",factory:()=>new i})}}return i})();class qd{constructor(){this.ngZone=ke(en),this.scheduler=ke(Qa),this.errorHandler=ke(qn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Rl.EarlyRead,Rl.Write,Rl.MixedReadWrite,Rl.Read]}execute(){this.executing=!0;for(const s of qd.PHASES)for(const a of this.sequences)if(!a.erroredOrDestroyed&&a.hooks[s])try{a.pipelinedValue=this.ngZone.runOutsideAngular(()=>a.hooks[s](a.pipelinedValue))}catch(l){a.erroredOrDestroyed=!0,this.errorHandler?.handleError(l)}this.executing=!1;for(const s of this.sequences)s.afterRun(),s.once&&this.sequences.delete(s);for(const s of this.deferredRegistrations)this.sequences.add(s);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(s){this.executing?this.deferredRegistrations.add(s):(this.sequences.add(s),this.scheduler.notify(6))}unregister(s){this.executing&&this.sequences.has(s)?(s.erroredOrDestroyed=!0,s.pipelinedValue=void 0,s.once=!0):(this.sequences.delete(s),this.deferredRegistrations.delete(s))}static{this.\u0275prov=Vt({token:qd,providedIn:"root",factory:()=>new qd})}}class YN{constructor(s,a,l,d){this.impl=s,this.hooks=a,this.once=l,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=d?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function GD(i,s){!s?.injector&&jc();const a=s?.injector??ke(Ir);return Cr(a)?(Ar("NgAfterRender"),WD(i,a,s,!1)):tw}function Kd(i,s){!s?.injector&&jc();const a=s?.injector??ke(Ir);return Cr(a)?(Ar("NgAfterNextRender"),WD(i,a,s,!0)):tw}function WD(i,s,a,l){const d=s.get(Ng);d.impl??=s.get(qd);const f=a?.phase??Rl.MixedReadWrite,m=!0!==a?.manualCleanup?s.get(vp):null,v=new YN(d.impl,function ZN(i,s){if(i instanceof Function){const a=[void 0,void 0,void 0,void 0];return a[s]=i,a}return[i.earlyRead,i.write,i.mixedReadWrite,i.read]}(i,f),l,m);return d.impl.register(v),v}const tw={destroy(){}};function rA(i,s,a,l){const d=te();return Ot(d,ki(),s)&&(dt(),oo(qt(),d,i,s,a,l)),rA}function sr(i,s,a,l,d,f){const v=function Sl(i,s,a,l){const d=Ot(i,s,a);return Ot(i,s+1,l)||d}(i,function Ji(){return We.lFrame.bindingIndex}(),a,d);return Ao(2),v?s+tt(a)+l+tt(d)+f:nt}function Ol(i,s){return i<<17|s<<2}function ho(i){return i>>17&32767}function ih(i){return 2|i}function cc(i){return(131068&i)>>2}function oh(i,s){return-131069&i|s<<2}function sh(i){return 1|i}function Yg(i,s,a,l){const d=i[a+1],f=null===s;let m=l?ho(d):cc(d),v=!1;for(;0!==m&&(!1===v||f);){const C=i[m+1];Zg(i[m],s)&&(v=!0,i[m+1]=l?sh(C):ih(C)),m=l?ho(C):cc(C)}v&&(i[a+1]=l?ih(d):sh(d))}function Zg(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Au(i,s)>=0}const wn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Jg(i){return i.substring(wn.key,wn.keyEnd)}function pk(i,s){const a=wn.textEnd;return a===s?-1:(s=wn.keyEnd=function bw(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,wn.key=s,a),Nl(i,s,a))}function Nl(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function oA(i,s,a){const l=te();return Ot(l,ki(),s)&&Tr(dt(),qt(),l,i,s,l[Ke],a,!1),oA}function ch(i,s,a,l,d){const m=d?"class":"style";sg(i,a,s.inputs[m],m,l)}function sA(i,s,a){return si(i,s,a,!1),sA}function aA(i,s){return si(i,s,null,!0),aA}function rm(i){!function fo(i,s,a,l){const d=dt(),f=Ao(2);d.firstUpdatePass&&_k(d,null,f,l);const m=te();if(a!==nt&&Ot(m,f,a)){const v=d.data[pr()];if(cA(v,l)&&!im(d,f)){let w=l?v.classesWithoutHost:v.stylesWithoutHost;null!==w&&(a=ey(w,a||"")),ch(d,v,m,a,l)}else!function vk(i,s,a,l,d,f,m,v){d===nt&&(d=Dt);let w=0,C=0,T=0<d.length?d[0]:null,x=0<f.length?f[0]:null;for(;null!==T||null!==x;){const N=w<d.length?d[w+1]:void 0,F=C<f.length?f[C+1]:void 0;let ne,H=null;T===x?(w+=2,C+=2,N!==F&&(H=x,ne=F)):null===x||null!==T&&T<x?(w+=2,H=T):(C+=2,H=x,ne=F),null!==H&&lc(i,s,a,l,H,ne,m,v),T=w<d.length?d[w]:null,x=C<f.length?f[C]:null}}(d,v,m,m[Ke],m[f+1],m[f+1]=function Ij(i,s,a){if(null==a||""===a)return Dt;const l=[],d=Vi(a);if(Array.isArray(d))for(let f=0;f<d.length;f++)i(l,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&i(l,f,d[f]);else"string"==typeof d&&s(l,d);return l}(i,s,a),l,f)}}(Aw,Wo,i,!0)}function Wo(i,s){for(let a=function ww(i){return function em(i){wn.key=0,wn.keyEnd=0,wn.value=0,wn.valueEnd=0,wn.textEnd=i.length}(i),pk(i,Nl(i,0,wn.textEnd))}(s);a>=0;a=pk(s,a))ei(i,Jg(s),!0)}function si(i,s,a,l){const d=te(),f=dt(),m=Ao(2);f.firstUpdatePass&&_k(f,i,m,l),s!==nt&&Ot(d,m,s)&&lc(f,f.data[pr()],d,d[Ke],i,d[m+1]=function Ek(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=un(Vi(i)))),i}(s,a),l,m)}function im(i,s){return s>=i.expandoStartIndex}function _k(i,s,a,l){const d=i.data;if(null===d[a+1]){const f=d[pr()],m=im(i,a);cA(f,l)&&null===s&&!m&&(s=!1),s=function Cw(i,s,a,l){const d=function Y0(i){const s=We.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(a=om(a=lh(null,i,s,a,l),s.attrs,l),f=null);else{const m=s.directiveStylingLast;if(-1===m||i[m]!==d)if(a=lh(d,i,s,a,l),null===f){let w=function yk(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==cc(l))return i[ho(l)]}(i,s,l);void 0!==w&&Array.isArray(w)&&(w=lh(null,i,s,w[1],l),w=om(w,s.attrs,l),function Tw(i,s,a,l){i[ho(a?s.classBindings:s.styleBindings)]=l}(i,s,l,w))}else f=function wj(i,s,a){let l;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)l=om(l,i[f].hostAttrs,a);return om(l,s.attrs,a)}(i,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),a}(d,f,s,l),function ah(i,s,a,l,d,f){let m=f?s.classBindings:s.styleBindings,v=ho(m),w=cc(m);i[l]=a;let T,C=!1;if(Array.isArray(a)?(T=a[1],(null===T||Au(a,T)>0)&&(C=!0)):T=a,d)if(0!==w){const N=ho(i[v+1]);i[l+1]=Ol(N,v),0!==N&&(i[N+1]=oh(i[N+1],l)),i[v+1]=function hk(i,s){return 131071&i|s<<17}(i[v+1],l)}else i[l+1]=Ol(v,0),0!==v&&(i[v+1]=oh(i[v+1],l)),v=l;else i[l+1]=Ol(w,0),0===v?v=l:i[w+1]=oh(i[w+1],l),w=l;C&&(i[l+1]=ih(i[l+1])),Yg(i,T,l,!0),Yg(i,T,l,!1),function Ew(i,s,a,l,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&Au(f,s)>=0&&(a[l+1]=sh(a[l+1]))}(s,T,i,l,f),m=Ol(v,w),f?s.classBindings=m:s.styleBindings=m}(d,f,s,a,m,l)}}function lh(i,s,a,l,d){let f=null;const m=a.directiveEnd;let v=a.directiveStylingLast;for(-1===v?v=a.directiveStart:v++;v<m&&(f=s[v],l=om(l,f.hostAttrs,d),f!==i);)v++;return null!==i&&(a.directiveStylingLast=v),l}function om(i,s,a){const l=a?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const m=s[f];"number"==typeof m?d=m:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),ei(i,m,!!a||s[++f]))}return void 0===i?null:i}function Aw(i,s,a){const l=String(s);""!==l&&!l.includes(" ")&&ei(i,l,a)}function lc(i,s,a,l,d,f,m,v){if(!(3&s.type))return;const w=i.data,C=w[v+1],T=function fk(i){return!(1&~i)}(C)?Sw(w,s,a,d,cc(C),m):void 0;sm(T)||(sm(f)||function vw(i){return!(2&~i)}(C)&&(f=Sw(w,null,a,d,v,m)),function bO(i,s,a,l,d){if(s)d?i.addClass(a,l):i.removeClass(a,l);else{let f=-1===l.indexOf("-")?void 0:Qp.DashCase;null==d?i.removeStyle(a,l,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=Qp.Important),i.setStyle(a,l,d,f))}}(l,m,ms(pr(),a),d,f))}function Sw(i,s,a,l,d,f){const m=null===s;let v;for(;d>0;){const w=i[d],C=Array.isArray(w),T=C?w[1]:w,x=null===T;let N=a[d+1];N===nt&&(N=x?Dt:void 0);let F=x?w0(N,l):T===l?N:void 0;if(C&&!sm(F)&&(F=w0(w,l)),sm(F)&&(v=F,m))return v;const H=i[d+1];d=m?ho(H):cc(H)}if(null!==s){let w=f?s.residualClasses:s.residualStyles;null!=w&&(v=w0(w,l))}return v}function sm(i){return void 0!==i}function cA(i,s){return!!(i.flags&(s?8:16))}class xj{destroy(s){}updateValue(s,a){}swap(s,a){const l=Math.min(s,a),d=Math.max(s,a),f=this.detach(d);if(d-l>1){const m=this.detach(l);this.attach(l,f),this.attach(d,m)}else this.attach(l,f)}move(s,a){this.attach(a,this.detach(s))}}function lA(i,s,a,l,d){return i===a&&Object.is(s,l)?1:Object.is(d(i,s),d(a,l))?-1:0}function uh(i,s,a,l){return!(void 0===s||!s.has(l)||(i.attach(a,s.get(l)),s.delete(l),0))}function Hs(i,s,a,l,d){if(uh(i,s,l,a(l,d)))i.updateValue(l,d);else{const f=i.create(l,d);i.attach(l,f)}}function am(i,s,a,l){const d=new Set;for(let f=s;f<=a;f++)d.add(l(f,i.at(f)));return d}class Ck{constructor(){this.kvMap=new Map,this._vMap=void 0}has(s){return this.kvMap.has(s)}delete(s){if(!this.has(s))return!1;const a=this.kvMap.get(s);return void 0!==this._vMap&&this._vMap.has(a)?(this.kvMap.set(s,this._vMap.get(a)),this._vMap.delete(a)):this.kvMap.delete(s),!0}get(s){return this.kvMap.get(s)}set(s,a){if(this.kvMap.has(s)){let l=this.kvMap.get(s);void 0===this._vMap&&(this._vMap=new Map);const d=this._vMap;for(;d.has(l);)l=d.get(l);d.set(l,a)}else this.kvMap.set(s,a)}forEach(s){for(let[a,l]of this.kvMap)if(s(l,a),void 0!==this._vMap){const d=this._vMap;for(;d.has(l);)l=d.get(l),s(l,a)}}}function uA(i,s){Ar("NgControlFlow");const a=te(),l=ki(),d=a[l]!==nt?a[l]:-1,f=-1!==d?um(a,Me+d):void 0;if(Ot(a,l,i)){const v=he(null);try{if(void 0!==f&&VT(f,0),-1!==i){const w=Me+i,C=um(a,w),T=Mw(a[ue],w),x=Ps(C,T.tView.ssrId);za(C,Ti(a,T,s,{dehydratedView:x}),0,Ha(T,x))}}finally{he(v)}}else if(void 0!==f){const v=FT(f,0);void 0!==v&&(v[Lt]=s)}}class Tk{constructor(s,a,l){this.lContainer=s,this.$implicit=a,this.$index=l}get $count(){return this.lContainer.length-Je}}function dA(i,s){return s}class Dk{constructor(s,a,l){this.hasEmptyBlock=s,this.trackByFn=a,this.liveCollection=l}}function cm(i,s,a,l,d,f,m,v,w,C,T,x,N){Ar("NgControlFlow");const F=te(),H=dt(),ne=void 0!==w,ce=te(),de=v?m.bind(ce[Jt][Lt]):m,re=new Dk(ne,de);ce[Me+i]=re,xl(F,H,i+1,s,a,l,d,fr(H.consts,f)),ne&&xl(F,H,i+2,w,C,T,x,fr(H.consts,N))}class lm extends xj{constructor(s,a,l){super(),this.lContainer=s,this.hostLView=a,this.templateTNode=l,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Je}at(s){return this.getLView(s)[Lt].$implicit}attach(s,a){const l=a[tr];this.needsIndexUpdate||=s!==this.length,za(this.lContainer,a,s,Ha(this.templateTNode,l))}detach(s){return this.needsIndexUpdate||=s!==this.length-1,function Ak(i,s){return ko(i,s)}(this.lContainer,s)}create(s,a){const l=Ps(this.lContainer,this.templateTNode.tView.ssrId),d=Ti(this.hostLView,this.templateTNode,new Tk(this.lContainer,a,s),{dehydratedView:l});return this.operationsCounter?.recordCreate(),d}destroy(s){yd(s[ue],s),this.operationsCounter?.recordDestroy()}updateValue(s,a){this.getLView(s)[Lt].$implicit=a}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let s=0;s<this.length;s++)this.getLView(s)[Lt].$index=s}getLView(s){return function Pj(i,s){return FT(i,s)}(this.lContainer,s)}}function Rw(i){const s=he(null),a=pr();try{const l=te(),d=l[ue],f=l[a],m=a+1,v=um(l,m);if(void 0===f.liveCollection){const C=Mw(d,m);f.liveCollection=new lm(v,l,C)}else f.liveCollection.reset();const w=f.liveCollection;if(function Rj(i,s,a){let l,d,f=0,m=i.length-1;if(Array.isArray(s)){let w=s.length-1;for(;f<=m&&f<=w;){const C=i.at(f),T=s[f],x=lA(f,C,f,T,a);if(0!==x){x<0&&i.updateValue(f,T),f++;continue}const N=i.at(m),F=s[w],H=lA(m,N,w,F,a);if(0!==H){H<0&&i.updateValue(m,F),m--,w--;continue}const ne=a(f,C),ce=a(m,N),de=a(f,T);if(Object.is(de,ce)){const re=a(w,F);Object.is(re,ne)?(i.swap(f,m),i.updateValue(m,F),w--,m--):i.move(m,f),i.updateValue(f,T),f++}else if(l??=new Ck,d??=am(i,f,m,a),uh(i,l,f,de))i.updateValue(f,T),f++,m++;else if(d.has(de))l.set(ne,i.detach(f)),m--;else{const re=i.create(f,s[f]);i.attach(f,re),f++,m++}}for(;f<=w;)Hs(i,l,a,f,s[f]),f++}else if(null!=s){const w=s[Symbol.iterator]();let C=w.next();for(;!C.done&&f<=m;){const T=i.at(f),x=C.value,N=lA(f,T,f,x,a);if(0!==N)N<0&&i.updateValue(f,x),f++,C=w.next();else{l??=new Ck,d??=am(i,f,m,a);const F=a(f,x);if(uh(i,l,f,F))i.updateValue(f,x),f++,m++,C=w.next();else if(d.has(F)){const H=a(f,T);l.set(H,i.detach(f)),m--}else i.attach(f,i.create(f,x)),f++,m++,C=w.next()}}for(;!C.done;)Hs(i,l,a,i.length,C.value),C=w.next()}for(;f<=m;)i.destroy(i.detach(m--));l?.forEach(w=>{i.destroy(w)})}(w,i,f.trackByFn),w.updateIndexes(),f.hasEmptyBlock){const C=ki(),T=0===w.length;if(Ot(l,C,T)){const x=a+2,N=um(l,x);if(T){const F=Mw(d,x),H=Ps(N,F.tView.ssrId);za(N,Ti(l,F,void 0,{dehydratedView:H}),0,Ha(F,H))}else VT(N,0)}}}finally{he(s)}}function um(i,s){return i[s]}function Mw(i,s){return Uu(i,s)}function dh(i,s,a,l){const d=te(),f=dt(),m=Me+i,v=d[Ke],w=f.firstCreatePass?function Oj(i,s,a,l,d,f){const m=s.consts,w=Ds(s,i,2,l,fr(m,d));return dl(s,a,w,fr(m,f)),null!==w.attrs&&_g(w,w.attrs,!1),null!==w.mergedAttrs&&_g(w,w.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,w),w}(m,f,d,s,a,l):f.data[m],C=hm(f,d,w,v,s,i);d[m]=C;const T=Lu(w);return Zi(w,!0),yT(v,C,w),!Bi(w)&&Xc()&&Qv(f,d,C,w),0===function hB(){return We.lFrame.elementDepthCount}()&&gr(C,d),function z0(){We.lFrame.elementDepthCount++}(),T&&(tE(f,d,w),eE(f,w,d)),null!==l&&ig(d,w),dh}function dm(){let i=Ut();W0()?q0():(i=i.parent,Zi(i,!1));const s=i;(function pB(i){return We.skipHydrationRootTNode===i})(s)&&function BM(){We.skipHydrationRootTNode=null}(),function fB(){We.lFrame.elementDepthCount--}();const a=dt();return a.firstCreatePass&&(ap(a,i),Yf(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function tP(i){return!!(8&i.flags)}(s)&&ch(a,s,te(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function nP(i){return!!(16&i.flags)}(s)&&ch(a,s,te(),s.stylesWithoutHost,!1),dm}function Pw(i,s,a,l){return dh(i,s,a,l),dm(),Pw}let hm=(i,s,a,l,d,f)=>(ti(!0),_d(l,d,Xy()));function Sk(i,s,a,l,d,f){const m=s[tr],v=!m||Ea()||Bi(a)||ol(m,f);if(ti(v),v)return _d(l,d,Xy());const w=Ka(m,i,s,a);return jP(m,f)&&rl(m,f,w.nextSibling),m&&(fv(a)||Yu(w))&&_a(a)&&(function rp(i){We.skipHydrationRootTNode=i}(a),wO(w)),w}let fA=(i,s,a,l)=>(ti(!0),zv(s[Ke],""));function Rk(i,s,a,l){let d;const f=s[tr],m=!f||Ea()||ol(f,l)||Bi(a);if(ti(m),m)return zv(s[Ke],"");const v=Ka(f,i,s,a),w=function UP(i,s){const a=i.data;let l=a[ws]?.[s]??null;return null===l&&a[Oa]?.[s]&&(l=VC(i,s)),l}(f,l);return rl(f,l,v),d=Di(w,v),d}function gA(){return te()}function kl(i,s,a){const l=te();return Ot(l,ki(),s)&&Tr(dt(),qt(),l,i,s,l[Ke],a,!0),kl}const ji=void 0;var Mk=["en",[["a","p"],["AM","PM"],ji],[["AM","PM"],ji,ji],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ji,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ji,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ji,"{1} 'at' {0}",ji],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function pm(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let zs={};function fh(i){const s=function Fj(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=kw(s);if(a)return a;const l=s.split("-")[0];if(a=kw(l),a)return a;if("en"===l)return Mk;throw new Ce(701,!1)}function gm(i){return fh(i)[Fl.PluralCase]}function kw(i){return i in zs||(zs[i]=Vn.ng&&Vn.ng.common&&Vn.ng.common.locales&&Vn.ng.common.locales[i]),zs[i]}var Fl=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(Fl||{});const mm="en-US";let mA=mm,MA=(i,s,a)=>{};function _h(i,s,a,l){const d=te(),f=dt(),m=Ut();return function Yw(i,s,a,l,d,f,m){const v=Lu(l),C=i.firstCreatePass&&kT(i),T=s[Lt],x=LO(s);let N=!0;if(3&l.type||m){const ne=fn(l,s),ce=m?m(ne):ne,de=x.length,re=m?yt=>m(bt(yt[l.index])):l.index;let qe=null;if(!m&&v&&(qe=function Zk(i,s,a,l){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const m=d[f];if(m===a&&d[f+1]===l){const v=s[$c],w=d[f+2];return v.length>w?v[w]:null}"string"==typeof m&&(f+=2)}return null}(i,s,d,l.index)),null!==qe)(qe.__ngLastListenerFn__||qe).__ngNextListenerFn__=f,qe.__ngLastListenerFn__=f,N=!1;else{f=NA(l,s,T,f),MA(ne,d,f);const yt=a.listen(ce,d,f);x.push(f,yt),C&&C.push(d,re,de,de+1)}}else f=NA(l,s,T,f);const F=l.outputs;let H;if(N&&null!==F&&(H=F[d])){const ne=H.length;if(ne)for(let ce=0;ce<ne;ce+=2){const Nt=s[H[ce]][H[ce+1]].subscribe(f),bn=x.length;x.push(f,Nt),C&&C.push(d,l.index,bn,-(bn+1))}}}(f,d,d[Ke],m,i,s,l),_h}function Cm(i,s,a,l){const d=he(null);try{return Yi(6,s,a),!1!==a(l)}catch(f){return sE(i,f),!1}finally{Yi(7,s,a),he(d)}}function NA(i,s,a,l){return function d(f){if(f===Function)return l;cg(i.componentOffset>-1?Lr(i.index,s):s,5);let v=Cm(s,a,l,f),w=d.__ngNextListenerFn__;for(;w;)v=Cm(s,a,w,f)&&v,w=w.__ngNextListenerFn__;return v}}function Zw(i=1){return function _B(i){return(We.lFrame.contextLView=function By(i,s){for(;i>0;)s=s[ga],i--;return s}(i,We.lFrame.contextLView))[Lt]}(i)}function Jk(i,s){let a=null;const l=function UU(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(i);for(let d=0;d<s.length;d++){const f=s[d];if("*"!==f){if(null===l?wM(i,f,!0):$U(l,f))return d}else a=d}return a}function yh(i){const s=te()[Jt][er];if(!s.projection){const l=s.projection=function zf(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}(i?i.length:1,null),d=l.slice();let f=s.child;for(;null!==f;){if(128!==f.type){const m=i?Jk(f,i):0;null!==m&&(d[m]?d[m].projectionNext=f:l[m]=f,d[m]=f)}f=f.next}}}function kA(i,s=0,a,l,d,f){const m=te(),v=dt(),w=l?i+1:null;null!==w&&xl(m,v,w,l,d,f,null,a);const C=Ds(v,Me+i,16,null,a||null);null===C.projection&&(C.projection=s),q0();const x=!m[tr]||Ea();null===m[Jt][er].projection[C.projection]&&null!==w?function e1(i,s,a){const l=Me+a,d=s.data[l],f=i[l],m=Ps(f,d.tView.ssrId);za(f,Ti(i,d,void 0,{dehydratedView:m}),0,Ha(d,m))}(m,v,w):x&&32&~C.flags&&function _T(i,s,a){ng(s[Ke],0,s,a,Ci(i,a,s),vO(a.parent||s[er],a,s))}(v,m,C)}function zA(i,s,a,l){!function ED(i,s,a,l){const d=dt();if(d.firstCreatePass){const f=Ut();wD(d,new RN(s,a,l),f.index),function lj(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),!(2&~a)&&(d.staticContentQueries=!0)}return yD(d,te(),a)}(i,s,a,l)}function GA(i,s,a){!function vD(i,s,a){const l=dt();return l.firstCreatePass&&(wD(l,new RN(i,s,a),-1),!(2&~s)&&(l.staticViewQueries=!0)),yD(l,te(),s)}(i,s,a)}function eI(i){const s=te(),a=dt(),l=eo();to(l+1);const d=ID(a,l);if(i.dirty&&function j0(i){return!(4&~i[Ue])}(s)===!(2&~d.metadata.flags)){if(null===d.matches)i.reset([]);else{const f=ON(s,l);i.reset(f,_C),i.notifyOnChanges()}return!0}return!1}function WA(){return function Ld(i,s){return i[To].queries[s].queryList}(te(),eo())}function nI(i){return function va(i,s){return i[s]}(function K0(){return We.lFrame.contextLView}(),Me+i)}function JA(i,s=""){const a=te(),l=dt(),d=i+Me,f=l.firstCreatePass?Ds(l,d,1,s,null):l.data[d],m=cI(l,a,f,s,i);a[d]=m,Xc()&&Qv(l,a,m,f),Zi(f,!1)}let cI=(i,s,a,l,d)=>(ti(!0),Zp(s[Ke],l));function c1(i,s,a,l,d){const f=s[tr],m=!f||Ea()||Bi(a)||ol(f,d);return ti(m),m?Zp(s[Ke],l):Ka(f,i,s,a)}function Eh(i,s,a){const l=te(),d=function js(i,s,a,l){return Ot(i,ki(),a)?s+tt(a)+l:nt}(l,i,s,a);return d!==nt&&so(l,pr(),d),Eh}function wh(i,s,a,l,d){const f=te(),m=sr(f,i,s,a,l,d);return m!==nt&&so(f,pr(),m),wh}function oS(i,s,a,l,d){if(i=ze(i),Array.isArray(i))for(let f=0;f<i.length;f++)oS(i[f],s,a,l,d);else{const f=dt(),m=te(),v=Ut();let w=pa(i)?i:ze(i.provide);const C=xM(i),T=1048575&v.providerIndexes,x=v.directiveStart,N=v.providerIndexes>>20;if(pa(i)||!i.multi){const F=new ju(C,d,ul),H=aS(w,s,d?T:T+N,x);-1===H?(gp(Qc(v,m),f,w),sS(f,i,s.length),s.push(w),v.directiveStart++,v.directiveEnd++,d&&(v.providerIndexes+=1048576),a.push(F),m.push(F)):(a[H]=F,m[H]=F)}else{const F=aS(w,s,T+N,x),H=aS(w,s,T,T+N),ce=H>=0&&a[H];if(d&&!ce||!d&&!(F>=0&&a[F])){gp(Qc(v,m),f,w);const de=function Jj(i,s,a,l,d){const f=new ju(i,a,ul);return f.multi=[],f.index=s,f.componentProviders=0,m1(f,d,l&&!a),f}(d?Zj:Yj,a.length,d,l,C);!d&&ce&&(a[H].providerFactory=de),sS(f,i,s.length,0),s.push(w),v.directiveStart++,v.directiveEnd++,d&&(v.providerIndexes+=1048576),a.push(de),m.push(de)}else sS(f,i,F>-1?F:H,m1(a[d?H:F],C,!d&&l));!d&&l&&ce&&a[H].componentProviders++}}}function sS(i,s,a,l){const d=pa(s),f=function KU(i){return!!i.useClass}(s);if(d||f){const w=(f?ze(s.useClass):s).prototype.ngOnDestroy;if(w){const C=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const T=C.indexOf(a);-1===T?C.push(a,[l,w]):C[T+1].push(l,w)}else C.push(a,w)}}}function m1(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function aS(i,s,a,l){for(let d=a;d<l;d++)if(s[d]===i)return d;return-1}function Yj(i,s,a,l){return uI(this.multi,[])}function Zj(i,s,a,l){const d=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=ba(a,a[ue],this.providerFactory.index,l);f=v.slice(0,m),uI(d,f);for(let w=m;w<v.length;w++)f.push(v[w])}else f=[],uI(d,f);return f}function uI(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function _1(i,s=[]){return a=>{a.providersResolver=(l,d)=>function Qj(i,s,a){const l=dt();if(l.firstCreatePass){const d=yi(i);oS(a,l.data,l.blueprint,d,!0),oS(s,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,s)}}let e$=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const l=S0(0,a.type),d=l.length>0?QE([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,d)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Vt({token:i,providedIn:"environment",factory:()=>new i(Gn(Pi))})}}return i})();function y1(i){Ar("NgStandalone"),i.getStandaloneInjector=s=>s.get(e$).getOrCreateStandaloneInjector(i)}class mc{constructor(s){this.full=s;const a=s.split(".");this.major=a[0],this.minor=a[1],this.patch=a.slice(2).join(".")}}const mI=new mc("18.2.7");let yS=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}static{this.\u0275fac=function(l){return new(l||i)}}static{this.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"platform"})}}return i})();const Rh=new rt(""),EI=new rt("");let wI,L1=(()=>{class i{constructor(a,l,d){this._ngZone=a,this.registry=l,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,wI||(function U1(i){wI=i}(d),d.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{en.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb()}});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),a()},l)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,d){return[]}static{this.\u0275fac=function(l){return new(l||i)(Gn(en),Gn(AS),Gn(EI))}}static{this.\u0275prov=Vt({token:i,factory:i.\u0275fac})}}return i})(),AS=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return wI?.findTestabilityInTree(this,a,l)??null}static{this.\u0275fac=function(l){return new(l||i)}}static{this.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"platform"})}}return i})();function II(i){return!!i&&"function"==typeof i.then}function SS(i){return!!i&&"function"==typeof i.subscribe}const xS=new rt("");let RS=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l}),this.appInits=ke(xS,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const d of this.appInits){const f=d();if(II(f))a.push(f);else if(SS(f)){const m=new Promise((v,w)=>{f.subscribe({complete:v,error:w})});a.push(m)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}static{this.\u0275fac=function(l){return new(l||i)}}static{this.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();const Fm=new rt("");function bI(i,s){return Array.isArray(s)?s.reduce(bI,i):{...i,...s}}let Ph,go=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ke(vi),this.afterRenderManager=ke(Ng),this.zonelessEnabled=ke(ii),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Y_.B,this.afterTick=new Y_.B,this.componentTypes=[],this.components=[],this.isStable=ke(Ca).hasPendingTasks.pipe((0,mU.T)(a=>!a)),this._injector=ke(Pi)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let a;return new Promise(l=>{a=this.isStable.subscribe({next:d=>{d&&l()}})}).finally(()=>{a.unsubscribe()})}get injector(){return this._injector}bootstrap(a,l){const d=a instanceof gg;if(!this._injector.get(RS).done)throw!d&&fa(a),new Ce(405,!1);let m;m=d?a:this._injector.get(Md).resolveComponentFactory(a),this.componentTypes.push(m.componentType);const v=function B1(i){return i.isBoundToModule}(m)?void 0:this._injector.get(jo),C=m.create(Ir.NULL,[],l||m.selector,v),T=C.location.nativeElement,x=C.injector.get(Rh,null);return x?.registerApplication(T),C.onDestroy(()=>{this.detachView(C.hostView),Mh(this.components,C),x?.unregisterApplication(T)}),this._loadComponent(C),C}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Ce(101,!1);const a=he(null);try{this._runningTick=!0,this.synchronize()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1,he(a),this.afterTick.next()}}synchronize(){let a=null;this._injector.destroyed||(a=this._injector.get(TE,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let l=0;for(;0!==this.dirtyFlags&&l++<10;)this.synchronizeOnce(a)}synchronizeOnce(a){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const l=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(l);for(let{_lView:d,notifyErrorHandler:f}of this._views)H1(d,f,l,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else a?.begin?.(),a?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:a})=>_s(a))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Mh(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(Fm,[]);[...this._bootstrapListeners,...l].forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Mh(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Ce(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(l){return new(l||i)}}static{this.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Mh(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}function Oh(i){Ph??=new WeakMap;const s=Ph.get(i);if(s)return s;const a=i.isStable.pipe((0,gi.$)(l=>l)).toPromise().then(()=>{});return Ph.set(i,a),i.onDestroy(()=>Ph?.delete(i)),a}function H1(i,s,a,l){(a||_s(i))&&cE(i,s,a&&!l?0:1)}class z1{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let CI=(()=>{class i{compileModuleSync(a){return new $d(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),f=ri(wr(a).declarations).reduce((m,v)=>{const w=ut(v);return w&&m.push(new Ns(w)),m},[]);return new z1(l,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static{this.\u0275fac=function(l){return new(l||i)}}static{this.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),PS=(()=>{class i{constructor(){this.zone=ke(en),this.changeDetectionScheduler=ke(Qa),this.applicationRef=ke(go)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(l){return new(l||i)}}static{this.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function $l({ngZoneFactory:i,ignoreChangesOutsideZone:s,scheduleInRootZone:a}){return i??=()=>new en({...St(),scheduleInRootZone:a}),[{provide:en,useFactory:i},{provide:Io,multi:!0,useFactory:()=>{const l=ke(PS,{optional:!0});return()=>l.initialize()}},{provide:Io,multi:!0,useFactory:()=>{const l=ke(OS);return()=>{l.initialize()}}},!0===s?{provide:cD,useValue:!0}:[],{provide:wl,useValue:a??yP}]}function St(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}let OS=(()=>{class i{constructor(){this.subscription=new Z_.yU,this.initialized=!1,this.zone=ke(en),this.pendingTasks=ke(Ca)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{en.assertNotInAngularZone(),queueMicrotask(()=>{null!==a&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{en.assertInAngularZone(),a??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(l){return new(l||i)}}static{this.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Ht=(()=>{class i{constructor(){this.appRef=ke(go),this.taskService=ke(Ca),this.ngZone=ke(en),this.zonelessEnabled=ke(ii),this.disableScheduling=ke(cD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Z_.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(bp):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(ke(wl,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof dv||!this.zoneIsDefined)}notify(a){if(!this.zonelessEnabled&&5===a)return;switch(a){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const l=this.useMicrotaskScheduler?gC:pC;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>l(()=>this.tick())):this.ngZone.runOutsideAngular(()=>l(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(bp+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const a=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(l){throw this.taskService.remove(a),l}finally{this.cleanup()}this.useMicrotaskScheduler=!0,gC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(a)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const a=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(a)}}static{this.\u0275fac=function(l){return new(l||i)}}static{this.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();const zt=new rt("",{providedIn:"root",factory:()=>ke(zt,pt.Optional|pt.SkipSelf)||function Xo(){return typeof $localize<"u"&&$localize.locale||mm}()}),Qo=new rt("",{providedIn:"root",factory:()=>"USD"}),xi=new rt("");function Ys(i){return!!i.platformInjector}let xI=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const d=l?.scheduleInRootZone,m=l?.ignoreChangesOutsideZone,v=[$l({ngZoneFactory:()=>function qu(i="zone.js",s){return"noop"===i?new dv:"zone.js"===i?new en(s):i}(l?.ngZone,{...St({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}),scheduleInRootZone:d}),ignoreChangesOutsideZone:m}),{provide:Qa,useExisting:Ht}],w=function XN(i,s,a){return new ec(i,s,a,!1)}(a.moduleType,this.injector,v);return function Yo(i){const s=Ys(i)?i.r3Injector:i.moduleRef.injector,a=s.get(en);return a.run(()=>{Ys(i)?i.r3Injector.resolveInjectorInitializers():i.moduleRef.resolveInjectorInitializers();const l=s.get(qn,null);let d;if(a.runOutsideAngular(()=>{d=a.onError.subscribe({next:f=>{l.handleError(f)}})}),Ys(i)){const f=()=>s.destroy(),m=i.platformInjector.get(xi);m.add(f),s.onDestroy(()=>{d.unsubscribe(),m.delete(f)})}else i.moduleRef.onDestroy(()=>{Mh(i.allPlatformModules,i.moduleRef),d.unsubscribe()});return function $1(i,s,a){try{const l=a();return II(l)?l.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(l,a,()=>{const f=s.get(RS);return f.runInitializers(),f.donePromise.then(()=>{if(function Fk(i){"string"==typeof i&&(mA=i.toLowerCase().replace(/_/g,"-"))}(s.get(zt,mm)||mm),Ys(i)){const v=s.get(go);return void 0!==i.rootComponent&&v.bootstrap(i.rootComponent),v}return function NS(i,s){const a=i.injector.get(go);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!i.instance.ngDoBootstrap)throw new Ce(-403,!1);i.instance.ngDoBootstrap(a)}s.push(i)}(i.moduleRef,i.allPlatformModules),i.moduleRef})})})}({moduleRef:w,allPlatformModules:this._modules})}bootstrapModule(a,l=[]){const d=bI({},l);return function Ks(i,s,a){const l=new $d(a);return Promise.resolve(l)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(xi,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(l){return new(l||i)(Gn(Ir))}}static{this.\u0275prov=Vt({token:i,factory:i.\u0275fac,providedIn:"platform"})}}return i})(),ci=null;const Lm=new rt("");function Zs(i,s,a=[]){const l=`Platform: ${s}`,d=new rt(l);return(f=[])=>{let m=jm();if(!m||m.injector.get(Lm,!1)){const v=[...a,...f,{provide:d,useValue:!0}];i?i(v):function Um(i){if(ci&&!ci.get(Lm,!1))throw new Ce(400,!1);(function MS(){!function qR(i){as=i}(()=>{throw new Ce(600,!1)})})(),ci=i;const s=i.get(xI);(function Fh(i){i.get(MC,null)?.forEach(a=>a())})(i)}(function Bm(i=[],s){return Ir.create({name:s,providers:[{provide:Cy,useValue:"platform"},{provide:xi,useValue:new Set([()=>ci=null])},...i]})}(v,l))}return function kh(){const s=jm();if(!s)throw new Ce(401,!1);return s}()}}function jm(){return ci?.get(xI)??null}function Q1(){return!1}let RI=(()=>{class i{static{this.__NG_ELEMENT_ID__=Xt}}return i})();function Xt(i){return function Js(i,s,a){if(_a(i)&&!a){const l=Lr(i.index,s);return new Wa(l,l)}return 175&i.type?new Wa(s[Jt],s):null}(Ut(),te(),!(16&~i))}class FS{constructor(){}supports(s){return Dl(s)}create(s){return new oF(s)}}const iF=(i,s)=>s;class oF{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||iF}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,d=0,f=null;for(;a||l;){const m=!l||a&&a.currentIndex<Vh(l,d,f)?a:l,v=Vh(m,d,f),w=m.currentIndex;if(m===l)d--,l=l._nextRemoved;else if(a=a._next,null==m.previousIndex)d++;else{f||(f=[]);const C=v-d,T=w-d;if(C!=T){for(let N=0;N<C;N++){const F=N<f.length?f[N]:f[N]=0,H=F+N;T<=H&&H<C&&(f[N]=F+1)}f[m.previousIndex]=T-C}}v!==w&&s(m,v,w)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Dl(s))throw new Ce(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,m,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let v=0;v<this.length;v++)f=s[v],m=this._trackByFn(v,f),null!==a&&Object.is(a.trackById,m)?(l&&(a=this._verifyReinsertion(a,f,m,v)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,m,v),l=!0),a=a._next}else d=0,function YE(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Symbol.iterator]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,v=>{m=this._trackByFn(d,v),null!==a&&Object.is(a.trackById,m)?(l&&(a=this._verifyReinsertion(a,v,m,d)),Object.is(a.item,v)||this._addIdentityChange(a,v)):(a=this._mismatch(a,v,m,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,d)):s=this._addAfter(new NI(a,l),f,d),s}_verifyReinsertion(s,a,l,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new zl),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zl),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class NI{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ic{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class zl{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new Ic,this.map.set(a,l)),l.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Vh(i,s,a){const l=i.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+s+d}class Lh{constructor(){}supports(s){return s instanceof Map||Vs(s)}create(){return new VS}}class VS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Vs(s)))throw new Ce(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const f=d._prev,m=d._next;return f&&(f._next=m),m&&(m._prev=f),d._next=null,d._prev=null,d}const l=new LS(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class LS{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mo(){return new Qm([new FS])}let Qm=(()=>{class i{static{this.\u0275prov=Vt({token:i,providedIn:"root",factory:mo})}constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||mo()),deps:[[i,new $f,new jf]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new Ce(901,!1)}}return i})();function kI(){return new Bh([new Lh])}let Bh=(()=>{class i{static{this.\u0275prov=Vt({token:i,providedIn:"root",factory:kI})}constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||kI()),deps:[[i,new $f,new jf]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(l)return l;throw new Ce(901,!1)}}return i})();const FI=Zs(null,"core",[]);let Ym=(()=>{class i{constructor(a){}static{this.\u0275fac=function(l){return new(l||i)(Gn(go))}}static{this.\u0275mod=xu({type:i})}static{this.\u0275inj=Pf({})}}return i})(),XI=!1;function Zl(){return Xi([{provide:Cv,useFactory:()=>{let i=!0;return Cr()&&(i=!!ke(Es,{optional:!0})?.get(Fi,null)),i&&Ar("NgHydration"),i}},{provide:Io,useValue:()=>{(function oD(i){rD=i})(!1),Cr()&&ke(Cv)&&(function In(){const i=Mo();let s;for(const a of i.body.childNodes)if(a.nodeType===Node.COMMENT_NODE&&a.textContent?.trim()===Lp){s=a;break}if(!s)throw new Ce(-507,!1)}(),function yF(){XI||(XI=!0,function Iv(){bs=nl}(),function Rn(){hm=Sk}(),function l1(){cI=c1}(),function pA(){fA=Rk}(),function $D(){ZE=jD}(),function xN(){gD=bl,ks=PE}(),function Ai(){aD=_N}(),function CT(){AO=WB}())}())},multi:!0},{provide:BC,useFactory:()=>Cr()&&ke(Cv)},{provide:Fm,useFactory:()=>{if(Cr()&&ke(Cv)){const i=ke(go);return ke(Ir),()=>{(function YI(i){return Oh(i)})(i).then(()=>{!function sD(i){const s=i._views;for(const a of s){const l=NC(a);null!==l&&null!==l[rn]&&(Sn(l)?pg(l):El(l))}}(i)})}}return()=>{}},multi:!0}])}function ZI(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function JI(i,s=NaN){return isNaN(parseFloat(i))||isNaN(Number(i))?s:Number(i)}function AF(i,s){Ar("NgSignals");const a=function me(i){const s=Object.create(pi);s.computation=i;const a=()=>{if(nn(s),le(s),s.value===et)throw s.error;return s.value};return a[pe]=s,a}(i);return s?.equal&&(a[pe].equal=s.equal),a}function Qh(i){const s=he(null);try{return i()}finally{he(s)}}const tb=new rt("",{providedIn:"root",factory:()=>ke(SF)});let SF=(()=>{class i{static{this.\u0275prov=Vt({token:i,providedIn:"root",factory:()=>new YS})}}return i})();class YS{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=ke(Ca),this.taskId=null}scheduleEffect(s){if(this.enqueue(s),null===this.taskId){const a=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(a),this.taskId=null})}}enqueue(s){const a=s.creationZone;this.queues.has(a)||this.queues.set(a,new Set);const l=this.queues.get(a);l.has(s)||(this.queuedEffectCount++,l.add(s))}flush(){for(;this.queuedEffectCount>0;)for(const[s,a]of this.queues)null===s?this.flushQueue(a):s.run(()=>this.flushQueue(a))}flushQueue(s){for(const a of s)s.delete(a),this.queuedEffectCount--,a.run()}}class a_{constructor(s,a,l,d,f,m){this.scheduler=s,this.effectFn=a,this.creationZone=l,this.injector=f,this.watcher=function pU(i,s,a){const l=Object.create(KR);a&&(l.consumerAllowSignalWrites=!0),l.fn=i,l.schedule=s;const d=w=>{l.cleanupFn=w};return l.ref={notify:()=>Zr(l),run:()=>{if(null===l.fn)return;if(function be(){return Ne}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(l.dirty=!1,l.hasRun&&!kn(l))return;l.hasRun=!0;const w=Zt(l);try{l.cleanupFn(),l.cleanupFn=a0,l.fn(d)}finally{ur(l,w)}},cleanup:()=>l.cleanupFn(),destroy:()=>function m(w){(function f(w){return null===w.fn&&null===w.schedule})(w)||(Eo(w),w.cleanupFn(),w.fn=null,w.schedule=null,w.cleanupFn=a0)}(l),[pe]:l},l.ref}(v=>this.runEffect(v),()=>this.schedule(),m),this.unregisterOnDestroy=d?.onDestroy(()=>this.destroy())}runEffect(s){try{this.effectFn(s)}catch(a){this.injector.get(qn,null,{optional:!0})?.handleError(a)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function nb(i,s){Ar("NgSignals"),!s?.injector&&jc();const a=s?.injector??ke(Ir),l=!0!==s?.manualCleanup?a.get(vp):null,d=new a_(a.get(tb),i,typeof Zone>"u"?null:Zone.current,l,a,s?.allowSignalWrites??!1),f=a.get(RI,null,{optional:!0});return f&&8&f._lView[Ue]?(f._lView[Qf]??=[]).push(d.watcher.notify):d.watcher.notify(),d}function RF(i){const s=ut(i);if(!s)return null;const a=new Ns(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}}},Mt=>{Mt(Mt.s=896)}]);